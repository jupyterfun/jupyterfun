<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="generator" content="Relearn 5.2.1+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="">
    <meta name="author" content="吴明文">
    <title>jupyter.fun</title>
    <link href="/index.json" rel="alternate" type="application/json" title="jupyter.fun"><link rel="icon" href="/favicon.png" type="image/png" />
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/css/fontawesome-all.min.css?1733232841" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1733232841" rel="stylesheet"></noscript>
    <link href="/css/featherlight.min.css?1733232841" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/featherlight.min.css?1733232841" rel="stylesheet"></noscript>
    <link href="/css/auto-complete.css?1733232841" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1733232841" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1733232841" rel="stylesheet">
    <link href="/css/nucleus.css?1733232841" rel="stylesheet">
    <link href="/css/fonts.css?1733232841" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1733232841" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1733232841" rel="stylesheet">
    <link href="/css/theme-blue.css?1733232841" rel="stylesheet" id="variant-style">
    <link href="/css/ie.css?1733232841" rel="stylesheet">
    <link href="/css/variant.css?1733232841" rel="stylesheet">
    <link href="/css/print.css?1733232841" rel="stylesheet" media="print">
    <link href="/css/format-print.css?1733232841" rel="stylesheet">
    <script src="/js/variant.js?1733232841"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var index_url="/index.json";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = '复制到剪贴板';
      window.T_Copied_to_clipboard = '复制到剪贴板！';
      window.T_Copy_link_to_clipboard = '将链接复制到剪贴板';
      window.T_Link_copied_to_clipboard = '链接复制到剪贴板！';
      // some further base stuff
      var baseUriFull='/';
      window.variants && variants.init( [ 'blue' ] );
    </script>
    <script src="/js/jquery.min.js?1733232841" defer></script>
  </head>
  <body class="mobile-support print" data-url="/">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-print-link">
            <a class="print-link" title='打印整章 (CTRL+ALT+p)' href="/index.print.html">
              <i class="fas fa-print fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" title='导航 (CTRL+ALT+m)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <span id="toc-menu" title='目录 (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <meta itemprop="itemListOrder" content="Descending" />
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><meta itemprop="position" content="1" /><a itemprop="item" href="/" aria-disabled="true"><span itemprop="name">jupyter.fun</span></a></li>
            </ol>
          </div>
          <div class="default-animation progress">
            <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#python">Python</a></li>
  </ul>
</nav>
            </div>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable home" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="home deprecated">

<h1 id="jupyter-乐趣">Jupyter 乐趣</h1>
<p>这是真正的学习时代, 云端大脑装着任何你需要的知识, 而你要做的, 只是简单的理解基本概念, 用自然语言组织你的问题&hellip;</p>
<p>安装 <a href="https://www.anaconda.com/products/distribution">Anaconda</a>，将正文末尾的 <code>jupyter附件</code> 下载到本地（或到 <a href="https://github.com/jupyterfun">jupyterfun</a> 下载源码，所有 <code>.ipynb</code> 文件及附件都有），启动 jupyter，直接运行更棒。</p>
<h2 id="python">Python</h2>
<p>本站的知识已经价值不大, 这是早期的知识整理, AI 的诞生, 只需要极简的知识&hellip;&hellip; 2024, 11, 22</p>

<ul class="children children-li children-sort-weight">
<li><a href="/python/" >Python 语法基础知识详解和查询手册</a></li><ul>
<li><a href="/python/01_numeric/" >数字类型概述</a></li><ul>
<li><a href="/python/01_numeric/02_int/" >整数及其位运算</a></li><ul></ul>
<li><a href="/python/01_numeric/03_bool/" >布尔值及布尔运算</a></li><ul></ul>
<li><a href="/python/01_numeric/04_float/" >浮点数</a></li><ul></ul>
<li><a href="/python/01_numeric/05_complex/" >复数</a></li><ul></ul>
<li><a href="/python/01_numeric/06_number_operations/" >数字运算</a></li><ul></ul></ul>
<li><a href="/python/02_string/" >字符串概述</a></li><ul>
<li><a href="/python/02_string/02_concatenated_string/" >字符串拼接</a></li><ul></ul>
<li><a href="/python/02_string/03_escape_character/" >转义字符</a></li><ul></ul>
<li><a href="/python/02_string/04_str.count/" >str.count 统计</a></li><ul></ul>
<li><a href="/python/02_string/05_str.replace/" >str.replace 替换</a></li><ul></ul>
<li><a href="/python/02_string/06_str.expandtabs/" >str.expandtabs 替换制表符</a></li><ul></ul>
<li><a href="/python/02_string/07_str.split/" >str.split 拆分</a></li><ul></ul>
<li><a href="/python/02_string/08_str.rsplit/" >str.rsplit 拆分</a></li><ul></ul>
<li><a href="/python/02_string/09_str.partition/" >str.partition 拆分</a></li><ul></ul>
<li><a href="/python/02_string/10_str.rpartition/" >str.rpartition 拆分</a></li><ul></ul>
<li><a href="/python/02_string/11_str.splitlines/" >str.splitlines 按行拆分</a></li><ul></ul>
<li><a href="/python/02_string/12_str.strip/" >str.strip 移除两边字符</a></li><ul></ul>
<li><a href="/python/02_string/13_str.lstrip/" >str.lstrip 移除左边字符</a></li><ul></ul>
<li><a href="/python/02_string/14_str.rstrip/" >str.rstrip 移除右边字符</a></li><ul></ul>
<li><a href="/python/02_string/15_str.find/" >str.find 查找最小索引</a></li><ul></ul>
<li><a href="/python/02_string/16_str.rfind/" >str.rfind 查找最大索引</a></li><ul></ul>
<li><a href="/python/02_string/17_str.index/" >str.index 查找最小索引</a></li><ul></ul>
<li><a href="/python/02_string/18_str.rindex/" >str.rindex 查找最大索引</a></li><ul></ul>
<li><a href="/python/02_string/19_str.join/" >str.join 拼接字符串</a></li><ul></ul>
<li><a href="/python/02_string/20_str.startswith/" >str.startswith 指定字符串开头？</a></li><ul></ul>
<li><a href="/python/02_string/21_str.endswith/" >str.endswith 指定字符串结尾？</a></li><ul></ul>
<li><a href="/python/02_string/22_str.ljust/" >str.ljust 左对齐</a></li><ul></ul>
<li><a href="/python/02_string/23_str.center/" >str.center 居中</a></li><ul></ul>
<li><a href="/python/02_string/24_str.rjust/" >str.rjust 右对齐</a></li><ul></ul>
<li><a href="/python/02_string/25_str.format/" >str.format 格式化</a></li><ul></ul>
<li><a href="/python/02_string/26_str.format_map/" >str.format_map 格式化</a></li><ul></ul>
<li><a href="/python/02_string/27_f-string/" >f-string 格式化字符串</a></li><ul></ul>
<li><a href="/python/02_string/28_string_operators/" >字符串操作符</a></li><ul></ul>
<li><a href="/python/02_string/29_str.encode/" >str.encode 编码为字节串</a></li><ul></ul>
<li><a href="/python/02_string/30_str.capitalize/" >str.capitalize 首字符大写</a></li><ul></ul>
<li><a href="/python/02_string/31_str.casefold/" >str.casefold 消除大小写</a></li><ul></ul>
<li><a href="/python/02_string/32_str.lower/" >str.lower 转小写</a></li><ul></ul>
<li><a href="/python/02_string/33_str.title/" >str.title 单词首字母大写</a></li><ul></ul>
<li><a href="/python/02_string/34_str.upper/" >str.upper 转大写</a></li><ul></ul>
<li><a href="/python/02_string/35_str.swapcase/" >str.swapcase 大小写互转</a></li><ul></ul>
<li><a href="/python/02_string/36_str.zfill/" >str.zfill 填充 0</a></li><ul></ul>
<li><a href="/python/02_string/37_str.translate/" >str.translate 按表转换</a></li><ul></ul>
<li><a href="/python/02_string/38_str.maketrans/" >str.maketrans 生成转换表</a></li><ul></ul>
<li><a href="/python/02_string/39_str.isalnum/" >str.isalnum 是字母或数字？</a></li><ul></ul>
<li><a href="/python/02_string/40_str.isalpha/" >str.isalpha 是字母（包括汉字等）？</a></li><ul></ul>
<li><a href="/python/02_string/41_str.isdecimal/" >str.isdecimal 是十进制字符？</a></li><ul></ul>
<li><a href="/python/02_string/42_str.isdigit/" >str.isdigit 是数字？</a></li><ul></ul>
<li><a href="/python/02_string/43_str.isnumeric/" >str.isnumeric 是数值字符？</a></li><ul></ul>
<li><a href="/python/02_string/44_str.islower/" >str.islower 是小写？</a></li><ul></ul>
<li><a href="/python/02_string/45_str.isupper/" >str.isupper 是大写？</a></li><ul></ul>
<li><a href="/python/02_string/46_str.istitle/" >str.istitle 是标题字符串？</a></li><ul></ul>
<li><a href="/python/02_string/47_str.isascii/" >str.isascii 是 ASCII 字符？</a></li><ul></ul>
<li><a href="/python/02_string/48_str.isidentifier/" >str.isidentifier 是有效标识符？</a></li><ul></ul>
<li><a href="/python/02_string/49_str.isprintable/" >str.isprintable 是可打印字符？</a></li><ul></ul>
<li><a href="/python/02_string/50_str.isspace/" >str.isspace 是空白字符？</a></li><ul></ul>
<li><a href="/python/02_string/51_str.removeprefix/" >str.removeprefix  移除前缀</a></li><ul></ul>
<li><a href="/python/02_string/52_str.removesuffix/" >str.removesuffix 移除后缀</a></li><ul></ul></ul>
<li><a href="/python/03_list/" >列表</a></li><ul>
<li><a href="/python/03_list/02_list_comprehension/" >列表推导式</a></li><ul></ul>
<li><a href="/python/03_list/03_list_indexes_and_slices/" >列表的索引和切片</a></li><ul></ul>
<li><a href="/python/03_list/15_list.clear/" >list.clear 删除所有元素</a></li><ul></ul>
<li><a href="/python/03_list/04_list_operator/" >列表操作符</a></li><ul></ul>
<li><a href="/python/03_list/05_list.append/" >list.append 添加一个元素</a></li><ul></ul>
<li><a href="/python/03_list/06_list.extend/" >list.extend 加入可迭代对象中元素</a></li><ul></ul>
<li><a href="/python/03_list/07_list.insert/" >list.insert 插入一个元素</a></li><ul></ul>
<li><a href="/python/03_list/08_list.sort/" >list.sort 对列表原地排序</a></li><ul></ul>
<li><a href="/python/03_list/09_list.reverse/" >list.reverse 反转列表中元素</a></li><ul></ul>
<li><a href="/python/03_list/10_list.pop/" >list.pop 删除元素并返回</a></li><ul></ul>
<li><a href="/python/03_list/11_list.remove/" >list.remove 移除一个元素</a></li><ul></ul>
<li><a href="/python/03_list/12_list.count/" >list.count 统计元素出现次数</a></li><ul></ul>
<li><a href="/python/03_list/13_list.index/" >list.index 查找最小索引</a></li><ul></ul>
<li><a href="/python/03_list/14_list.copy/" >list.copy 列表的一个浅拷贝</a></li><ul></ul></ul>
<li><a href="/python/04_tuple/" >元组概述</a></li><ul>
<li><a href="/python/04_tuple/02_tuple.count/" >tuple.count 统计元素出现次数</a></li><ul></ul>
<li><a href="/python/04_tuple/03_tuple.index/" >tuple.index 查找元素索引</a></li><ul></ul>
<li><a href="/python/04_tuple/04_operator/" >元组操作符</a></li><ul></ul></ul>
<li><a href="/python/05_sequence/" >序列类型概述</a></li><ul>
<li><a href="/python/05_sequence/02_range/" >range 对象</a></li><ul></ul>
<li><a href="/python/05_sequence/03_index_slice/" >序列索引和切片</a></li><ul></ul>
<li><a href="/python/05_sequence/04_common_operations/" >序列通用操作</a></li><ul></ul></ul>
<li><a href="/python/06_set/" >集合概述</a></li><ul>
<li><a href="/python/06_set/02_set.isdisjoint/" >set.isdisjoint 交集为空吗？</a></li><ul></ul>
<li><a href="/python/06_set/03_set.issubset/" >set.issubset 是子集吗？</a></li><ul></ul>
<li><a href="/python/06_set/04_set.issuperset/" >set.issuperset 是超集吗？</a></li><ul></ul>
<li><a href="/python/06_set/05_set.union/" >set.union 并集</a></li><ul></ul>
<li><a href="/python/06_set/06_set.intersection/" >set.intersection 交集</a></li><ul></ul>
<li><a href="/python/06_set/07_set.difference/" >set.difference 差集</a></li><ul></ul>
<li><a href="/python/06_set/08_set.symmetric_difference/" >set.symmetric_difference 对称差</a></li><ul></ul>
<li><a href="/python/06_set/09_set.copy/" >set.copy 浅拷贝</a></li><ul></ul>
<li><a href="/python/06_set/10_set.update/" >set.update 合并更新</a></li><ul></ul>
<li><a href="/python/06_set/11_set.intersection_update/" >set.intersection_update 交集更新</a></li><ul></ul>
<li><a href="/python/06_set/12_set.difference_update/" >set.difference_update 差集更新</a></li><ul></ul>
<li><a href="/python/06_set/13_set.symmetric_difference_update/" >set ^= other 对称差集更新</a></li><ul></ul>
<li><a href="/python/06_set/14_set.add/" >set.add 添加元素</a></li><ul></ul>
<li><a href="/python/06_set/15_set.remove/" >set.remove 删除元素</a></li><ul></ul>
<li><a href="/python/06_set/16_set.discard/" >set.discard 删除元素</a></li><ul></ul>
<li><a href="/python/06_set/17_set.pop/" >set.pop 删除元素并返回</a></li><ul></ul>
<li><a href="/python/06_set/18_set.clear/" >set.clear 清空集合元素</a></li><ul></ul></ul>
<li><a href="/python/07_dictionary/" >字典概述</a></li><ul>
<li><a href="/python/07_dictionary/02_dict.keys/" >dict.keys 键视图</a></li><ul></ul>
<li><a href="/python/07_dictionary/03_dict.values/" >dict.values 值视图</a></li><ul></ul>
<li><a href="/python/07_dictionary/04_dict.items/" >dict.items 键值对视图</a></li><ul></ul>
<li><a href="/python/07_dictionary/05_dict.get/" >dict.get 获取某个键的值</a></li><ul></ul>
<li><a href="/python/07_dictionary/06_dict.copy/" >dict.copy 浅拷贝</a></li><ul></ul>
<li><a href="/python/07_dictionary/07_dict.pop/" >dict.pop 删除元素并返回值</a></li><ul></ul>
<li><a href="/python/07_dictionary/08_dict.popitem/" >dict.popitem 删除元素并返回键值对</a></li><ul></ul>
<li><a href="/python/07_dictionary/09_dict.fromkeys/" >dict.fromkeys 创建字典</a></li><ul></ul>
<li><a href="/python/07_dictionary/10_dict.clear/" >dict.clear 清空字典元素</a></li><ul></ul>
<li><a href="/python/07_dictionary/11_dict.setdefault/" >dict.setdefault 获取或插入元素</a></li><ul></ul>
<li><a href="/python/07_dictionary/12_dict.update/" >dict.update 更新字典</a></li><ul></ul>
<li><a href="/python/07_dictionary/13_loop_through/" >字典遍历</a></li><ul></ul>
<li><a href="/python/07_dictionary/14_operator/" >字典操作符</a></li><ul></ul></ul>
<li><a href="/python/08_other_types/" >生成器表达式和推导式</a></li><ul>
<li><a href="/python/08_other_types/01_none/" >空值 None</a></li><ul></ul>
<li><a href="/python/08_other_types/03_other_types/" >其他内置类型</a></li><ul></ul></ul>
<li><a href="/python/09_operator/" >操作符概述</a></li><ul>
<li><a href="/python/09_operator/02_compare/" >比较运算符</a></li><ul></ul>
<li><a href="/python/09_operator/03_precedence/" >操作符优先级</a></li><ul></ul>
<li><a href="/python/09_operator/04_special/" >操作符特殊用法</a></li><ul></ul></ul>
<li><a href="/python/10_statement/" >表达式语句</a></li><ul>
<li><a href="/python/10_statement/02_assignment/" >赋值语句</a></li><ul></ul>
<li><a href="/python/10_statement/03_if/" >if</a></li><ul></ul>
<li><a href="/python/10_statement/04_for/" >for</a></li><ul></ul>
<li><a href="/python/10_statement/05_while/" >while</a></li><ul></ul>
<li><a href="/python/10_statement/06_break/" >break</a></li><ul></ul>
<li><a href="/python/10_statement/07_continue/" >continue</a></li><ul></ul>
<li><a href="/python/10_statement/08_del/" >del</a></li><ul></ul>
<li><a href="/python/10_statement/09_pass/" >pass</a></li><ul></ul>
<li><a href="/python/10_statement/10_def/" >def</a></li><ul></ul>
<li><a href="/python/10_statement/11_return/" >return</a></li><ul></ul>
<li><a href="/python/10_statement/12_yield/" >yield</a></li><ul></ul>
<li><a href="/python/10_statement/13_class/" >class 语句</a></li><ul></ul>
<li><a href="/python/10_statement/14_try/" >try</a></li><ul></ul>
<li><a href="/python/10_statement/15_raise/" >raise</a></li><ul></ul>
<li><a href="/python/10_statement/16_with/" >with</a></li><ul></ul>
<li><a href="/python/10_statement/17_assert/" >assert</a></li><ul></ul>
<li><a href="/python/10_statement/18_import/" >import</a></li><ul></ul>
<li><a href="/python/10_statement/19_global/" >global</a></li><ul></ul>
<li><a href="/python/10_statement/20_nonlocal/" >nonlocal</a></li><ul></ul></ul>
<li><a href="/python/11_built-in_function/" >abs() 数字取绝对值</a></li><ul>
<li><a href="/python/11_built-in_function/02_all/" >all() 所有元素布尔值为真？</a></li><ul></ul>
<li><a href="/python/11_built-in_function/03_any/" >any() 有一个元素布尔值为真？</a></li><ul></ul>
<li><a href="/python/11_built-in_function/04_ascii/" >ascii() 返回对象的可打印字符串</a></li><ul></ul>
<li><a href="/python/11_built-in_function/05_bin/" >bin() 整数的二进制形式</a></li><ul></ul>
<li><a href="/python/11_built-in_function/06_bool/" >bool 返回对象的布尔值</a></li><ul></ul>
<li><a href="/python/11_built-in_function/07_bytes/" >bytes 创建 bytes 对象</a></li><ul></ul>
<li><a href="/python/11_built-in_function/08_callable/" >callable() 是可调用对象？</a></li><ul></ul>
<li><a href="/python/11_built-in_function/09_chr/" >chr() 返回 Unicode 码位值对应字符</a></li><ul></ul>
<li><a href="/python/11_built-in_function/10_classmethod/" >classmethod 封装函数为类方法</a></li><ul></ul>
<li><a href="/python/11_built-in_function/11_compile/" >compile() 创建代码对象</a></li><ul></ul>
<li><a href="/python/11_built-in_function/12_complex/" >complex 创建复数</a></li><ul></ul>
<li><a href="/python/11_built-in_function/13_delattr/" >delattr() 删除对象属性</a></li><ul></ul>
<li><a href="/python/11_built-in_function/14_dict/" >dict 创建字典</a></li><ul></ul>
<li><a href="/python/11_built-in_function/15_dir/" >dir() 返回对象属性列表</a></li><ul></ul>
<li><a href="/python/11_built-in_function/16_divmod/" >divmod() 求两个数的商和余</a></li><ul></ul>
<li><a href="/python/11_built-in_function/17_enumerate/" >enumerate 枚举</a></li><ul></ul>
<li><a href="/python/11_built-in_function/18_eval/" >eval() 解析字符串或代码并求值</a></li><ul></ul>
<li><a href="/python/11_built-in_function/19_exec/" >exec() 解析字符串或代码并求值</a></li><ul></ul>
<li><a href="/python/11_built-in_function/20_filter/" >filter 真值元素筛选</a></li><ul></ul>
<li><a href="/python/11_built-in_function/21_float/" >float 创建浮点数</a></li><ul></ul>
<li><a href="/python/11_built-in_function/22_format/" >format() 格式化</a></li><ul></ul>
<li><a href="/python/11_built-in_function/23_frozenset/" >frozenset 创建不可变集合</a></li><ul></ul>
<li><a href="/python/11_built-in_function/24_getattr/" >getattr() 获取对象的属性</a></li><ul></ul>
<li><a href="/python/11_built-in_function/25_globals/" >globals() 返回全局变量字典</a></li><ul></ul>
<li><a href="/python/11_built-in_function/26_hasattr/" >hasattr() 是对象的属性吗？</a></li><ul></ul>
<li><a href="/python/11_built-in_function/27_hash/" >hash() 返回对象的哈希值</a></li><ul></ul>
<li><a href="/python/11_built-in_function/28_help/" >help 启动帮助系统</a></li><ul></ul>
<li><a href="/python/11_built-in_function/29_hex/" >hex() 整数的十六进制形式</a></li><ul></ul>
<li><a href="/python/11_built-in_function/30_id/" >id() 返回对象的唯一标识</a></li><ul></ul>
<li><a href="/python/11_built-in_function/31_input/" >input() 接受输入返回字符串</a></li><ul></ul>
<li><a href="/python/11_built-in_function/32_int/" >int 创建整数</a></li><ul></ul>
<li><a href="/python/11_built-in_function/33_isinstance/" >isinstance() 是给定类的实例？</a></li><ul></ul>
<li><a href="/python/11_built-in_function/34_issubclass/" >issubclass() 是给定类的子类吗？</a></li><ul></ul>
<li><a href="/python/11_built-in_function/35_iter/" >iter() 转迭代器</a></li><ul></ul>
<li><a href="/python/11_built-in_function/36_len/" >len() 返回元素个数</a></li><ul></ul>
<li><a href="/python/11_built-in_function/37_list/" >list 创建列表</a></li><ul></ul>
<li><a href="/python/11_built-in_function/38_locals/" >locals() 返回局部变量的字典</a></li><ul></ul>
<li><a href="/python/11_built-in_function/39_map/" >map 以给定函数转换元素</a></li><ul></ul>
<li><a href="/python/11_built-in_function/40_max/" >max() 求最大项</a></li><ul></ul>
<li><a href="/python/11_built-in_function/41_min/" >min() 求最小项</a></li><ul></ul>
<li><a href="/python/11_built-in_function/42_next/" >next() 返回迭代器下一个元素</a></li><ul></ul>
<li><a href="/python/11_built-in_function/43_object/" >object 所有类的基类</a></li><ul></ul>
<li><a href="/python/11_built-in_function/44_oct/" >oct() 整数的八进制形式</a></li><ul></ul>
<li><a href="/python/11_built-in_function/45_open/" >open() 打开文件</a></li><ul></ul>
<li><a href="/python/11_built-in_function/46_ord/" >ord() 返回单个字符 Unicode 码位值</a></li><ul></ul>
<li><a href="/python/11_built-in_function/47_pow/" >pow() 幂运算并取余</a></li><ul></ul>
<li><a href="/python/11_built-in_function/48_print/" >print()</a></li><ul></ul>
<li><a href="/python/11_built-in_function/49_property/" >property 返回 property 属性</a></li><ul></ul>
<li><a href="/python/11_built-in_function/50_range/" >range 创建 range 序列</a></li><ul></ul>
<li><a href="/python/11_built-in_function/51_repr/" >repr() 返回对象的可打印字符串</a></li><ul></ul>
<li><a href="/python/11_built-in_function/52_reversed/" >reversed 序列逆置</a></li><ul></ul>
<li><a href="/python/11_built-in_function/53_round/" >round() 数字舍入</a></li><ul></ul>
<li><a href="/python/11_built-in_function/54_set/" >set 创建集合</a></li><ul></ul>
<li><a href="/python/11_built-in_function/55_setattr/" >setattr() 设置或新增属性</a></li><ul></ul>
<li><a href="/python/11_built-in_function/56_slice/" >slice 创建切片对象</a></li><ul></ul>
<li><a href="/python/11_built-in_function/57_sorted/" >sorted() 返回排序列表</a></li><ul></ul>
<li><a href="/python/11_built-in_function/58_staticmethod/" >staticmethod 封装函数为静态方法</a></li><ul></ul>
<li><a href="/python/11_built-in_function/59_str/" >str 创建字符串</a></li><ul></ul>
<li><a href="/python/11_built-in_function/60_sum/" >sum() 数字求和或序列拼接</a></li><ul></ul>
<li><a href="/python/11_built-in_function/61_super/" >super 调用委托给父类或兄弟类</a></li><ul></ul>
<li><a href="/python/11_built-in_function/62_tuple/" >tuple 创建元组</a></li><ul></ul>
<li><a href="/python/11_built-in_function/63_type/" >type 判断类型或创建类</a></li><ul></ul>
<li><a href="/python/11_built-in_function/64_vars/" >vars() 返回对象的变量字典</a></li><ul></ul>
<li><a href="/python/11_built-in_function/65_zip/" >zip 重组可迭代对象</a></li><ul></ul></ul>
<li><a href="/python/12_function/" >函数概述</a></li><ul>
<li><a href="/python/12_function/02_function_definition/" >函数定义</a></li><ul></ul>
<li><a href="/python/12_function/03_formal_parameter/" >函数形参</a></li><ul></ul>
<li><a href="/python/12_function/04_return_value/" >函数返回值</a></li><ul></ul>
<li><a href="/python/12_function/05_recursion/" >递归函数</a></li><ul></ul>
<li><a href="/python/12_function/06_doc/" >函数文档</a></li><ul></ul>
<li><a href="/python/12_function/07_function_call/" >函数调用</a></li><ul></ul>
<li><a href="/python/12_function/08_lambda/" >lambda 函数</a></li><ul></ul>
<li><a href="/python/12_function/09_generator/" >生成器函数</a></li><ul></ul></ul>
<li><a href="/python/13_exception/" >错误和异常</a></li><ul>
<li><a href="/python/13_exception/02_handling/" >处理异常</a></li><ul></ul>
<li><a href="/python/13_exception/03_raising/" >抛出异常</a></li><ul></ul>
<li><a href="/python/13_exception/04_user_defined/" >自定义异常</a></li><ul></ul>
<li><a href="/python/13_exception/05_finally/" >finally 清理操作</a></li><ul></ul></ul>
<li><a href="/python/14_file/" >文件对象概述</a></li><ul>
<li><a href="/python/14_file/02_read/" >读取文件内容</a></li><ul></ul>
<li><a href="/python/14_file/03_write/" >文件写入内容</a></li><ul></ul></ul>
<li><a href="/python/15_module/" >模块概述</a></li><ul>
<li><a href="/python/15_module/02_create_module/" >创建模块</a></li><ul></ul>
<li><a href="/python/15_module/04_executable_file/" >可执行文件</a></li><ul></ul>
<li><a href="/python/15_module/05_import_code/" >导入操作</a></li><ul></ul></ul>
<li><a href="/python/16_class/" >面向对象概述</a></li><ul>
<li><a href="/python/16_class/02_class_definition/" >类定义</a></li><ul></ul>
<li><a href="/python/16_class/03_instance/" >实例</a></li><ul></ul>
<li><a href="/python/16_class/04_object/" >对象</a></li><ul></ul>
<li><a href="/python/16_class/05_name/" >名称</a></li><ul></ul>
<li><a href="/python/16_class/06_variable/" >变量</a></li><ul></ul>
<li><a href="/python/16_class/07_attribute/" >属性</a></li><ul></ul>
<li><a href="/python/16_class/08_method/" >方法</a></li><ul></ul>
<li><a href="/python/16_class/09_namespace/" >命名空间</a></li><ul></ul>
<li><a href="/python/16_class/10_scope/" >作用域</a></li><ul></ul>
<li><a href="/python/16_class/11_create_instance/" >创建实例</a></li><ul></ul>
<li><a href="/python/16_class/12_attribute_operation/" >属性操作</a></li><ul></ul>
<li><a href="/python/16_class/13_method_operation/" >方法操作</a></li><ul></ul>
<li><a href="/python/16_class/14_inheritance/" >类继承</a></li><ul></ul></ul></ul>
<li><a href="/regex/" >通俗易懂 Python 正则表达式</a></li><ul></ul>
<li><a href="/numpy/" >Numpy 基础快速了解和查询</a></li><ul></ul>
<li><a href="/pandas/" >Pandas 基础快速了解和查询</a></li><ul></ul>
<li><a href="/matplotlib/" >Matpotlib 快速入门</a></li><ul></ul>
<li><a href="/statistics/" >数理统计、机器学习入门</a></li><ul>
<li><a href="/statistics/statistics1/" >描述统计</a></li><ul></ul>
<li><a href="/statistics/statistics2/" >推断统计</a></li><ul></ul>
<li><a href="/statistics/statistics3/" >线性回归</a></li><ul></ul>
<li><a href="/statistics/statistics4/" >逻辑回归</a></li><ul></ul>
<li><a href="/statistics/statistics5/" >分类模型评估</a></li><ul></ul>
<li><a href="/statistics/statistics6/" >KNN 算法</a></li><ul></ul>
<li><a href="/statistics/statistics7/" >朴素贝叶斯</a></li><ul></ul>
<li><a href="/statistics/statistics8/" >决策树</a></li><ul></ul>
<li><a href="/statistics/statistics9/" >K-Means 算法</a></li><ul></ul></ul>
</ul>

            <footer class="footline">
            </footer>
          </article>

              <section>
          <article class="default">
<h1>Python 语法基础知识详解和查询手册</h1>

<p>python 很重要, 但不需要这么多知识&hellip;&hellip; 2024. 11. 22</p>

            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>数字类型概述</h1>

<p>数字类型属于内置类型。有三种不同的数字类型：整数，浮点数和复数。</p>
<p>整数通常只有数字，浮点数有小数点，而复数有实部（省略则为 0）和虚部，虚部必须有 J 或 j。</p>
<p>它们的类型分别是 int，float 和 complex。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(<span style="color:#ae81ff">1</span>), type(<span style="color:#ae81ff">1.0</span>), type(<span style="color:#ae81ff">1</span>j)
</span></span></code></pre></div><pre><code>(int, float, complex)
</code></pre>
<p>它们虽然属于不同的类型，但 Python 完全支持其混合运算。</p>
<p>而且布尔类型属于整数类型的子类型，布尔类型也可参与混合运算。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">True</span><span style="color:#f92672">/</span><span style="color:#ae81ff">3</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1.5</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>J
</span></span></code></pre></div><pre><code>(1.8333333333333333-1j)
</code></pre>
<p>数字之间比较时，比较的是它们的精度决定的精确值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">True</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1.0</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>对于不同类型的数字，只要精确值相等，哈希值必定相等：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>hash(<span style="color:#66d9ef">True</span>) <span style="color:#f92672">==</span> hash(<span style="color:#ae81ff">1</span>) <span style="color:#f92672">==</span> hash(<span style="color:#ae81ff">1.0</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>因此作为集合的元素时，它们是一个元素；作为字典的键时，是同一个键。但这不是明智之举，因为浮点数存在精度问题：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#66d9ef">True</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1.0</span>}
</span></span></code></pre></div><pre><code>{True}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#66d9ef">True</span>:<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1.0</span>:<span style="color:#ae81ff">3</span>}
</span></span></code></pre></div><pre><code>{True: 3}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1.00000000000000009</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>整数，浮点数和复数的构造函数分别是：<a href="../11_built-in_function/32_int">int()</a>，<a href="../11_built-in_function/21_float">float()</a> 和 <a href="../11_built-in_function/12_complex">complex()</a>。构造细节详见相应内置函数知识点。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int(<span style="color:#e6db74">&#39;1&#39;</span>), float(<span style="color:#e6db74">&#39;1.0&#39;</span>), complex(<span style="color:#e6db74">&#39;1&#39;</span>)
</span></span></code></pre></div><pre><code>(1, 1.0, (1+0j))
</code></pre>
<p>关于各数字类型的特性和详细介绍见后面章节。</p>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/01_numeric/_index.files/01_numeric.ipynb">01_numeric.ipynb</a> (4 KB)</li>
    <li><a href="/python/01_numeric/_index.files/02_int.ipynb">02_int.ipynb</a> (8 KB)</li>
    <li><a href="/python/01_numeric/_index.files/03_bool.ipynb">03_bool.ipynb</a> (6 KB)</li>
    <li><a href="/python/01_numeric/_index.files/04_float.ipynb">04_float.ipynb</a> (3 KB)</li>
    <li><a href="/python/01_numeric/_index.files/05_complex.ipynb">05_complex.ipynb</a> (3 KB)</li>
    <li><a href="/python/01_numeric/_index.files/06_number_operations.ipynb">06_number_operations.ipynb</a> (4 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>整数及其位运算</h1>

<p>整数具有无限精度。有四种整数表示法：十六进制整数（0x 或 0X 开头），十进制整数，八进制整数（0o 或 0O 开头）和二进制整数（0b 或 0B 开头）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 十六进制</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0x10</span>
</span></span></code></pre></div><pre><code>16
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 十进制</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">10</span>
</span></span></code></pre></div><pre><code>10
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 八进制</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0O10</span>
</span></span></code></pre></div><pre><code>8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 二进制</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0b10</span>
</span></span></code></pre></div><pre><code>2
</code></pre>
<p>数字之间或基数说明符（例如 0b）后，可以放一个下划线：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">123_456_789</span>
</span></span></code></pre></div><pre><code>123456789
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">0b_1010</span>
</span></span></code></pre></div><pre><code>10
</code></pre>
<p>十进制整数不可以 0 开头：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">012</span>
</span></span></code></pre></div><pre><code>  File &quot;&lt;ipython-input-44-95f378563ada&gt;&quot;, line 1
    012
      ^
SyntaxError: leading zeros in decimal integer literals are not permitted; use an 0o prefix for octal integers
</code></pre>
<h2 id="整数类型按位运算">整数类型按位运算</h2>
<p>按位运算只对整数有意义。以优先级升序排序的按位运算:</p>
<ul>
<li><code>x | y</code> x 和 y 按位 或 运算</li>
<li><code>x ^ y</code> x 和 y 按位 异或 运算</li>
<li><code>x &amp; y</code> x 和 y 按位 与 运算</li>
<li><code>x &lt;&lt; n</code> x 左移 n 位，相当于 <code>x*2**n</code></li>
<li><code>x &gt;&gt; n</code> x 右移 n 位，相当于 <code>x//(2**n)</code></li>
<li><code>~x</code> x 逐位取反</li>
</ul>
<p>下面以八位机为例，x 取 6，y 取 8，n 取 2：</p>
<p>6 和 8 在内存中的储存分别为 00000110，00001000。</p>
<p>按位 或 运算，规则如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">0</span><span style="color:#f92672">|</span><span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">|</span><span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">|</span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><pre><code>(0, 1, 1)
</code></pre>
<p>6|8 逐位运算后结果为 00001110，十进制就是 14：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">6</span><span style="color:#f92672">|</span><span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">0b00001110</span>
</span></span></code></pre></div><pre><code>(14, 14)
</code></pre>
<p>同理可按下列计算规则，计算出 6^8, 6&amp;8:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">0</span><span style="color:#f92672">^</span><span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span><span style="color:#f92672">^</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">^</span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><pre><code>(0, 1, 0)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">0</span><span style="color:#f92672">&amp;</span><span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span><span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">&amp;</span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><pre><code>(0, 0, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">6</span><span style="color:#f92672">^</span><span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">6</span><span style="color:#f92672">&amp;</span><span style="color:#ae81ff">8</span>
</span></span></code></pre></div><pre><code>(14, 0)
</code></pre>
<p>6 左移 2 位结果为 00011000，十进制就是 24，相当于 <code>6*2**2</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">6</span><span style="color:#f92672">&lt;&lt;</span><span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0b00011000</span>, <span style="color:#ae81ff">6</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span><span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>
</span></span></code></pre></div><pre><code>(24, 24, 24)
</code></pre>
<p>同理可计算出 6&raquo;2，结果为 1:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">6</span><span style="color:#f92672">&gt;&gt;</span><span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">6</span><span style="color:#f92672">//</span>(<span style="color:#ae81ff">2</span><span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>(1, 1)
</code></pre>
<p>6 逐位取反为 11111001，因为我们是以八位机来举例的，八位机中 11111001 表示 -7，这是个天才设计，正负整数计算可以利用一种电路即可完成，有兴趣的可以查资料了解详情。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">~</span><span style="color:#ae81ff">6</span>
</span></span></code></pre></div><pre><code>-7
</code></pre>
<p>例如 8 + (-7) 如此计算：</p>
<pre tabindex="0"><code>  00001000 
+ 11111001 
=100000001
</code></pre><p>因为是八位机，结果有 9 位，所以第一个 1 溢出，结果就是 1。</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>布尔值及布尔运算</h1>

<p>布尔值有 True 和 False，布尔类型是整数类型的子类型，所以整数的运算都适用布尔值运算。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>issubclass(bool,int)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">True</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><pre><code>2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">~</span><span style="color:#66d9ef">True</span>
</span></span></code></pre></div><pre><code>-2
</code></pre>
<p>任何对象都可以进行布尔值的检测，以便在 if 或 while 中作为条件或是作为下文所述布尔运算的操作数来使用。</p>
<p>一个对象在默认情况下均被视为真值，除非当该对象被调用时其所属类定义了 <code>__bool__()</code> 方法且返回 False 或是定义了 <code>__len__()</code> 方法且返回零。</p>
<p>下面基本完整地列出了会被视为假值的内置对象:</p>
<ul>
<li>被定义为假值的常量: None 和 False。</li>
<li>任何数值类型的零: 0, 0.0, 0j, Decimal(0), Fraction(0, 1)</li>
<li>空的序列和多项集: &lsquo;&rsquo;, (), [], {}, set(), range(0)</li>
</ul>
<p>可以使用内置函数 bool() 来查看任意对象的布尔值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>bool(<span style="color:#66d9ef">None</span>), bool(int), bool(<span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>(False, True, False)
</code></pre>
<h2 id="布尔运算">布尔运算</h2>
<p>布尔运算按优先级升序排列：</p>
<ul>
<li><code>x or y</code>, if x is false, then y, else x</li>
<li><code>x and y</code>, if x is false, then x, else y</li>
<li><code>not x</code>, if x is false, then True, else False</li>
</ul>
<p>任何值（包括表达式求值结果），除了自身之外，还有相应的逻辑值（布尔值），所以布尔运算符 or，and，not 可对任何值进行运算。</p>
<p>举例如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span><span style="color:#f92672">&gt;</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">or</span> <span style="color:#e6db74">&#39;python&#39;</span>
</span></span></code></pre></div><pre><code>'python'
</code></pre>
<p>1&gt;2 表达式结果为 False，所以布尔运算结果为 &lsquo;python&rsquo;。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> <span style="color:#f92672">or</span> <span style="color:#e6db74">&#39;python&#39;</span>
</span></span></code></pre></div><pre><code>2
</code></pre>
<p>1+1 表达式结果为 2，布尔值为 True，所以布尔运算结果为 2。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span><span style="color:#f92672">&gt;</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">and</span> <span style="color:#e6db74">&#39;python&#39;</span>
</span></span></code></pre></div><pre><code>False
</code></pre>
<p>1&gt;2 表达式的结果为 False，所以布尔运算结果为 False。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span><span style="color:#f92672">&lt;</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">and</span> <span style="color:#e6db74">&#39;python&#39;</span>
</span></span></code></pre></div><pre><code>'python'
</code></pre>
<p>1&lt;2 表达式的结果为 True，所以布尔运算结果为 &lsquo;python&rsquo;。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">not</span> <span style="color:#e6db74">&#39;python&#39;</span>
</span></span></code></pre></div><pre><code>False
</code></pre>
<p>&lsquo;python&rsquo; 的布尔值为 True，所以布尔运算结果为 False。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">not</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>0 的布尔值为 False，所以布尔运算结果为 True。</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>浮点数</h1>

<p>浮点数简单理解就是带小数点的数，通常使用 C 语音中的 double 来实现。有关你的程序运行所在计算机上浮点数的精度和内部表示法可在 sys.float_info 中查看。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>sys<span style="color:#f92672">.</span>float_info
</span></span></code></pre></div><pre><code>sys.float_info(max=1.7976931348623157e+308, max_exp=1024, max_10_exp=308, min=2.2250738585072014e-308, min_exp=-1021, min_10_exp=-307, dig=15, mant_dig=53, epsilon=2.220446049250313e-16, radix=2, rounds=1)
</code></pre>
<p>浮点数可以省略 <code>.</code> 前后的数；可以使用科学计数法；可以在数字之间插入下划线；可以以 0 开头。</p>
<p>举例如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># e 大小写均可 e-2 表示 10 的 -2 次方</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0.</span>, <span style="color:#ae81ff">.5</span>, <span style="color:#ae81ff">0.1e-2</span>, <span style="color:#ae81ff">3_1.1_4</span>, <span style="color:#ae81ff">01.2e02</span>
</span></span></code></pre></div><pre><code>(0.0, 0.5, 0.001, 31.14, 120.0)
</code></pre>
<p>整数除法除一定得到浮点数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">True</span><span style="color:#f92672">/</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">3</span>
</span></span></code></pre></div><pre><code>(0.3333333333333333, 1.0)
</code></pre>
<p>整数和浮点数可以相互转换，浮点数转为整数，直接去掉小数部分：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int(<span style="color:#ae81ff">3.56</span>), float(<span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>(3, 0.0)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>复数</h1>

<p>复数包含实部和虚部（带 j 或 J 的部分），分别以一个浮点数表示。在一个数字后面加上 j 或 J，则得到一个实部为零的复数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>j
</span></span></code></pre></div><pre><code>(-0-1j)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">0</span>j
</span></span></code></pre></div><pre><code>(1+0j)
</code></pre>
<p>看起来实部和虚部并不是以浮点数表示，可以使用 .real 和 .imag，从一个复数中提取这两个部分查看。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">0</span>j)<span style="color:#f92672">.</span>real, (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">0</span>j)<span style="color:#f92672">.</span>imag
</span></span></code></pre></div><pre><code>(1.0, 0.0)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>j<span style="color:#f92672">.</span>real, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>j<span style="color:#f92672">.</span>imag
</span></span></code></pre></div><pre><code>(-0.0, -1.0)
</code></pre>
<p>实部和虚部都是以浮点数表示，所以复数可以使用浮点数的所有表示法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">0.</span>J, <span style="color:#ae81ff">.5</span>J, <span style="color:#ae81ff">0.1e-2</span>J, <span style="color:#ae81ff">3_1.1_4</span>J, <span style="color:#ae81ff">01.2e02</span>J
</span></span></code></pre></div><pre><code>(0j, 0.5j, 0.001j, 31.14j, 120j)
</code></pre>
<p>对复数取绝对值，就是计算它的模——实部和虚部平方的和开根号：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>abs(<span style="color:#ae81ff">3</span><span style="color:#f92672">+</span><span style="color:#ae81ff">4</span>j), (<span style="color:#ae81ff">3</span><span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">**</span><span style="color:#ae81ff">0.5</span>
</span></span></code></pre></div><pre><code>(5.0, 5.0)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>数字运算</h1>

<p>所有数字类型都支持下列运算（复数不支持 // 和 %）：</p>
<ul>
<li><code>x + y</code>, x 和 y 的和</li>
<li><code>x - y</code>, x 和 y 的差</li>
<li><code>x * y</code>, x 和 y 的乘积</li>
<li><code>x / y</code>, x 和 y 的商</li>
<li><code>x // y</code>, x 和 y 的商数</li>
<li><code>x % y</code>, x / y 的余数</li>
<li><code>-x</code>, x 取反</li>
<li><code>+x</code>, x 不变</li>
<li><code>x ** y</code>, x 的 y 次幂</li>
</ul>
<p>Python 完全支持数字的混合运算：当一个二元算术运算符的操作数有不同数值类型时，“较窄” 类型的操作数会拓宽到另一个操作数的类型。其中整数比浮点数窄，浮点数比复数窄。但整数除以整数得到浮点数。</p>
<p>运算示例如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">True</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">3.14</span>
</span></span></code></pre></div><pre><code>5.140000000000001
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">True</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">3.14</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">0</span>j
</span></span></code></pre></div><pre><code>(5.140000000000001+0j)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1</span>j
</span></span></code></pre></div><pre><code>(1.0, -3j)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">6</span><span style="color:#f92672">//</span><span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">6</span><span style="color:#f92672">//</span><span style="color:#ae81ff">2.0</span>
</span></span></code></pre></div><pre><code>(3, 3.0)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">6</span><span style="color:#f92672">%</span><span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">6</span><span style="color:#f92672">%</span><span style="color:#ae81ff">3.0</span>
</span></span></code></pre></div><pre><code>(2, 0.0)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">3</span><span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span><span style="color:#f92672">**</span><span style="color:#ae81ff">2.0</span>, <span style="color:#ae81ff">3</span><span style="color:#f92672">**</span><span style="color:#ae81ff">0</span>j
</span></span></code></pre></div><pre><code>(9, 9.0, (1+0j))
</code></pre>
<p>优先级升序排列如下：</p>
<ul>
<li><code>+, -</code> 加和减</li>
<li><code>*, /, //, %</code> 乘，除，整除，取余</li>
<li><code>+x, -x</code> 正，负</li>
<li><code>**</code> 乘方</li>
</ul>
<p>幂运算符 ** 绑定的紧密程度低于在其右侧的算术:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">20</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">**-</span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><pre><code>-4.0
</code></pre>
<p>为了易读，应该多使用小括号：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> (<span style="color:#f92672">-</span><span style="color:#ae81ff">20</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span><span style="color:#f92672">**</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>-4.0
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>字符串概述</h1>

<h2 id="字符串概述">字符串概述</h2>
<p>Python 中处理文本数据使用 str 类型对象，也称为字符串。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(<span style="color:#e6db74">&#39;abc&#39;</span>)
</span></span></code></pre></div><pre><code>str
</code></pre>
<p>字符串是由 Unicode 码位构成的不可变序列。每个字符的 Unicode 码位可由内建函数 ord() 查看：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ord(<span style="color:#e6db74">&#39;a&#39;</span>), ord(<span style="color:#e6db74">&#39;b&#39;</span>), ord(<span style="color:#e6db74">&#39;c&#39;</span>)
</span></span></code></pre></div><pre><code>(97, 98, 99)
</code></pre>
<p>内建函数 <a href="../11_built-in_function/59_str">str()</a> 可将其他类型对象转换为字符串：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str(<span style="color:#ae81ff">3.14</span>)
</span></span></code></pre></div><pre><code>'3.14'
</code></pre>
<p>字符串有多种不同写法：</p>
<ul>
<li>单引号标示</li>
</ul>
<p>单引号标示法，如果字符串中有单引号，需要用 <code>\'</code> 表示：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;it</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">s a book&#39;</span>
</span></span></code></pre></div><pre><code>&quot;it's a book&quot;
</code></pre>
<ul>
<li>双引号标示</li>
</ul>
<p>双引号标示法，如果字符串中有双引号，需要用 <code>\&quot;</code> 表示：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;it&#39;s a </span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">book</span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><pre><code>'it\'s a &quot;book&quot;'
</code></pre>
<ul>
<li>三重引号标示</li>
</ul>
<p>三重引号标示法，可以是三重单引号 <code>'''</code>，也可以是三重双引号 <code>&quot;&quot;&quot;</code>，字符串中的单引号或双引号不受影响，但不能紧挨着：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 注意最后四个双引号中有一个空格</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;it&#39;s a book&#39;&#39;&#39;</span>, \
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;it&#39;s a &#34;book&#34; &#34;&#34;&#34;</span> 
</span></span></code></pre></div><pre><code>(&quot;it's a book&quot;, 'it\'s a &quot;book&quot; ')
</code></pre>
<p>三重引号标示的字符串可以换行，自动以 <code>\n</code> 表示：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">it&#39;s a 
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">book
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;</span>
</span></span></code></pre></div><pre><code>&quot;\nit's a \nbook\n&quot;
</code></pre>
<p>若不想引入 <code>\n</code>，可以使用续航符 <code>\</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">it&#39;s a </span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">book</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">&#39;&#39;&#39;</span>
</span></span></code></pre></div><pre><code>&quot;it's a book&quot;
</code></pre>
<p>字符串可带前缀 u（或 U），r（或 R），f（或 F）。</p>
<p>u 表示 Unicode 编码字符串（默认，可省略）；r 表示原始字符串，其中的反斜杠会被当作其本身来处理；f 表示<a href="../02_string/27_f-string">格式化字符串字面值</a>。r 和 f 可连用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">b{1+1}&#39;</span>
</span></span></code></pre></div><pre><code>'a\nb{1+1}'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;a\nb{1+1}&#39;</span>
</span></span></code></pre></div><pre><code>'a\\nb{1+1}'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">b</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>'a\nb2'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">rf</span><span style="color:#e6db74">&#39;a\nb</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>'a\\nb2'
</code></pre>
<p>注意带前缀 b（或 B），表示字节串对象：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;abc&#39;</span>)
</span></span></code></pre></div><pre><code>bytes
</code></pre>
<p>字符串是不可变序列，下列切片操作得到的是原来的字符串：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;abc&#39;</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a[:]
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">is</span> b
</span></span></code></pre></div><pre><code>True
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/02_string/_index.files/01_string.ipynb">01_string.ipynb</a> (7 KB)</li>
    <li><a href="/python/02_string/_index.files/02_concatenated_string.ipynb">02_concatenated_string.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/03_escape_character.ipynb">03_escape_character.ipynb</a> (7 KB)</li>
    <li><a href="/python/02_string/_index.files/04_str.count.ipynb">04_str.count.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/05_str.replace.ipynb">05_str.replace.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/06_str.expandtabs.ipynb">06_str.expandtabs.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/07_str.split.ipynb">07_str.split.ipynb</a> (4 KB)</li>
    <li><a href="/python/02_string/_index.files/08_str.rsplit.ipynb">08_str.rsplit.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/09_str.partition.ipynb">09_str.partition.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/10_str.rpartition.ipynb">10_str.rpartition.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/11_str.splitlines.ipynb">11_str.splitlines.ipynb</a> (4 KB)</li>
    <li><a href="/python/02_string/_index.files/12_str.strip.ipynb">12_str.strip.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/13_str.lstrip.ipynb">13_str.lstrip.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/14_str.rstrip.ipynb">14_str.rstrip.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/15_str.find.ipynb">15_str.find.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/16_str.rfind.ipynb">16_str.rfind.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/17_str.index.ipynb">17_str.index.ipynb</a> (4 KB)</li>
    <li><a href="/python/02_string/_index.files/18_str.rindex.ipynb">18_str.rindex.ipynb</a> (4 KB)</li>
    <li><a href="/python/02_string/_index.files/19_str.join.ipynb">19_str.join.ipynb</a> (4 KB)</li>
    <li><a href="/python/02_string/_index.files/20_str.startswith.ipynb">20_str.startswith.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/21_str.endswith.ipynb">21_str.endswith.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/22_str.ljust.ipynb">22_str.ljust.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/23_str.center.ipynb">23_str.center.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/24_str.rjust.ipynb">24_str.rjust.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/25_str.format.ipynb">25_str.format.ipynb</a> (14 KB)</li>
    <li><a href="/python/02_string/_index.files/26_str.format_map.ipynb">26_str.format_map.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/27_f-string.ipynb">27_f-string.ipynb</a> (7 KB)</li>
    <li><a href="/python/02_string/_index.files/28_string_operators.ipynb">28_string_operators.ipynb</a> (9 KB)</li>
    <li><a href="/python/02_string/_index.files/29_str.encode.ipynb">29_str.encode.ipynb</a> (6 KB)</li>
    <li><a href="/python/02_string/_index.files/30_str.capitalize.ipynb">30_str.capitalize.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/31_str.casefold.ipynb">31_str.casefold.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/32_str.lower.ipynb">32_str.lower.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/33_str.title.ipynb">33_str.title.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/34_str.upper.ipynb">34_str.upper.ipynb</a> (1 KB)</li>
    <li><a href="/python/02_string/_index.files/35_str.swapcase.ipynb">35_str.swapcase.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/36_str.zfill.ipynb">36_str.zfill.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/37_str.translate.ipynb">37_str.translate.ipynb</a> (4 KB)</li>
    <li><a href="/python/02_string/_index.files/38_str.maketrans.ipynb">38_str.maketrans.ipynb</a> (4 KB)</li>
    <li><a href="/python/02_string/_index.files/39_str.isalnum.ipynb">39_str.isalnum.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/40_str.isalpha.ipynb">40_str.isalpha.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/41_str.isdecimal.ipynb">41_str.isdecimal.ipynb</a> (4 KB)</li>
    <li><a href="/python/02_string/_index.files/42_str.isdigit.ipynb">42_str.isdigit.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/43_str.isnumeric.ipynb">43_str.isnumeric.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/44_str.islower.ipynb">44_str.islower.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/45_str.isupper.ipynb">45_str.isupper.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/46_str.istitle.ipynb">46_str.istitle.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/47_str.isascii.ipynb">47_str.isascii.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/48_str.isidentifier.ipynb">48_str.isidentifier.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/49_str.isprintable.ipynb">49_str.isprintable.ipynb</a> (3 KB)</li>
    <li><a href="/python/02_string/_index.files/50_str.isspace.ipynb">50_str.isspace.ipynb</a> (2 KB)</li>
    <li><a href="/python/02_string/_index.files/51_str.removeprefix.ipynb">51_str.removeprefix.ipynb</a> (1 KB)</li>
    <li><a href="/python/02_string/_index.files/52_str.removesuffix.ipynb">52_str.removesuffix.ipynb</a> (1 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>字符串拼接</h1>

<h2 id="空格拼接">空格拼接</h2>
<p>相邻的两个字符串，无论中间隔了多少个空格（包括 0 个），都会自动连接到一起：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;Py&#39;&#39;thon&#39;</span>, <span style="color:#e6db74">&#39;Py&#39;</span>    <span style="color:#e6db74">&#39;thon&#39;</span>
</span></span></code></pre></div><pre><code>('Python', 'Python')
</code></pre>
<p>甚至可以用 () 包围实现换行拼接，这在字符串（或正则表达式）很长时非常有用：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#e6db74">&#39;Py&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;thon</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">3</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;\Go&#39;</span>)
</span></span></code></pre></div><pre><code>'Python3\\Go'
</code></pre>
<h2 id="运算符--拼接">运算符 <code>+</code> 拼接</h2>
<p>运算符 <code>+</code> 拼接字符串，和空格类似，但 <code>+</code> 拼接字符串可以是变量的形式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Py&#39;</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;thon&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;Py&#39;</span> <span style="color:#f92672">+</span> b, a <span style="color:#f92672">+</span> b
</span></span></code></pre></div><pre><code>('Python', 'Python')
</code></pre>
<p>运算符 <code>+</code> 还可以和赋值运算符 <code>=</code> 连用，拼接字符串的同时进行赋值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将 a 和 b 拼接，赋值给 a</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">+=</span> b
</span></span><span style="display:flex;"><span>print(a)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将 b 和 a 拼接，赋值给 b</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">+=</span> a
</span></span><span style="display:flex;"><span>b
</span></span></code></pre></div><pre><code>Python


'thonPython'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>转义字符</h1>

<p>转义字符 <code>\</code> 本身不被当作字符，如果要表示一个字符 <code>\</code>，需要自己将自己转义：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>'\\'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\&#39;</span>
</span></span></code></pre></div><pre><code>  File &quot;&lt;ipython-input-2-d44a383620ab&gt;&quot;, line 1
    '\'
       ^
SyntaxError: EOL while scanning string literal
</code></pre>
<p>上面这一行报错信息是 SyntaxError: EOL while scanning string literal。这是因为 <code>\'</code> 表示的是单引号字符 <code>'</code>（Literal）—— 是可被输出到屏幕的 <code>'</code>，而不是用来标示字符串的那个 <code>'</code>—— 别急，无论哪个初学者第一次读到前面的句子都觉得有点莫名其妙…… —— 于是，Python 编译器扫描这个 “字符串” 的时候，还没找到标示字符串末尾的另外一个 <code>'</code> 的时候就读到了 EOL（End Of Line）。</p>
<p>如果你想输出这么个字符串，He said, it&rsquo;s fine.，如果用双引号扩起来 <code>&quot;</code> 倒没啥问题，但是如果用单引号扩起来就麻烦了，因为编译器会把 it 后面的那个单引号 <code>'</code> 当作字符串结尾。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;He said, it&#39;</span>s fine<span style="color:#f92672">.</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>  File &quot;&lt;ipython-input-3-2bcf2ca6dd95&gt;&quot;, line 1
    'He said, it's fine.'
                 ^
SyntaxError: invalid syntax
</code></pre>
<p>于是你就得用转义符 <code>\</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 要么你这么写：</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;He said, it</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">s fine.&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 要么你这么写：</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;He said, it&#39;s fine.&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 要么，不管用单引号还是双引号标示字符串，</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 都习惯于用 \&#39; 和 \&#34; 书写属于字符串内部的引号……</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;He said, it</span><span style="color:#ae81ff">\&#39;</span><span style="color:#e6db74">s fine.&#34;</span>
</span></span></code></pre></div><pre><code>He said, it's fine.
He said, it's fine.


&quot;He said, it's fine.&quot;
</code></pre>
<p>转义字符 <code>\</code> 可与其他字符组合成有特殊含义的字符：</p>
<table>
<thead>
<tr>
<th>转义字符</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\(在行尾时)</code></td>
<td>续行符</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>反斜杠符号</td>
</tr>
<tr>
<td><code>\'</code></td>
<td>单引号</td>
</tr>
<tr>
<td><code>\&quot;</code></td>
<td>双引号</td>
</tr>
<tr>
<td><code>\a</code></td>
<td>响铃</td>
</tr>
<tr>
<td><code>\b</code></td>
<td>退格</td>
</tr>
<tr>
<td><code>\n</code></td>
<td>换行</td>
</tr>
<tr>
<td><code>\v</code></td>
<td>纵向制表符</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>横向制表符</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>回车</td>
</tr>
<tr>
<td><code>\f</code></td>
<td>换页</td>
</tr>
<tr>
<td><code>\yy</code></td>
<td>八进制数 yy 码位的字符</td>
</tr>
<tr>
<td><code>\xyy</code></td>
<td>十六进制数 yy 码位的字符</td>
</tr>
</tbody>
</table>
<p>续航符，可以将两行代码（或字符串）连接起来，表示一行：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> \
</span></span><span style="display:flex;"><span>range(<span style="color:#ae81ff">3</span>): <span style="color:#75715e"># 两行相当于 for i in range(10):</span>
</span></span><span style="display:flex;"><span>    print(i)
</span></span></code></pre></div><pre><code>0
1
2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;hello </span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">world&#39;</span>
</span></span></code></pre></div><pre><code>'hello world'
</code></pre>
<p>八进制和十六进制字符举例：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 八进制字符</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\101</span><span style="color:#e6db74">&#39;</span>, <span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\102</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>('A', 'B')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 十六进制字符</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\x41</span><span style="color:#e6db74">&#39;</span>, <span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\x42</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>('A', 'B')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 十进制</span>
</span></span><span style="display:flex;"><span>chr(<span style="color:#ae81ff">65</span>),chr(<span style="color:#ae81ff">66</span>)
</span></span></code></pre></div><pre><code>('A', 'B')
</code></pre>
<p>在正则表达式中，转义字符 <code>\</code> 的应用更加普遍。详情请看<a href="https://xue.cn/hub/app/books/21">《正则指引》</a>。</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.count 统计</h1>

<p>字符串方法 str.count()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>count)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

count(...)
    S.count(sub[, start[, end]]) -&gt; int
    
    Return the number of non-overlapping occurrences of substring sub in
    string S[start:end].  Optional arguments start and end are
    interpreted as in slice notation.
</code></pre>
<p>返回回子字符串 sub 在 [start, end] 范围内非重叠出现的次数。可选参数 start 与 end 会被解读为切片表示法。</p>
<p>只给定 sub 一个参数的话，于是从第一个字符开始搜索到字符串结束；如果，随后给定了一个可选参数的话，那么它是 start，于是从 start 开始，搜索到字符串结束；如果 start 之后还有参数的话，那么它是 end；于是从 start 开始，搜索到 end - 1 结束（即不包含索引值为 end 的那个字符）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>count(<span style="color:#e6db74">&#39;0&#39;</span>)
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pyyython&#39;</span><span style="color:#f92672">.</span>count(<span style="color:#e6db74">&#39;yy&#39;</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pythonpythonn&#39;</span><span style="color:#f92672">.</span>count(<span style="color:#e6db74">&#39;n&#39;</span>,<span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pythonpythonn&#39;</span><span style="color:#f92672">.</span>count(<span style="color:#e6db74">&#39;n&#39;</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">7</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.replace 替换</h1>

<p>字符串方法 str.replace()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>replace)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

replace(self, old, new, count=-1, /)
    Return a copy with all occurrences of substring old replaced by new.
    
      count
        Maximum number of occurrences to replace.
        -1 (the default value) means replace all occurrences.
    
    If the optional argument count is given, only the first count occurrences are
    replaced.
</code></pre>
<p>返回字符串的副本，其中出现的所有子字符串 old 都将被替换为 new。如果给出了可选参数 count，则只替换前 count 次出现。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;p&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>)
</span></span></code></pre></div><pre><code>'Cython Cython'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;py&#39;</span>,<span style="color:#e6db74">&#39;Cpy&#39;</span>,<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>'Cpython python'
</code></pre>
<p>如果 old 为空字符串，则在每个字符之间（包括前后）插入 new：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;&#39;</span>,<span style="color:#e6db74">&#39;C&#39;</span>)
</span></span></code></pre></div><pre><code>'CpCyCtChCoCnC CpCyCtChCoCnC'
</code></pre>
<p>如果 new 为空字符串，则相当于去除了 old：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;p&#39;</span>,<span style="color:#e6db74">&#39;&#39;</span>)
</span></span></code></pre></div><pre><code>'ython ython'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.expandtabs 替换制表符</h1>

<p>字符串方法 str.expandtabs()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>expandtabs)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

expandtabs(self, /, tabsize=8)
    Return a copy where all tab characters are expanded using spaces.
    
    If tabsize is not given, a tab size of 8 characters is assumed.
</code></pre>
<p>返回字符串的副本，其中所有的制表符会由一个或多个空格替换，具体取决于当前列位置和给定的制表符宽度。每 tabsize 个字符设为一个制表位（默认值 8 时设定的制表位在列 0, 8, 16 依次类推）。</p>
<p>要展开字符串，当前列将被设为零并逐一检查字符串中的每个字符。如果字符为制表符 (\t)，则会在结果中插入一个或多个空格符，直到当前列等于下一个制表位。（制表符本身不会被复制。）</p>
<p>如果字符为换行符 (\n) 或回车符 (\r)，它会被复制并将当前列重设为零。任何其他字符会被不加修改地复制并将当前列加一，不论该字符在被打印时会如何显示。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;01</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">012</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">0123</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">01234&#39;</span><span style="color:#f92672">.</span>expandtabs()
</span></span></code></pre></div><pre><code>'01      012     0123    01234'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;01</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">012</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">0123</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">01234&#39;</span><span style="color:#f92672">.</span>expandtabs(<span style="color:#ae81ff">4</span>)
</span></span></code></pre></div><pre><code>'01  012 0123    01234'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n\t</span><span style="color:#e6db74">01</span><span style="color:#ae81ff">\r</span><span style="color:#e6db74">2</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">0123</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">01234&#39;</span><span style="color:#f92672">.</span>expandtabs(<span style="color:#ae81ff">4</span>)
</span></span></code></pre></div><pre><code>'\n    01\r2   0123    01234'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.split 拆分</h1>

<p>字符串方法 str.split()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>split)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

split(self, /, sep=None, maxsplit=-1)
    Return a list of the words in the string, using sep as the delimiter string.
    
    sep
      The delimiter according which to split the string.
      None (the default value) means split according to any whitespace,
      and discard empty strings from the result.
    maxsplit
      Maximum number of splits to do.
      -1 (the default value) means no limit.
</code></pre>
<p>返回一个由字符串内单词组成的列表，使用 sep 作为分隔字符串。如果给出了 sep，则连续的分隔符不会被组合在一起而是被视为分隔空字符串；如果给出了 maxsplit，则最多进行 maxsplit 次拆分（因此，列表最多会有 maxsplit+1 个元素）。如果 maxsplit 未指定或为 -1，则不限制拆分次数（进行所有可能的拆分）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a.bc&#39;</span><span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;.&#39;</span>)
</span></span></code></pre></div><pre><code>['a', 'bc']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a.b.c&#39;</span><span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;.&#39;</span>,maxsplit<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>['a', 'b.c']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a.b..c&#39;</span><span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;.&#39;</span>)
</span></span></code></pre></div><pre><code>['a', 'b', '', 'c']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a.b..c&#39;</span><span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;..&#39;</span>)
</span></span></code></pre></div><pre><code>['a.b', 'c']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;.&#39;</span>)
</span></span></code></pre></div><pre><code>['']
</code></pre>
<p>如果 sep 未指定或为 None，则会应用另一种拆分算法：连续的空格会被视为单个分隔符，如果字符串包含前缀或后缀空格，其结果将不包含开头或末尾的空字符串。因此，使用 None 拆分空字符串或仅包含空格的字符串将返回 []。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a b  c &#39;</span><span style="color:#f92672">.</span>split()
</span></span></code></pre></div><pre><code>['a', 'b', 'c']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;  </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> &#39;</span><span style="color:#f92672">.</span>split()
</span></span></code></pre></div><pre><code>[]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>split()
</span></span></code></pre></div><pre><code>[]
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.rsplit 拆分</h1>

<p>字符串方法 str.rsplit()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>rsplit)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

rsplit(self, /, sep=None, maxsplit=-1)
    Return a list of the words in the string, using sep as the delimiter string.
    
      sep
        The delimiter according which to split the string.
        None (the default value) means split according to any whitespace,
        and discard empty strings from the result.
      maxsplit
        Maximum number of splits to do.
        -1 (the default value) means no limit.
    
    Splits are done starting at the end of the string and working to the front.
</code></pre>
<p>返回一个由字符串内单词组成的列表，使用 sep 作为分隔字符串。如果给出了 maxsplit，则最多进行 maxsplit 次拆分，从 最右边开始。如果 sep 未指定或为 None，任何空白字符串都会被作为分隔符。除了从右边开始拆分，rsplit() 的其他行为都类似于 split()。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">yth   on &#39;</span><span style="color:#f92672">.</span>rsplit()
</span></span></code></pre></div><pre><code>['p', 'yth', 'on']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">yth on&#39;</span><span style="color:#f92672">.</span>rsplit(<span style="color:#e6db74">&#39;y&#39;</span>)
</span></span></code></pre></div><pre><code>['p\n', 'th on']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">yth on&#39;</span><span style="color:#f92672">.</span>rsplit(maxsplit<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>['p\nyth', 'on']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">yth   on &#39;</span><span style="color:#f92672">.</span>rsplit(maxsplit<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>['p', 'yth', 'on']
</code></pre>
<p>多个分隔符在一起，则会解读为拆分空字符串：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">p</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">yth on&#39;</span><span style="color:#f92672">.</span>rsplit(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><pre><code>['', '', 'p', 'yth on']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.partition 拆分</h1>

<p>字符串方法 str.partition()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>partition)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

partition(self, sep, /)
    Partition the string into three parts using the given separator.
    
    This will search for the separator in the string.  If the separator is found,
    returns a 3-tuple containing the part before the separator, the separator
    itself, and the part after it.
    
    If the separator is not found, returns a 3-tuple containing the original string
    and two empty strings.
</code></pre>
<p>在 sep 首次出现的位置拆分字符串，返回一个 3 元组，其中包含分隔符之前的部分、分隔符本身，以及分隔符之后的部分。如果分隔符未找到，则返回的 3 元组中包含字符本身以及两个空字符串。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>partition(<span style="color:#e6db74">&#39;m&#39;</span>)
</span></span></code></pre></div><pre><code>('python', '', '')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>partition(<span style="color:#e6db74">&#39;th&#39;</span>)
</span></span></code></pre></div><pre><code>('py', 'th', 'on')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>partition(<span style="color:#e6db74">&#39;ht&#39;</span>)
</span></span></code></pre></div><pre><code>('python', '', '')
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.rpartition 拆分</h1>

<p>字符串方法 str.rpartition()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>rpartition)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

rpartition(self, sep, /)
    Partition the string into three parts using the given separator.
    
    This will search for the separator in the string, starting at the end. If
    the separator is found, returns a 3-tuple containing the part before the
    separator, the separator itself, and the part after it.
    
    If the separator is not found, returns a 3-tuple containing two empty strings
    and the original string.
</code></pre>
<p>在 sep 最后一次出现的位置拆分字符串，返回一个 3 元组，其中包含分隔符之前的部分、分隔符本身，以及分隔符之后的部分。如果分隔符未找到，则返回的 3 元组中包含两个空字符串以及字符串本身。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>rpartition(<span style="color:#e6db74">&#39;n&#39;</span>)
</span></span></code></pre></div><pre><code>('pytho', 'n', '')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pythhhon&#39;</span><span style="color:#f92672">.</span>rpartition(<span style="color:#e6db74">&#39;hh&#39;</span>)
</span></span></code></pre></div><pre><code>('pyth', 'hh', 'on')
</code></pre>
<p>分隔符未找到，则返回的 3 元组中 字符串本身 排在最后：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>rpartition(<span style="color:#e6db74">&#39;ht&#39;</span>) 
</span></span></code></pre></div><pre><code>('', '', 'python')
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.splitlines 按行拆分</h1>

<p>字符串方法 str.splitlines()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>splitlines)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

splitlines(self, /, keepends=False)
    Return a list of the lines in the string, breaking at line boundaries.
    
    Line breaks are not included in the resulting list unless keepends is given and
    true.
</code></pre>
<p>返回由原字符串中各行组成的列表，在行边界的位置拆分。结果列表中不包含行边界，除非给出了 keepends 且为真值。</p>
<p>此方法会以下列行边界进行拆分。特别地，行边界是 universal newlines 的一个超集。</p>
<ul>
<li><code>\n</code> 换行</li>
<li><code>\r</code> 回车</li>
<li><code>\r\n</code> 回车 + 换行</li>
<li><code>\v</code> 或 <code>\x0b</code> 行制表符</li>
<li><code>\f</code> 或 <code>\x0c</code> 换表单</li>
<li><code>\x1c</code> 文件分隔符</li>
<li><code>\x1d</code> 组分隔符</li>
<li><code>\x1e</code> 记录分隔符</li>
<li><code>\x85</code> 下一行</li>
<li><code>\u2028</code> 行分隔符</li>
<li><code>\u2029</code> 段分隔符</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;ab c</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">de fg</span><span style="color:#ae81ff">\r</span><span style="color:#e6db74">kl</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>splitlines()
</span></span></code></pre></div><pre><code>['ab c', '', 'de fg', 'kl']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;ab c</span><span style="color:#ae81ff">\n\n</span><span style="color:#e6db74">de fg</span><span style="color:#ae81ff">\r</span><span style="color:#e6db74">kl</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>splitlines(keepends<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><pre><code>['ab c\n', '\n', 'de fg\r', 'kl\r\n']
</code></pre>
<p>分隔空字符串此方法将返回一个空列表；末尾的换行不会令结果中增加额外的空字符串:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>splitlines()
</span></span></code></pre></div><pre><code>[]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;One line</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Two lines</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>splitlines()
</span></span></code></pre></div><pre><code>['One line', 'Two lines']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;One line</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">Two lines</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><pre><code>['One line', 'Two lines', '']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.strip 移除两边字符</h1>

<p>字符串方法 str.strip()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>strip)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

strip(self, chars=None, /)
    Return a copy of the string with leading and trailing whitespace remove.
    
    If chars is given and not None, remove characters in chars instead.
</code></pre>
<p>返回原字符串的副本，移除其中的前导和末尾字符。chars 参数为指定要移除字符的字符串。如果省略或为 None，则 chars 参数默认移除空格符。实际上 chars 参数并非指定单个前缀或后缀；而是会移除参数值中的所有字符:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39; python &#39;</span><span style="color:#f92672">.</span>strip()
</span></span></code></pre></div><pre><code>'python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39; python &#39;</span><span style="color:#f92672">.</span>strip(<span style="color:#e6db74">&#39;p&#39;</span>)
</span></span></code></pre></div><pre><code>' python '
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39; python &#39;</span><span style="color:#f92672">.</span>strip(<span style="color:#e6db74">&#39;p n&#39;</span>)
</span></span></code></pre></div><pre><code>'ytho'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39; pythonnnn &#39;</span><span style="color:#f92672">.</span>strip(<span style="color:#e6db74">&#39;p n&#39;</span>)
</span></span></code></pre></div><pre><code>'ytho'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.lstrip 移除左边字符</h1>

<p>字符串方法 str.lstrip()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>lstrip)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

lstrip(self, chars=None, /)
    Return a copy of the string with leading whitespace removed.
    
    If chars is given and not None, remove characters in chars instead.
</code></pre>
<p>返回原字符串的副本，移除其中的前导字符。chars 参数为指定要移除字符的字符串。如果省略或为 None，则 chars 参数默认移除空格符。实际上 chars 参数并非指定单个前缀；而是会移除参数值中出现的所有字符:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;  python  &#39;</span><span style="color:#f92672">.</span>lstrip()
</span></span></code></pre></div><pre><code>'python  '
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;  python  &#39;</span><span style="color:#f92672">.</span>lstrip(<span style="color:#e6db74">&#39;y p&#39;</span>)
</span></span></code></pre></div><pre><code>'thon  '
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;  python  &#39;</span><span style="color:#f92672">.</span>lstrip(<span style="color:#e6db74">&#39;py&#39;</span>)
</span></span></code></pre></div><pre><code>'  python  '
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;ppppython  &#39;</span><span style="color:#f92672">.</span>lstrip(<span style="color:#e6db74">&#39;y p&#39;</span>)
</span></span></code></pre></div><pre><code>'thon  '
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.rstrip 移除右边字符</h1>

<p>字符串方法 str.rstrip()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>rstrip)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

rstrip(self, chars=None, /)
    Return a copy of the string with trailing whitespace removed.
    
    If chars is given and not None, remove characters in chars instead.
</code></pre>
<p>返回原字符串的副本，移除其中的末尾字符。chars 参数为指定要移除字符的字符串。如果省略或为 None，则 chars 参数默认移除空格符。实际上 chars 参数并非指定单个后缀；而是会移除参数值中的所有字符串:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39; python &#39;</span><span style="color:#f92672">.</span>rstrip()
</span></span></code></pre></div><pre><code>' python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39; python &#39;</span><span style="color:#f92672">.</span>rstrip(<span style="color:#e6db74">&#39;n o&#39;</span>)
</span></span></code></pre></div><pre><code>' pyth'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39; python &#39;</span><span style="color:#f92672">.</span>rstrip(<span style="color:#e6db74">&#39;n&#39;</span>)
</span></span></code></pre></div><pre><code>' python '
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39; pythonnnnn&#39;</span><span style="color:#f92672">.</span>rstrip(<span style="color:#e6db74">&#39;no&#39;</span>)
</span></span></code></pre></div><pre><code>' pyth'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.find 查找最小索引</h1>

<p>字符串方法 str.find()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>find)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

find(...)
    S.find(sub[, start[, end]]) -&gt; int
    
    Return the lowest index in S where substring sub is found,
    such that sub is contained within S[start:end].  Optional
    arguments start and end are interpreted as in slice notation.
    
    Return -1 on failure.
</code></pre>
<p>返回子字符串 sub 在 s[start:end] 切片内被找到的最小索引。可选参数 start 与 end 会被解读为切片表示法。如果 sub 未被找到则返回 -1。</p>
<p>只给定 sub 一个参数的话，于是从第一个字符开始搜索到字符串结束；如果，随后给定了一个可选参数的话，那么它是 start，于是从 start 开始，搜索到字符串结束；如果 start 之后还有参数的话，那么它是 end；于是从 start 开始，搜索到 end - 1 结束（即不包含索引值为 end 的那个字符）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pythonpython&#39;</span><span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;y&#39;</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pythonpython&#39;</span><span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;pt&#39;</span>)
</span></span></code></pre></div><pre><code>-1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pythonpython&#39;</span><span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;y&#39;</span>,<span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>7
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pythonpython&#39;</span><span style="color:#f92672">.</span>find(<span style="color:#e6db74">&#39;y&#39;</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">7</span>)
</span></span></code></pre></div><pre><code>-1
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.rfind 查找最大索引</h1>

<p>字符串方法 str.rfind()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>rfind)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

rfind(...)
    S.rfind(sub[, start[, end]]) -&gt; int
    
    Return the highest index in S where substring sub is found,
    such that sub is contained within S[start:end].  Optional
    arguments start and end are interpreted as in slice notation.
    
    Return -1 on failure.
</code></pre>
<p>返回子字符串 sub 在字符串内被找到的最大（最右）索引，这样 sub 将包含在 s[start:end] 当中。可选参数 start 与 end 会被解读为切片表示法。如果未找到则返回 -1。</p>
<p>只给定 sub 一个参数的话，于是从第一个字符开始搜索到字符串结束；如果，随后给定了一个可选参数的话，那么它是 start，于是从 start 开始，搜索到字符串结束；如果 start 之后还有参数的话，那么它是 end；于是从 start 开始，搜索到 end - 1 结束（即不包含索引值为 end 的那个字符）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>rfind(<span style="color:#e6db74">&#39;on&#39;</span>)
</span></span></code></pre></div><pre><code>11
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>rfind(<span style="color:#e6db74">&#39;on&#39;</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">7</span>)
</span></span></code></pre></div><pre><code>4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>rfind(<span style="color:#e6db74">&#39;on&#39;</span>,<span style="color:#ae81ff">7</span>)
</span></span></code></pre></div><pre><code>11
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>rfind(<span style="color:#e6db74">&#39;no&#39;</span>)
</span></span></code></pre></div><pre><code>-1
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.index 查找最小索引</h1>

<p>字符串方法 str.index()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>index)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

index(...)
    S.index(sub[, start[, end]]) -&gt; int
    
    Return the lowest index in S where substring sub is found,
    such that sub is contained within S[start:end].  Optional
    arguments start and end are interpreted as in slice notation.
    
    Raises ValueError when the substring is not found.
</code></pre>
<p>返回子字符串 sub 在 s[start:end] 切片内被找到的最小索引。可选参数 start 与 end 会被解读为切片表示法。类似于 find()，但在找不到 sub 时会引发 ValueError。</p>
<p>只给定 sub 一个参数的话，于是从第一个字符开始搜索到字符串结束；如果，随后给定了一个可选参数的话，那么它是 start，于是从 start 开始，搜索到字符串结束；如果 start 之后还有参数的话，那么它是 end；于是从 start 开始，搜索到 end - 1 结束（即不包含索引值为 end 的那个字符）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pythonpython&#39;</span><span style="color:#f92672">.</span>index(<span style="color:#e6db74">&#39;y&#39;</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pythonpython&#39;</span><span style="color:#f92672">.</span>index(<span style="color:#e6db74">&#39;pt&#39;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-3-4252de1acf66&gt; in &lt;module&gt;
----&gt; 1 'pythonpython'.index('pt')


ValueError: substring not found
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pythonpython&#39;</span><span style="color:#f92672">.</span>index(<span style="color:#e6db74">&#39;y&#39;</span>,<span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>7
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pythonpython&#39;</span><span style="color:#f92672">.</span>index(<span style="color:#e6db74">&#39;y&#39;</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">7</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-5-35705122f03a&gt; in &lt;module&gt;
----&gt; 1 'pythonpython'.index('y',5,7)


ValueError: substring not found
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.rindex 查找最大索引</h1>

<p>字符串方法 str.rindex()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>rindex)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

rindex(...)
    S.rindex(sub[, start[, end]]) -&gt; int
    
    Return the highest index in S where substring sub is found,
    such that sub is contained within S[start:end].  Optional
    arguments start and end are interpreted as in slice notation.
    
    Raises ValueError when the substring is not found.
</code></pre>
<p>返回子字符串 sub 在字符串内被找到的最大（最右）索引，这样 sub 将包含在 s[start:end] 当中。可选参数 start 与 end 会被解读为切片表示法。如果未找到则返回 -1。类似于 rfind()，但在子字符串 sub 未找到时会引发 ValueError。</p>
<p>只给定 sub 一个参数的话，于是从第一个字符开始搜索到字符串结束；如果，随后给定了一个可选参数的话，那么它是 start，于是从 start 开始，搜索到字符串结束；如果 start 之后还有参数的话，那么它是 end；于是从 start 开始，搜索到 end - 1 结束（即不包含索引值为 end 的那个字符）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>rindex(<span style="color:#e6db74">&#39;on&#39;</span>)
</span></span></code></pre></div><pre><code>11
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>rindex(<span style="color:#e6db74">&#39;on&#39;</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">7</span>)
</span></span></code></pre></div><pre><code>4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>rindex(<span style="color:#e6db74">&#39;on&#39;</span>,<span style="color:#ae81ff">7</span>)
</span></span></code></pre></div><pre><code>11
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python python&#39;</span><span style="color:#f92672">.</span>rindex(<span style="color:#e6db74">&#39;no&#39;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-5-92aeb174dba9&gt; in &lt;module&gt;
----&gt; 1 'python python'.rindex('no')


ValueError: substring not found
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.join 拼接字符串</h1>

<p>字符串方法 str.join()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>join)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

join(self, iterable, /)
    Concatenate any number of strings.
    
    The string whose method is called is inserted in between each given string.
    The result is returned as a new string.
    
    Example: '.'.join(['ab', 'pq', 'rs']) -&gt; 'ab.pq.rs'
</code></pre>
<p>返回一个由 iterable 中的字符串拼接而成的字符串。如果 iterable 中存在任何非字符串值则会引发 TypeError。调用该方法的字符串将作为元素之间的分隔。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;~&#39;</span><span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#39;abc&#39;</span>)
</span></span></code></pre></div><pre><code>'a~b~c'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;acb&#39;</span><span style="color:#f92672">.</span>join([<span style="color:#e6db74">&#39;1&#39;</span>,<span style="color:#e6db74">&#39;2&#39;</span>])
</span></span></code></pre></div><pre><code>'1acb2'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join([<span style="color:#e6db74">&#39;1&#39;</span>,<span style="color:#e6db74">&#39;2&#39;</span>])
</span></span></code></pre></div><pre><code>'12'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">.</span>join({<span style="color:#e6db74">&#39;1&#39;</span>:<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;2&#39;</span>:<span style="color:#ae81ff">2</span>})
</span></span></code></pre></div><pre><code>'1-2'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">.</span>join([<span style="color:#e6db74">&#39;1&#39;</span>,<span style="color:#ae81ff">2</span>])
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-9-fc346e5ca62e&gt; in &lt;module&gt;
----&gt; 1 '-'.join(['1',2])


TypeError: sequence item 1: expected str instance, int found
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">.</span>join(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;abc&#39;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-8-9d04d7060926&gt; in &lt;module&gt;
----&gt; 1 '-'.join(b'abc')


TypeError: sequence item 0: expected str instance, int found
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.startswith 指定字符串开头？</h1>

<p>字符串方法 str.startswith()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>startswith)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

startswith(...)
    S.startswith(prefix[, start[, end]]) -&gt; bool
    
    Return True if S starts with the specified prefix, False otherwise.
    With optional start, test S beginning at that position.
    With optional end, stop comparing S at that position.
    prefix can also be a tuple of strings to try.
</code></pre>
<p>如果字符串以指定的 prefix 开始则返回 True，否则返回 False。prefix 也可以为由多个供查找的前缀构成的元组。如果有可选项 start，将从所指定位置开始检查。如果有可选项 end，将在所指定位置之前停止比较。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a.b.a.c&#39;</span><span style="color:#f92672">.</span>startswith(<span style="color:#e6db74">&#39;ab&#39;</span>)
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a.b.a.c&#39;</span><span style="color:#f92672">.</span>startswith(<span style="color:#e6db74">&#39;a.&#39;</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a.b.a.c&#39;</span><span style="color:#f92672">.</span>startswith(<span style="color:#e6db74">&#39;ab&#39;</span>,<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a.b.a.c&#39;</span><span style="color:#f92672">.</span>startswith(<span style="color:#e6db74">&#39;a.&#39;</span>,<span style="color:#ae81ff">4</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a.b.a.c&#39;</span><span style="color:#f92672">.</span>startswith(<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>)
</span></span></code></pre></div><pre><code>False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.endswith 指定字符串结尾？</h1>

<p>字符串方法 str.endswith()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>endswith)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

endswith(...)
    S.endswith(suffix[, start[, end]]) -&gt; bool
    
    Return True if S ends with the specified suffix, False otherwise.
    With optional start, test S beginning at that position.
    With optional end, stop comparing S at that position.
    suffix can also be a tuple of strings to try.
</code></pre>
<p>如果字符串以指定的 suffix 结束返回 True，否则返回 False。suffix 也可以为由多个供查找的后缀构成的元组。如果有可选项 start，将从所指定位置开始检查。如果有可选项 end，将在所指定位置之前停止比较。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python.exe&#39;</span><span style="color:#f92672">.</span>endswith(<span style="color:#e6db74">&#39;.exe&#39;</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python.exe&#39;</span><span style="color:#f92672">.</span>endswith((<span style="color:#e6db74">&#39;.exe&#39;</span>,<span style="color:#e6db74">&#39;.txt&#39;</span>), <span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python.exe&#39;</span><span style="color:#f92672">.</span>endswith((<span style="color:#e6db74">&#39;.py&#39;</span>,<span style="color:#e6db74">&#39;.txt&#39;</span>), <span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python.exe&#39;</span><span style="color:#f92672">.</span>endswith((<span style="color:#e6db74">&#39;.exe&#39;</span>,<span style="color:#e6db74">&#39;.txt&#39;</span>), <span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">9</span>)
</span></span></code></pre></div><pre><code>False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.ljust 左对齐</h1>

<p>字符串方法 str.ljust()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>ljust)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

ljust(self, width, fillchar=' ', /)
    Return a left-justified string of length width.
    
    Padding is done using the specified fill character (default is a space).
</code></pre>
<p>返回长度为 width 的字符串，原字符串在其中靠左对齐。使用指定的 fillchar 填充空位 (默认使用 ASCII 空格符)。如果 width 小于等于字符串长度 len(str) 则返回原字符串的副本。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>ljust(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>'python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>ljust(<span style="color:#ae81ff">10</span>,<span style="color:#e6db74">&#39;~&#39;</span>)
</span></span></code></pre></div><pre><code>'python~~~~'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>ljust(<span style="color:#ae81ff">10</span>)
</span></span></code></pre></div><pre><code>'python    '
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.center 居中</h1>

<p>字符串方法 str.center()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>center)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

center(self, width, fillchar=' ', /)
    Return a centered string of length width.
    
    Padding is done using the specified fill character (default is a space).
</code></pre>
<p>返回长度为 width 的字符串，原字符串在其正中。使用指定的 fillchar 填充两边的空位（默认使用ASCII 空格符）。如果 width 小于等于字符串长度，则返回原字符串的副本:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;Python&#39;</span><span style="color:#f92672">.</span>center(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>'Python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;Python&#39;</span><span style="color:#f92672">.</span>center(<span style="color:#ae81ff">10</span>)
</span></span></code></pre></div><pre><code>'  Python  '
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;Python&#39;</span><span style="color:#f92672">.</span>center(<span style="color:#ae81ff">20</span>,<span style="color:#e6db74">&#39;~&#39;</span>)
</span></span></code></pre></div><pre><code>'~~~~~~~Python~~~~~~~'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.rjust 右对齐</h1>

<p>字符串方法 str.rjust()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>rjust)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

rjust(self, width, fillchar=' ', /)
    Return a right-justified string of length width.
    
    Padding is done using the specified fill character (default is a space).
</code></pre>
<p>返回长度为 width 的字符串，原字符串在其中靠右对齐。使用指定的 fillchar 填充空位 (默认使用 ASCII 空格符)。如果 width 小于等于字符串长度 len(str) 则返回原字符串的副本。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>rjust(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>'python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>rjust(<span style="color:#ae81ff">10</span>,<span style="color:#e6db74">&#39;~&#39;</span>)
</span></span></code></pre></div><pre><code>'~~~~python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>rjust(<span style="color:#ae81ff">10</span>)
</span></span></code></pre></div><pre><code>'    python'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.format 格式化</h1>

<p>字符串方法 str.format()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>format)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

format(...)
    S.format(*args, **kwargs) -&gt; str
    
    Return a formatted version of S, using substitutions from args and kwargs.
    The substitutions are identified by braces ('{' and '}').
</code></pre>
<p>执行字符串格式化操作。调用此方法的字符串可以包含字符串字面值或者以花括号 {} 括起来的替换域。每个替换域可以包含一个位置参数的数字索引，或者一个关键字参数的名称。返回的字符串副本中每个替换域都会被替换为对应参数的字符串值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;The sum of 1 + 2 is </span><span style="color:#e6db74">{0}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(<span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>'The sum of 1 + 2 is 3'
</code></pre>
<p>如果你需要在字面文本中包含花括号字符，可以通过重复来转义:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;{{python}}&#34;</span><span style="color:#f92672">.</span>format()
</span></span></code></pre></div><pre><code>'{python}'
</code></pre>
<p>位置传参和关键字传参方式非常灵活，多个位置索引依次为 0,1,2……，且可以不插入字符串中；关键字传参则需要将关键字插入字符串中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{}</span><span style="color:#e6db74"> and </span><span style="color:#e6db74">{}</span><span style="color:#e6db74"> are both </span><span style="color:#e6db74">{age}</span><span style="color:#e6db74"> years old.</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,age<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>)
</span></span></code></pre></div><pre><code>'A and B are both 18 years old.'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{1}</span><span style="color:#e6db74"> and </span><span style="color:#e6db74">{0}</span><span style="color:#e6db74"> are both </span><span style="color:#e6db74">{age}</span><span style="color:#e6db74"> years old.</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,age<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>)
</span></span></code></pre></div><pre><code>'B and A are both 18 years old.'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{age}</span><span style="color:#e6db74"> and </span><span style="color:#e6db74">{}</span><span style="color:#e6db74"> are both </span><span style="color:#e6db74">{}</span><span style="color:#e6db74"> years old.</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,age<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>)
</span></span></code></pre></div><pre><code>'18 and A are both B years old.'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{0}</span><span style="color:#e6db74"> and </span><span style="color:#e6db74">{0}</span><span style="color:#e6db74"> are both </span><span style="color:#e6db74">{0}</span><span style="color:#e6db74"> years old.</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,age<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>)
</span></span></code></pre></div><pre><code>'A and A are both A years old.'
</code></pre>
<p>通常，格式化值的工作由值本身的 <code>__format__()</code> 方法来完成。但是，在某些情况下最好强制将类型格式化为一个字符串，覆盖其本身的格式化定义。通过在调用 <code>__format__()</code> 之前将值转换为字符串，可以绕过正常的格式化逻辑。</p>
<p>目前支持的转换旗标有三种: &lsquo;!s&rsquo; 会对值调用 str()，&rsquo;!r&rsquo; 调用 repr() 而 &lsquo;!a&rsquo; 则调用 ascii()。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{1!s}</span><span style="color:#e6db74"> and </span><span style="color:#e6db74">{0!r}</span><span style="color:#e6db74"> are both </span><span style="color:#e6db74">{age!a}</span><span style="color:#e6db74"> years old.</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#39;A&#39;</span>,<span style="color:#e6db74">&#39;B&#39;</span>,age<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>)
</span></span></code></pre></div><pre><code>&quot;B and 'A' are both 18 years old.&quot;
</code></pre>
<p>可以包含值应如何呈现的规格描述，例如字段宽度、对齐、填充、小数精度等细节信息。每种值类型可以定义自己的 “格式化迷你语言” 或解读方式。</p>
<h3 id="各种格式化方式示例">各种格式化方式示例：</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 复数格式化</span>
</span></span><span style="display:flex;"><span>(<span style="color:#e6db74">&#39;The complex number </span><span style="color:#e6db74">{0}</span><span style="color:#e6db74"> is formed&#39;</span>
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#39; from the real part </span><span style="color:#e6db74">{0.real}</span><span style="color:#e6db74"> &#39;</span>
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#39;and the imaginary part </span><span style="color:#e6db74">{0.imag}</span><span style="color:#e6db74">.&#39;</span>)<span style="color:#f92672">.</span>format(<span style="color:#ae81ff">3</span><span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>j)
</span></span></code></pre></div><pre><code>'The complex number (3-5j) is formed from the real part 3.0 and the imaginary part -5.0.'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 利用索引取出某项格式化，不可切片</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;X: </span><span style="color:#e6db74">{0[0]}</span><span style="color:#e6db74">; Y: </span><span style="color:#e6db74">{0[1]}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>'X: 1; Y: 2'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 切片格式化</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;X: </span><span style="color:#e6db74">{0}</span><span style="color:#e6db74">; Y: </span><span style="color:#e6db74">{1}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(a[:<span style="color:#ae81ff">2</span>],a[<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>:])
</span></span></code></pre></div><pre><code>'X: [1, 2]; Y: [2, 3]'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 右对齐</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{:&gt;20}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#39;right aligned&#39;</span>)
</span></span></code></pre></div><pre><code>'       right aligned'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 填充 ~ 居中</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{:~^20}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#e6db74">&#39;centered&#39;</span>)
</span></span></code></pre></div><pre><code>'~~~~~~centered~~~~~~'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 更复杂的排版</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i, w <span style="color:#f92672">in</span> zip(<span style="color:#e6db74">&#39;&lt;^&gt;&#39;</span>, [<span style="color:#e6db74">&#39;left&#39;</span>, <span style="color:#e6db74">&#39;center&#39;</span>, <span style="color:#e6db74">&#39;right&#39;</span>]):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;{0:</span><span style="color:#e6db74">{fill}{align}</span><span style="color:#e6db74">20}&#39;</span><span style="color:#f92672">.</span>format(w, fill<span style="color:#f92672">=</span>i, align<span style="color:#f92672">=</span>i))
</span></span></code></pre></div><pre><code>left&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
^^^^^^^center^^^^^^^
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;right
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 数字前填充 0</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{:05}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#ae81ff">12</span>)
</span></span></code></pre></div><pre><code>'00012'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 设置保留精度</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{:f}</span><span style="color:#e6db74">; </span><span style="color:#e6db74">{:+.1f}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#ae81ff">3.14</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3.14</span>)
</span></span></code></pre></div><pre><code>'3.140000; -3.1'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 各种进制格式化</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;int: </span><span style="color:#e6db74">{0:d}</span><span style="color:#e6db74">; hex: </span><span style="color:#e6db74">{0:x}</span><span style="color:#e6db74">; oct: </span><span style="color:#e6db74">{0:o}</span><span style="color:#e6db74">; </span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">bin: </span><span style="color:#e6db74">{0:b}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(<span style="color:#ae81ff">42</span>)
</span></span></code></pre></div><pre><code>'int: 42; hex: 2a; oct: 52; bin: 101010'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 保留进制前缀</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;int: </span><span style="color:#e6db74">{0:d}</span><span style="color:#e6db74">; hex: </span><span style="color:#e6db74">{0:#x}</span><span style="color:#e6db74">; oct: </span><span style="color:#e6db74">{0:#o}</span><span style="color:#e6db74">; </span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">bin: </span><span style="color:#e6db74">{0:#b}</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">.</span>format(<span style="color:#ae81ff">42</span>)
</span></span></code></pre></div><pre><code>'int: 42; hex: 0x2a; oct: 0o52; bin: 0b101010'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 让数字更易读</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{:,}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#ae81ff">1234567890</span>)
</span></span></code></pre></div><pre><code>'1,234,567,890'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 百分比格式化</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;Correct answers: </span><span style="color:#e6db74">{:.2%}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6</span>)
</span></span></code></pre></div><pre><code>'Correct answers: 83.33%'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 特定类型的专属格式化</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> datetime
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>datetime(<span style="color:#ae81ff">2010</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">58</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;{:%Y-%m-</span><span style="color:#e6db74">%d</span><span style="color:#e6db74"> %H:%M:%S}&#39;</span><span style="color:#f92672">.</span>format(d)
</span></span></code></pre></div><pre><code>'2010-07-04 12:15:58'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># IP地址格式化</span>
</span></span><span style="display:flex;"><span>octets <span style="color:#f92672">=</span> [<span style="color:#ae81ff">192</span>, <span style="color:#ae81ff">168</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{:02X}{:02X}{:02X}{:02X}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#f92672">*</span>octets)
</span></span></code></pre></div><pre><code>'C0A80001'
</code></pre>
<h3 id="格式化迷你语言-总结">“格式化迷你语言” 总结</h3>
<p>各种对齐选项的含义：</p>
<ul>
<li>&lsquo;&lt;&rsquo; 强制字段在可用空间内左对齐（这是大多数对象的默认值）。</li>
<li>&lsquo;&gt;&rsquo; 强制字段在可用空间内右对齐（这是数字的默认值）。</li>
<li>&lsquo;=&rsquo; 强制将填充放置在符号（如果有）之后但在数字之前。这用于以 “+000000120” 形式打印字段。此对齐选项仅对数字类型有效。当 ’0’  紧接在字段宽度之前时，它成为默认值。</li>
<li>&lsquo;^&rsquo; 强制字段在可用空间内居中。</li>
</ul>
<p>仅对数字类型有效选项：</p>
<ul>
<li>&lsquo;+&rsquo; 表示标志应该用于正数和负数。</li>
<li>&lsquo;-&rsquo; 表示标志应仅用于负数（这是默认行为）。</li>
<li>space 表示应在正数上使用前导空格，在负数上使用减号。</li>
<li>&lsquo;#&rsquo; 选项可以让“替代形式”被用于转换。替代形式可针对不同类型分别定义。对于整数类型，当使用二进制、八进制或十六进制输出时，此选项会为输出值添加相应的 &lsquo;0b&rsquo;, &lsquo;0o&rsquo; 或 &lsquo;0x&rsquo; 前缀。</li>
<li>&lsquo;,&rsquo; 选项表示使用逗号作为千位分隔符。对于感应区域设置的分隔符，请改用 &rsquo;n&rsquo; 整数表示类型。</li>
<li>&lsquo;_&rsquo; 选项表示对浮点表示类型和整数表示类型 &rsquo;d&rsquo; 使用下划线作为千位分隔符。对于整数表示类型 &lsquo;b&rsquo;,&lsquo;o&rsquo;, &lsquo;x&rsquo; 和 &lsquo;X&rsquo;，将为每 4 个数位插入一个下划线。对于其他表示类型指定此选项则将导致错误。</li>
</ul>
<p>确定了数据应如何呈现：</p>
<ul>
<li>&rsquo;s&rsquo; 字符串格式。这是字符串的默认类型，可以省略。</li>
<li>&lsquo;b&rsquo; 二进制格式。输出以 2 为基数的数字。</li>
<li>&lsquo;c&rsquo; 字符。在打印之前将整数转换为相应的 unicode 字符。</li>
<li>&rsquo;d&rsquo; 十进制整数。输出以 10 为基数的数字。</li>
<li>&lsquo;o&rsquo; 八进制格式。输出以 8 为基数的数字。</li>
<li>&lsquo;x&rsquo; 十六进制格式。输出以 16 为基数的数字，使用小写字母表示 9 以上的数码。</li>
<li>&lsquo;X&rsquo; 十六进制格式。输出以 16 为基数的数字，使用大写字母表示 9 以上的数码。</li>
<li>&rsquo;n&rsquo; 数字。这与 &rsquo;d&rsquo; 相似，不同之处在于它会使用当前区域设置来插入适当的数字分隔字符。</li>
<li>&rsquo;e&rsquo; 指数表示。以使用字母’e’ 来标示指数的科学计数法打印数字。默认的精度为 6。</li>
<li>&lsquo;E&rsquo; 指数表示。与 &rsquo;e&rsquo; 相似，不同之处在于它使用大写字母’E’ 作为分隔字符。</li>
<li>&lsquo;f&rsquo; 定点表示。将数字显示为一个定点数。默认的精确度为 6。</li>
<li>&lsquo;F&rsquo; 定点表示。与 &lsquo;f&rsquo; 相似，但会将 nan 转为 NAN 并将 inf 转为 INF。</li>
<li>&lsquo;g&rsquo; 常规格式。对于给定的精度 p &gt;= 1，这会将数值舍入到 p 位有效数字，再将结果以定点格式或科学计数法进行格式化，具体取决于其值的大小。</li>
<li>&lsquo;G&rsquo; 常规格式。类似于 &lsquo;g&rsquo;，不同之处在于当数值非常大时会切换为 &lsquo;E&rsquo;。无穷与 NaN 也会表示为大写形式。</li>
<li>&rsquo;n&rsquo; 数字。这与 &lsquo;g&rsquo; 相似，不同之处在于它会使用当前区域设置来插入适当的数字分隔字符。</li>
<li>&lsquo;%&rsquo; 百分比。将数字乘以 100 并显示为定点 (&lsquo;f&rsquo;) 格式，后面带一个百分号。</li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.format_map 格式化</h1>

<p>字符串方法 str.format_map()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>format_map)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

format_map(...)
    S.format_map(mapping) -&gt; str
    
    Return a formatted version of S, using substitutions from mapping.
    The substitutions are identified by braces ('{' and '}').
</code></pre>
<p>类似于 str.format(**mapping)，不同之处在于 mapping 会被直接使用。适宜使用此方法的一个例子是当 mapping 为 dict 的子类的情况：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 创建一个字典子类型，当 键值对 不存在时，返回键</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Default</span>(dict):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __missing__(self, key):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> key
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> Default(a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;a&#39;</span>], d[<span style="color:#e6db74">&#39;b&#39;</span>]
</span></span></code></pre></div><pre><code>(1, 'b')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># country 键值对不存在，所以直接格式化键 ‘country’</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{name}</span><span style="color:#e6db74"> was born in </span><span style="color:#e6db74">{country}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format_map(
</span></span><span style="display:flex;"><span>    Default(name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Guido&#39;</span>))
</span></span></code></pre></div><pre><code>'Guido was born in country'
</code></pre>
<p>与 format 格式化对比：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{a}</span><span style="color:#e6db74"> is </span><span style="color:#e6db74">{age}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format_map({<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;age&#39;</span>:<span style="color:#ae81ff">18</span>})
</span></span></code></pre></div><pre><code>'A is 18'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{a}</span><span style="color:#e6db74"> is </span><span style="color:#e6db74">{age}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#f92672">**</span>{<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;age&#39;</span>:<span style="color:#ae81ff">18</span>})
</span></span></code></pre></div><pre><code>'A is 18'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>f-string 格式化字符串</h1>

<p>f-string 即格式化字符串字面值。字符串以 &lsquo;f&rsquo; 或 &lsquo;F&rsquo; 为前缀。这种字符串可包含替换字段，即以 {} 标示的表达式。格式化字符串字面值，会在运行时将表达式求值，而其他字符串字面值总是一个常量。</p>
<p>格式化字符串字面值中的表达式会被当作包含在圆括号中的普通 Python 表达式一样处理，但有少数例外。</p>
<p>空表达式不被允许，lambda 和赋值表达式 :=（python 3.8版添加）必须显式地加上圆括号。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>(a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span> <span style="color:#75715e"># python 3.8 才能运行</span>
</span></span></code></pre></div><pre><code>'2'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>(<span style="color:#66d9ef">lambda</span> x:<span style="color:#ae81ff">1</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>'&lt;function &lt;lambda&gt; at 0x000001D70B06CA60&gt;'
</code></pre>
<p>替换表达式可以包含换行（例如在三重引号字符串中），但是不能包含注释。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>; b <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;&#39;&#39;3+2</span><span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span><span style="color:#e6db74">-5=
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"></span><span style="color:#e6db74">{</span>a <span style="color:#f92672">+</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;&#39;&#39;</span>
</span></span></code></pre></div><pre><code>'3+2-5=\n0'
</code></pre>
<p>每个表达式会在格式化字符串字面值所包含的位置按照从左至右的顺序被求值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">3</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>'False'
</code></pre>
<p>可以在表达式后加一个等于号 &lsquo;=&rsquo;（3.8 新版功能），提供了等于号 &lsquo;=&rsquo; 的时候，输出将包含 &lsquo;=&rsquo;、&rsquo;=&rsquo; 前后的空格以及求值结果。默认情况下，&rsquo;=&rsquo; 会导致表达式的 repr() 被使用，除非专门指定了格式。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>foo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bar&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span> foo <span style="color:#e6db74">= }</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><pre><code>&quot; foo = 'bar'&quot;
</code></pre>
<p>可以带一个以叹号 &lsquo;!&rsquo; 标示的转换字段，转换符 &lsquo;!s&rsquo; 即对结果调用 str()，&rsquo;!r&rsquo; 为调用 repr()，而 &lsquo;!a&rsquo; 为调用 ascii()。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>foo <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;bar&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>foo <span style="color:#e6db74">= !s}</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><pre><code>'foo = bar'
</code></pre>
<p>还可带一个以冒号 &lsquo;:&rsquo; 标示的格式说明符，“格式化迷你语言” 与 str.format() 方法所使用的微语言一致，详见 str.format 方法。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>foo <span style="color:#f92672">=</span> <span style="color:#ae81ff">3.14</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>foo<span style="color:#e6db74">:</span><span style="color:#e6db74">.4f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><pre><code>'3.1400'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">123</span><span style="color:#e6db74">:</span><span style="color:#e6db74">#o</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>'0o173'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">:</span><span style="color:#e6db74">.2%</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>'83.33%'
</code></pre>
<p>格式表达式中不允许有反斜杠，这会引发错误:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;newline: </span><span style="color:#e6db74">{</span>ord(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><pre><code>  File &quot;&lt;ipython-input-23-30c78f70325d&gt;&quot;, line 1
    f&quot;newline: {ord('\n')}&quot;
    ^
SyntaxError: f-string expression part cannot include a backslash
</code></pre>
<p>想包含需要用反斜杠转义的值，可以创建一个临时变量:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>newline <span style="color:#f92672">=</span> ord(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;newline: </span><span style="color:#e6db74">{</span>newline<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span></code></pre></div><pre><code>'newline: 10'
</code></pre>
<p>格式化字符串字面值不可用作文档字符串，即便其中没有包含表达式:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">foo</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Not a docstring&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(foo<span style="color:#f92672">.</span>__doc__)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>字符串操作符</h1>

<h2 id="操作符-">操作符 <code>*</code></h2>
<p>操作符 <code>*</code> 可以实现将字符串重复 n（整数）遍相连接：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;Python&#39;</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">3</span>
</span></span></code></pre></div><pre><code>'PythonPythonPython'
</code></pre>
<p>n 是小于 1 的整数，则得到空字符串：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;Python&#39;</span> <span style="color:#f92672">*</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><pre><code>''
</code></pre>
<p><code>*</code> 操作符可以与 <code>=</code> 连用，重复拼接并赋值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;py&#39;</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">*=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>'pypypy'
</code></pre>
<p>由于字符串是可迭代对象，因此可以使用 <code>*</code> 对字符串进行拆包：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#f92672">*</span><span style="color:#e6db74">&#39;Python&#39;</span>,)
</span></span></code></pre></div><pre><code>('P', 'y', 't', 'h', 'o', 'n')
</code></pre>
<h2 id="操作符--1">操作符 <code>%</code></h2>
<p>字符串使用 <code>%</code> 操作符，官方文档叫 “printf 风格的字符串格式化”。比较早的格式化方法，官方已不推荐使用，了解它能更好地读懂别人的代码。</p>
<p>转换标记符包含两个或更多字符并具有以下组成，且必须遵循如下规定的顺序：</p>
<ol>
<li>&lsquo;%&rsquo; 字符，用于标记转换符的起始。</li>
<li>映射键（可选），由加圆括号的字符序列组成。</li>
<li>转换旗标（可选），用于影响某些转换类型的结果。</li>
<li>最小字段宽度（可选）。如果指定为 &lsquo;*&rsquo; (星号)，则实际宽度会从 values 元组的下一元素中读取，要转换的对象则为最小字段宽度和可选的精度之后的元素。</li>
<li>精度（可选），以在 &lsquo;.&rsquo; (点号) 之后加精度值的形式给出。如果指定为 &lsquo;*&rsquo; (星号)，则实际精度会从 values 元组的下一元素中读取，要转换的对象则为精度之后的元素。</li>
<li>长度修饰符（可选）。</li>
<li>转换类型。</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;hi </span><span style="color:#e6db74">%r</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> <span style="color:#e6db74">&#39;python&#39;</span>
</span></span></code></pre></div><pre><code>&quot;hi 'python'&quot;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%s</span><span style="color:#e6db74"> </span><span style="color:#e6db74">%r</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (<span style="color:#e6db74">&#39;hi&#39;</span>,<span style="color:#e6db74">&#39;python&#39;</span>)
</span></span></code></pre></div><pre><code>&quot;hi 'python'&quot;
</code></pre>
<p>转换旗标为：</p>
<table>
<thead>
<tr>
<th>标志</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>&lsquo;#&rsquo;</td>
<td>值的转换将使用“替代形式”。</td>
</tr>
<tr>
<td>&lsquo;0&rsquo;</td>
<td>转换将为数字值填充零字符。</td>
</tr>
<tr>
<td>&lsquo;-&rsquo;</td>
<td>转换值将靠左对齐（如果同时给出 &lsquo;0&rsquo; 转换，则会覆盖后者）。</td>
</tr>
<tr>
<td>&rsquo; '</td>
<td>(空格) 符号位转换产生的正数（或空字符串）前将留出一个空格。</td>
</tr>
<tr>
<td>&lsquo;+&rsquo;</td>
<td>符号字符 (&rsquo;+&rsquo; 或 &lsquo;-&rsquo;) 将显示于转换结果的开头（会覆盖 ”空格” 旗标）。</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;A is </span><span style="color:#e6db74">%#x</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">18</span>
</span></span></code></pre></div><pre><code>'A is 0x12'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;A is </span><span style="color:#e6db74">%    d</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">18</span>
</span></span></code></pre></div><pre><code>'A is  18'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;A is </span><span style="color:#e6db74">%05o</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">18</span>
</span></span></code></pre></div><pre><code>'A is 00022'
</code></pre>
<p>转换类型为：</p>
<table>
<thead>
<tr>
<th>转换符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>&rsquo;d&rsquo;</td>
<td>有符号十进制整数。</td>
</tr>
<tr>
<td>&lsquo;i&rsquo;</td>
<td>有符号十进制整数。</td>
</tr>
<tr>
<td>&lsquo;o&rsquo;</td>
<td>有符号八进制数。</td>
</tr>
<tr>
<td>&lsquo;x&rsquo;</td>
<td>有符号十六进制数（小写）。</td>
</tr>
<tr>
<td>&lsquo;X&rsquo;</td>
<td>有符号十六进制数（大写）。</td>
</tr>
<tr>
<td>&rsquo;e&rsquo;</td>
<td>浮点指数格式（小写）。</td>
</tr>
<tr>
<td>&lsquo;E&rsquo;</td>
<td>浮点指数格式（大写）。</td>
</tr>
<tr>
<td>&lsquo;f&rsquo;</td>
<td>浮点十进制格式。</td>
</tr>
<tr>
<td>&lsquo;F&rsquo;</td>
<td>浮点十进制格式。</td>
</tr>
<tr>
<td>&lsquo;g&rsquo;</td>
<td>浮点格式。如果指数小于 -4 或不小于精度则使用小写指数格式，否则使用十进制格式。</td>
</tr>
<tr>
<td>&lsquo;G&rsquo;</td>
<td>浮点格式。如果指数小于 -4 或不小于精度则使用大写指数格式，否则使用十进制格式。</td>
</tr>
<tr>
<td>&lsquo;c&rsquo;</td>
<td>单个字符（接受整数或单个字符的字符串）。</td>
</tr>
<tr>
<td>&lsquo;r&rsquo;</td>
<td>字符串（使用repr() 转换任何 Python 对象）。</td>
</tr>
<tr>
<td>&rsquo;s&rsquo;</td>
<td>字符串（使用str() 转换任何 Python 对象）。</td>
</tr>
<tr>
<td>&lsquo;a&rsquo;</td>
<td>字符串（使用ascii() 转换任何 Python 对象）。</td>
</tr>
<tr>
<td>&lsquo;%&rsquo;</td>
<td>不转换参数，在结果中输出一个 &lsquo;%&rsquo; 字符。</td>
</tr>
</tbody>
</table>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">3.14</span>
</span></span></code></pre></div><pre><code>'3.140000'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%.3e</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">3.14</span>
</span></span></code></pre></div><pre><code>'3.140e+00'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%.1f%%</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> (<span style="color:#ae81ff">3.14</span><span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>)
</span></span></code></pre></div><pre><code>'314.0%'
</code></pre>
<p>当右边的参数为一个字典（或其他映射类型）时，字符串中的格式 必须包含加圆括号的映射键，对应 <code>%</code> 字符之后字典中的每一项。映射键将从映射中选取要格式化的值:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%(language)s</span><span style="color:#e6db74"> has </span><span style="color:#e6db74">%(number)03d</span><span style="color:#e6db74"> quote types.&#39;</span> <span style="color:#f92672">%</span>\
</span></span><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;language&#39;</span>: <span style="color:#e6db74">&#34;Python&#34;</span>, <span style="color:#e6db74">&#34;number&#34;</span>: <span style="color:#ae81ff">2</span>}
</span></span></code></pre></div><pre><code>'Python has 002 quote types.'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.encode 编码为字节串</h1>

<p>字符串方法 str.encode()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>encode)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

encode(self, /, encoding='utf-8', errors='strict')
    Encode the string using the codec registered for encoding.
    
    encoding
      The encoding in which to encode the string.
    errors
      The error handling scheme to use for encoding errors.
      The default is 'strict' meaning that encoding errors raise a
      UnicodeEncodeError.  Other possible values are 'ignore', 'replace' and
      'xmlcharrefreplace' as well as any other name registered with
      codecs.register_error that can handle UnicodeEncodeErrors.
</code></pre>
<p>返回原字符串编码为字节串对象的版本。默认编码为 &lsquo;utf-8&rsquo;。可以给出 errors 来设置不同的错误处理方案。errors 的默认值为 &lsquo;strict&rsquo;，表示编码错误会引发 UnicodeError。</p>
<p>下列为 &lsquo;utf-8&rsquo; 和 &lsquo;gbk&rsquo; 两种编码比较：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 python&#39;</span><span style="color:#f92672">.</span>encode()
</span></span></code></pre></div><pre><code>b'\xe5\x97\xa8 python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 python&#39;</span><span style="color:#f92672">.</span>encode(<span style="color:#e6db74">&#39;gbk&#39;</span>)
</span></span></code></pre></div><pre><code>b'\xe0\xcb python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;▲ python&#39;</span><span style="color:#f92672">.</span>encode(<span style="color:#e6db74">&#39;gbk&#39;</span>)
</span></span></code></pre></div><pre><code>b'\xa1\xf8 python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;🔺 python&#39;</span><span style="color:#f92672">.</span>encode()
</span></span></code></pre></div><pre><code>b'\xf0\x9f\x94\xba python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;🔺 python&#39;</span><span style="color:#f92672">.</span>encode(<span style="color:#e6db74">&#39;gbk&#39;</span>) <span style="color:#75715e">#gbk 不能编码 🔺</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

UnicodeEncodeError                        Traceback (most recent call last)

&lt;ipython-input-15-60e87a9208be&gt; in &lt;module&gt;
----&gt; 1 '🔺 python'.encode('gbk')


UnicodeEncodeError: 'gbk' codec can't encode character '\U0001f53a' in position 0: illegal multibyte sequence
</code></pre>
<p><strong>拓展：</strong></p>
<p>将字节串解码为字符串用 bytes.decode:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(bytes<span style="color:#f92672">.</span>decode)
</span></span></code></pre></div><pre><code>[1;31mSignature:[0m [0mbytes[0m[1;33m.[0m[0mdecode[0m[1;33m([0m[0mself[0m[1;33m,[0m [1;33m/[0m[1;33m,[0m [0mencoding[0m[1;33m=[0m[1;34m'utf-8'[0m[1;33m,[0m [0merrors[0m[1;33m=[0m[1;34m'strict'[0m[1;33m)[0m[1;33m[0m[1;33m[0m[0m
[1;31mDocstring:[0m
Decode the bytes using the codec registered for encoding.

encoding
  The encoding with which to decode the bytes.
errors
  The error handling scheme to use for the handling of decoding errors.
  The default is 'strict' meaning that decoding errors raise a
  UnicodeDecodeError. Other possible values are 'ignore' and 'replace'
  as well as any other name registered with codecs.register_error that
  can handle UnicodeDecodeErrors.
[1;31mType:[0m      method_descriptor
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\xf0\x9f\x94\xba</span><span style="color:#e6db74"> python&#39;</span><span style="color:#f92672">.</span>decode()
</span></span></code></pre></div><pre><code>'🔺 python'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.capitalize 首字符大写</h1>

<p>字符串方法 str.capitalize()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>capitalize)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

capitalize(self, /)
    Return a capitalized version of the string.
    
    More specifically, make the first character have upper case and the rest lower
    case.
</code></pre>
<p>返回原字符串的副本，其首个字符大写，其余为小写:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pyTHON&#39;</span><span style="color:#f92672">.</span>capitalize()
</span></span></code></pre></div><pre><code>'Python'
</code></pre>
<p>只有首个字符是字母，才会将首个字符大写：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 pyTHON&#39;</span><span style="color:#f92672">.</span>capitalize()
</span></span></code></pre></div><pre><code>'嗨 python'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.casefold 消除大小写</h1>

<p>字符串方法 str.casefold()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>casefold)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

casefold(self, /)
    Return a version of the string suitable for caseless comparisons.
</code></pre>
<p>返回原字符串消除大小写的副本。消除大小写的字符串可用于忽略大小写的匹配。</p>
<p>消除大小写类似于转为小写，但是更加彻底一些，因为它会移除字符串中的所有大小写变化形式。例如，德语小写字母 &lsquo;ß&rsquo; 相当于 &ldquo;ss&rdquo;，由于它已经是小写，lower() 不会对 &lsquo;ß&rsquo; 做任何改变，而 casefold() 则会将其转换为 &ldquo;ss&rdquo;。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pYthOn&#39;</span><span style="color:#f92672">.</span>casefold()
</span></span></code></pre></div><pre><code>'python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;ß&#39;</span><span style="color:#f92672">.</span>casefold()
</span></span></code></pre></div><pre><code>'ss'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;ß&#39;</span><span style="color:#f92672">.</span>lower()
</span></span></code></pre></div><pre><code>'ß'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.lower 转小写</h1>

<p>字符串方法 str.lower()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>lower)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

lower(self, /)
    Return a copy of the string converted to lowercase.
</code></pre>
<p>返回原字符串的副本，其所有区分大小写的字符均转换为小写。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;PyThon&#39;</span><span style="color:#f92672">.</span>lower()
</span></span></code></pre></div><pre><code>'python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 PyThon&#39;</span><span style="color:#f92672">.</span>lower()
</span></span></code></pre></div><pre><code>'嗨 python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;PyThon Γ&#39;</span><span style="color:#f92672">.</span>lower()
</span></span></code></pre></div><pre><code>'python γ'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.title 单词首字母大写</h1>

<p>字符串方法 str.title()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>title)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

title(self, /)
    Return a version of the string where each word is titlecased.
    
    More specifically, words start with uppercased characters and all remaining
    cased characters have lower case.
</code></pre>
<p>返回原字符串的标题版本，其中每个单词第一个字母为大写，其余字母为小写。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;hi python&#39;</span><span style="color:#f92672">.</span>title()
</span></span></code></pre></div><pre><code>'Hi Python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨python&#39;</span><span style="color:#f92672">.</span>title()
</span></span></code></pre></div><pre><code>'嗨Python'
</code></pre>
<p>该算法使用一种简单的与语言无关的定义，将连续的字母组合视为单词。该定义在多数情况下都很有效，但它也意味着代表缩写形式与所有格的撇号也会成为单词边界，这可能导致不希望的结果:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;they&#39;re bill&#39;s friends from the UK&#34;</span><span style="color:#f92672">.</span>title()
</span></span></code></pre></div><pre><code>&quot;They'Re Bill'S Friends From The Uk&quot;
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.upper 转大写</h1>

<p>字符串方法 str.upper()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>upper)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

upper(self, /)
    Return a copy of the string converted to uppercase.
</code></pre>
<p>返回原字符串的副本，其中所有区分大小写的字符均转换为大写。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨python&#39;</span><span style="color:#f92672">.</span>upper()
</span></span></code></pre></div><pre><code>'嗨PYTHON'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;πpython&#39;</span><span style="color:#f92672">.</span>upper()
</span></span></code></pre></div><pre><code>'ΠPYTHON'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.swapcase 大小写互转</h1>

<p>字符串方法 str.swapcase()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>swapcase)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

swapcase(self, /)
    Convert uppercase characters to lowercase and lowercase characters to uppercase.
</code></pre>
<p>返回原字符串的副本，其中大写字符转换为小写，反之亦然。请注意 s.swapcase().swapcase() == s 并不一定为真值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;PythoN&#39;</span><span style="color:#f92672">.</span>swapcase()
</span></span></code></pre></div><pre><code>'pYTHOn'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;pYTHOn&#39;</span><span style="color:#f92672">.</span>swapcase()
</span></span></code></pre></div><pre><code>'PythoN'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;ß&#39;</span><span style="color:#f92672">.</span>swapcase() <span style="color:#75715e"># 德语的小写字母 ß 相当于 ss</span>
</span></span></code></pre></div><pre><code>'SS'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;SS&#39;</span><span style="color:#f92672">.</span>swapcase()
</span></span></code></pre></div><pre><code>'ss'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;ß&#39;</span><span style="color:#f92672">.</span>swapcase()<span style="color:#f92672">.</span>swapcase() <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;ß&#39;</span>
</span></span></code></pre></div><pre><code>False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.zfill 填充 0</h1>

<p>字符串方法 str.zfill()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>zfill)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

zfill(self, width, /)
    Pad a numeric string with zeros on the left, to fill a field of the given width.
    
    The string is never truncated.
</code></pre>
<p>返回原字符串的副本，在左边填充 ASCII &lsquo;0&rsquo; 数码使其长度变为 width。正负值前缀 (&rsquo;+&rsquo;/&rsquo;-&rsquo;) 的处理方式是在正负符号 之后填充而非在之前。如果 width 小于等于 len(str) 则返回原字符串的副本。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;42a&#34;</span><span style="color:#f92672">.</span>zfill(<span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>'0042a'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;-42&#34;</span><span style="color:#f92672">.</span>zfill(<span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>'-0042'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#34;-42&#34;</span><span style="color:#f92672">.</span>zfill(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>'-42'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.translate 按表转换</h1>

<p>文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>translate)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

translate(self, table, /)
    Replace each character in the string using the given translation table.
    
      table
        Translation table, which must be a mapping of Unicode ordinals to
        Unicode ordinals, strings, or None.
    
    The table must implement lookup/indexing via __getitem__, for instance a
    dictionary or list.  If this operation raises LookupError, the character is
    left untouched.  Characters mapped to None are deleted.
</code></pre>
<p>返回原字符串的副本，其中每个字符按给定的转换表进行映射。转换表必须是一个使用 <code>__getitem__()</code> 来实现索引操作的对象，通常为 mapping 或 sequence。当以 Unicode 码位序号（整数）为索引时，转换表对象可以做以下任何一种操作：返回 Unicode 序号或字符串，将字符映射为一个或多个字符；返回 None，将字符从结果字符串中删除；或引发 LookupError 异常，将字符映射为其自身。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ord(<span style="color:#e6db74">&#39;p&#39;</span>),ord(<span style="color:#e6db74">&#39;C&#39;</span>)
</span></span></code></pre></div><pre><code>(112, 67)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>translate({<span style="color:#ae81ff">112</span>:<span style="color:#ae81ff">67</span>})
</span></span></code></pre></div><pre><code>'Cython'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>translate({<span style="color:#ae81ff">112</span>:<span style="color:#e6db74">&#39;Cp&#39;</span>})
</span></span></code></pre></div><pre><code>'Cpython'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>translate({<span style="color:#ae81ff">112</span>:<span style="color:#66d9ef">None</span>})
</span></span></code></pre></div><pre><code>'ython'
</code></pre>
<p>你可以使用 str.maketrans() 基于不同格式的字符到字符映射来创建一个转换映射表。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>table <span style="color:#f92672">=</span> str<span style="color:#f92672">.</span>maketrans(<span style="color:#e6db74">&#39;pto&#39;</span>,<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>translate(table)
</span></span></code></pre></div><pre><code>'1y2h3n'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.maketrans 生成转换表</h1>

<p>字符串方法 str.maketrans()，该方法是一个静态方法（没有 self），Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>maketrans)
</span></span></code></pre></div><pre><code>Help on built-in function maketrans:

maketrans(x, y=None, z=None, /)
    Return a translation table usable for str.translate().
    
    If there is only one argument, it must be a dictionary mapping Unicode
    ordinals (integers) or characters to Unicode ordinals, strings or None.
    Character keys will be then converted to ordinals.
    If there are two arguments, they must be strings of equal length, and
    in the resulting dictionary, each character in x will be mapped to the
    character at the same position in y. If there is a third argument, it
    must be a string, whose characters will be mapped to None in the result.
</code></pre>
<p>返回一个可供 str.translate() 使用的转换对照表。</p>
<p>如果只有一个参数，则它必须是一个将 Unicode 码位序号（整数）或字符（长度为 1 的字符串）映射到 Unicode 码位序号、（任意长度的）字符串 或 None 的字典。字符键将会被转换为码位序号。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str<span style="color:#f92672">.</span>maketrans({<span style="color:#ae81ff">97</span>:<span style="color:#e6db74">&#39;123&#39;</span>})
</span></span></code></pre></div><pre><code>{97: '123'}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str<span style="color:#f92672">.</span>maketrans({<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">97</span>})
</span></span></code></pre></div><pre><code>{97: 97}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str<span style="color:#f92672">.</span>maketrans({<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#66d9ef">None</span>})
</span></span></code></pre></div><pre><code>{97: None}
</code></pre>
<p>如果有两个参数，则它们必须是两个长度相等的字符串，并且在结果字典中，x 中每个字符将被映射到 y 中相同位置的字符。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str<span style="color:#f92672">.</span>maketrans(<span style="color:#e6db74">&#39;abc&#39;</span>,<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span></code></pre></div><pre><code>{97: 49, 98: 50, 99: 51}
</code></pre>
<p>如果有第三个参数，它必须是一个字符串，其中的字符将在结果中被映
射到 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str<span style="color:#f92672">.</span>maketrans(<span style="color:#e6db74">&#39;ab&#39;</span>,<span style="color:#e6db74">&#39;12&#39;</span>,<span style="color:#e6db74">&#39;xy&#39;</span>)
</span></span></code></pre></div><pre><code>{97: 49, 98: 50, 120: None, 121: None}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.isalnum 是字母或数字？</h1>

<p>字符串方法 str.isalnum()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>isalnum)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

isalnum(self, /)
    Return True if the string is an alpha-numeric string, False otherwise.
    
    A string is alpha-numeric if all characters in the string are alpha-numeric and
    there is at least one character in the string.
</code></pre>
<p>如果字符串中的所有字符都是字母或数字且至少有一个字符，则返回 True ，否则返回 False 。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>isalnum()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python123&#39;</span><span style="color:#f92672">.</span>isalnum()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python 123&#39;</span><span style="color:#f92672">.</span>isalnum()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;γ&#39;</span><span style="color:#f92672">.</span>isalnum()
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.isalpha 是字母（包括汉字等）？</h1>

<p>字符串方法 str.isalpha()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>isalpha)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

isalpha(self, /)
    Return True if the string is an alphabetic string, False otherwise.
    
    A string is alphabetic if all characters in the string are alphabetic and there
    is at least one character in the string.
</code></pre>
<p>如果字符串中的所有字符都是字母，并且至少有一个字符，返回 True ，否则返回 False 。</p>
<p>字母字符是指那些在 Unicode 字符数据库中定义为 ”Letter” 的字符，即那些具有 ”Lm”、”Lt”、”Lu”、”Ll” 或 ”Lo” 之一的通用类别属性的字符。注意，这与 Unicode 标准中定义的 ”字母” 属性不同。</p>
<p>此处的字母包括汉字等。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>isalpha()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;γ&#39;</span><span style="color:#f92672">.</span>isalpha()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨你好&#39;</span><span style="color:#f92672">.</span>isalpha()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨！你好&#39;</span><span style="color:#f92672">.</span>isalpha()
</span></span></code></pre></div><pre><code>False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.isdecimal 是十进制字符？</h1>

<p>字符串方法 str.isdecimal()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>isdecimal)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

isdecimal(self, /)
    Return True if the string is a decimal string, False otherwise.
    
    A string is a decimal string if all characters in the string are decimal and
    there is at least one character in the string.
</code></pre>
<p>如果字符串中的所有字符都是十进制字符且该字符串至少有一个字符，则返回 True，否则返回 False。</p>
<p>十进制字符指那些可以用来组成 10 进制数字的字符。严格地讲，十进制字符是 Unicode 通用类别 ”Nd” 中的一个字符。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>isdecimal()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;3.14&#39;</span><span style="color:#f92672">.</span>isdecimal()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;０1２3&#39;</span><span style="color:#f92672">.</span>isdecimal()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;5²&#39;</span><span style="color:#f92672">.</span>isdecimal()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>isdecimal()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;100&#39;</span><span style="color:#f92672">.</span>isdecimal()
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-13-52e1682babfd&gt; in &lt;module&gt;
----&gt; 1 b'100'.isdecimal()


AttributeError: 'bytes' object has no attribute 'isdecimal'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.isdigit 是数字？</h1>

<p>字符串方法 str.isdigit()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>isdigit)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

isdigit(self, /)
    Return True if the string is a digit string, False otherwise.
    
    A string is a digit string if all characters in the string are digits and there
    is at least one character in the string.
</code></pre>
<p>如果字符串中的所有字符都是数字，并且至少有一个字符，返回 True ，否则返回 False 。</p>
<p>数字包括十进制字符和需要特殊处理的数字，如兼容性上标数字。这包括了不能用来组成 10 进制数的数字，如 Kharosthi 数。严格地讲，数字是指属性值为 Numeric_Type=Digit 或 Numeric_Type=Decimal 的字符。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;一&#39;</span><span style="color:#f92672">.</span>isdigit()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;3.14&#39;</span><span style="color:#f92672">.</span>isdigit()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;１２３&#39;</span><span style="color:#f92672">.</span>isdigit()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;123&#39;</span><span style="color:#f92672">.</span>isdigit()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;5²&#39;</span><span style="color:#f92672">.</span>isdigit()
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.isnumeric 是数值字符？</h1>

<p>字符串方法 str.isnumeric()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>isnumeric)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

isnumeric(self, /)
    Return True if the string is a numeric string, False otherwise.
    
    A string is numeric if all characters in the string are numeric and there is at
    least one character in the string.
</code></pre>
<p>如果字符串中至少有一个字符且所有字符均为数值字符则返回 True，否则返回 False。</p>
<p>数值字符包括数字字符，以及所有在 Unicode 中设置了数值特性属性的字符，例如 U+2155, VUL-GAR FRACTION ONE FIFTH。正式的定义为：数值字符就是具有特征属性值 Numeric_Type=Digit, Numeric_Type=Decimal 或 Numeric_Type=Numeric 的字符。</p>
<p>此处所指数字包括罗马数字，汉字数字等。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;②&#39;</span><span style="color:#f92672">.</span>isnumeric()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;3.14&#39;</span><span style="color:#f92672">.</span>isnumeric()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;5²&#39;</span><span style="color:#f92672">.</span>isnumeric()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;Ⅷ&#39;</span><span style="color:#f92672">.</span>isnumeric()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;一&#39;</span><span style="color:#f92672">.</span>isnumeric()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;壹&#39;</span><span style="color:#f92672">.</span>isnumeric()
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.islower 是小写？</h1>

<p>字符串方法 str.islower()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>islower)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

islower(self, /)
    Return True if the string is a lowercase string, False otherwise.
    
    A string is lowercase if all cased characters in the string are lowercase and
    there is at least one cased character in the string.
</code></pre>
<p>如果字符串中至少有一个区分大小写的字符且此类字符均为小写则返回 True，否则返回 False。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨&#39;</span><span style="color:#f92672">.</span>islower()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 Abc&#39;</span><span style="color:#f92672">.</span>islower()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 abc&#39;</span><span style="color:#f92672">.</span>islower()
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.isupper 是大写？</h1>

<p>字符串方法 str.isupper()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>isupper)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

isupper(self, /)
    Return True if the string is an uppercase string, False otherwise.
    
    A string is uppercase if all cased characters in the string are uppercase and
    there is at least one cased character in the string.
</code></pre>
<p>如果字符串中至少有一个区分大小写的字符且此类字符均为大写则返回 True，否则返回 False。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;Γ&#39;</span><span style="color:#f92672">.</span>isupper()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 AB&#39;</span><span style="color:#f92672">.</span>isupper()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 Ab&#39;</span><span style="color:#f92672">.</span>isupper()
</span></span></code></pre></div><pre><code>False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.istitle 是标题字符串？</h1>

<p>字符串方法 str.istitle()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>istitle)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

istitle(self, /)
    Return True if the string is a title-cased string, False otherwise.
    
    In a title-cased string, upper- and title-case characters may only
    follow uncased characters and lowercase characters only cased ones.
</code></pre>
<p>如果字符串中至少有一个字符且为标题字符串则返回 True，例如大写字符之后只能带非大写字符而小写字符必须有大写字符打头。否则返回 False。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;Abc Py&#39;</span><span style="color:#f92672">.</span>istitle()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 A11&#39;</span><span style="color:#f92672">.</span>istitle()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 Abc&#39;</span><span style="color:#f92672">.</span>istitle()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 ABC&#39;</span><span style="color:#f92672">.</span>istitle()
</span></span></code></pre></div><pre><code>False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.isascii 是 ASCII 字符？</h1>

<p>字符串方法 str.isascii()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>isascii)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

isascii(self, /)
    Return True if all characters in the string are ASCII, False otherwise.
    
    ASCII characters have code points in the range U+0000-U+007F.
    Empty string is ASCII too.
</code></pre>
<p>如果字符串为空或字符串中的所有字符都是 ASCII ，返回 True，否则返回 False。ASCII 字符的码点范围是 U+0000-U+007F。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>isascii()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span><span style="color:#f92672">.</span>isascii()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python.3&#39;</span><span style="color:#f92672">.</span>isascii()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;嗨 python&#39;</span><span style="color:#f92672">.</span>isascii()
</span></span></code></pre></div><pre><code>False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.isidentifier 是有效标识符？</h1>

<p>字符串方法 str.isidentifier()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>isidentifier)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

isidentifier(self, /)
    Return True if the string is a valid Python identifier, False otherwise.
    
    Call keyword.iskeyword(s) to test whether string s is a reserved identifier,
    such as &quot;def&quot; or &quot;class&quot;.
</code></pre>
<p>如果字符串是有效的标识符，返回 True，否则返回 False。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>isidentifier()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;1mycode&#39;</span><span style="color:#f92672">.</span>isidentifier()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;_mycode&#39;</span><span style="color:#f92672">.</span>isidentifier()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;123&#39;</span><span style="color:#f92672">.</span>isidentifier()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;_123&#39;</span><span style="color:#f92672">.</span>isidentifier()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;变量名&#39;</span><span style="color:#f92672">.</span>isidentifier()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;for&#39;</span><span style="color:#f92672">.</span>isidentifier()
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.isprintable 是可打印字符？</h1>

<p>字符串方法 str.isprintable()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>isprintable)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

isprintable(self, /)
    Return True if the string is printable, False otherwise.
    
    A string is printable if all of its characters are considered printable in
    repr() or if it is empty.
</code></pre>
<p>如果字符串中所有字符均为可打印字符或字符串为空则返回 True，否则返回 False。</p>
<p>不可打印字符是在 Unicode 字符数据库中被定义为 ”Other” 或 ”Separator” 的字符，例外情况是 ASCII 空格字符 (0x20) 被视作可打印字符。</p>
<p>请注意在此语境下可打印字符是指当对一个字符串发起调用 repr() 时不必被转义的字符。它们与字符串写入 sys.stdout 或 sys.stderr 时所需的处理无关。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>isprintable()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39; &#39;</span><span style="color:#f92672">.</span>isprintable()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>isprintable()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;\python&#39;</span><span style="color:#f92672">.</span>isprintable()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;py</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">hon&#39;</span><span style="color:#f92672">.</span>isprintable()
</span></span></code></pre></div><pre><code>False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.isspace 是空白字符？</h1>

<p>字符串方法 str.isspace()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str<span style="color:#f92672">.</span>isspace)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

isspace(self, /)
    Return True if the string is a whitespace string, False otherwise.
    
    A string is whitespace if all characters in the string are whitespace and there
    is at least one character in the string.
</code></pre>
<p>如果字符串中只有空白字符且至少有一个字符则返回 True，否则返回 False。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>isspace()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39; &#39;</span><span style="color:#f92672">.</span>isspace()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n\t\r\f</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>isspace()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39; </span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>isspace()
</span></span></code></pre></div><pre><code>False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.removeprefix  移除前缀</h1>

<p>字符串方法 str.removeprefix()。</p>
<p>3.9 版本新功能。</p>
<p>str.removeprefix(prefix, /)，如果字符串以 前缀字符串 prefix 开头，返回 string[len(prefix):]，否则，返回原始字符串的副本。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;TestHook&#39;</span><span style="color:#f92672">.</span>removeprefix(<span style="color:#e6db74">&#39;Test&#39;</span>)
</span></span></code></pre></div><pre><code>'Hook'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;BaseTestCase&#39;</span><span style="color:#f92672">.</span>removeprefix(<span style="color:#e6db74">&#39;Test&#39;</span>)
</span></span></code></pre></div><pre><code>'BaseTestCase'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str.removesuffix 移除后缀</h1>

<p>字符串方法 str.removesuffix()。</p>
<p>3.9 版本新功能。</p>
<p>str.removesuffix(suffix, /)，如果字符串以 后缀字符串 suffix 结尾，并且后缀非空，返回 string[:-len(suffix)]，否则，返回原始字符串的副本。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;MiscTests&#39;</span><span style="color:#f92672">.</span>removesuffix(<span style="color:#e6db74">&#39;Tests&#39;</span>)
</span></span></code></pre></div><pre><code>'Misc'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;TmpDirMixin&#39;</span><span style="color:#f92672">.</span>removesuffix(<span style="color:#e6db74">&#39;Tests&#39;</span>)
</span></span></code></pre></div><pre><code>'TmpDirMixin'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>列表</h1>

<p>列表对象 list 是高级数据结构的一种，通过方括号括起、逗号分隔的一组值得到。类型是 list。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>list
</code></pre>
<p>列表是可变序列，通常用于存放同类项目的集合。但没做限制，可以存放任意对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;a&#39;</span>,int]
</span></span></code></pre></div><pre><code>[1, 'a', int]
</code></pre>
<p>列表是可变的，分别创建两个值相同的列表，一定是不同的对象；而同一个列表对象中的元素是可以改变的：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a, b <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>], [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">==</span> b
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>id(a), id(b)
</span></span></code></pre></div><pre><code>(2004948061384, 2004947934152)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>
</span></span><span style="display:flex;"><span>a, id(a)
</span></span></code></pre></div><pre><code>(['a', 2], 2004948061384)
</code></pre>
<p>列表创建方法有：直接用一对方括号表示；<a href="../03_list/02_list_comprehension">列表推导式</a>；或使用内建函数 <a href="../11_built-in_function/37_list">list()</a>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[], [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>([], [1, 2])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>)]
</span></span></code></pre></div><pre><code>[0, 1, 2]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(<span style="color:#e6db74">&#39;abc&#39;</span>)
</span></span></code></pre></div><pre><code>['a', 'b', 'c']
</code></pre>
<p>列表的所有切片都将得到一个新列表，这意味着以下切片操作会返回列表的一个浅拷贝:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>list_2 <span style="color:#f92672">=</span> list_1[:]
</span></span><span style="display:flex;"><span>id(list_1), id(list_2)
</span></span></code></pre></div><pre><code>(2004947038600, 2004948064968)
</code></pre>
<p>然而，列表可以利用切片改变自身的内容，列表仍然是原来的列表：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1[:] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;abc&#39;</span>
</span></span><span style="display:flex;"><span>list_1, id(list_1)
</span></span></code></pre></div><pre><code>(['a', 'b', 'c'], 2004947038600)
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/03_list/_index.files/01_list.ipynb">01_list.ipynb</a> (5 KB)</li>
    <li><a href="/python/03_list/_index.files/02_list_comprehension.ipynb">02_list_comprehension.ipynb</a> (7 KB)</li>
    <li><a href="/python/03_list/_index.files/03_list_indexes_and_slices.ipynb">03_list_indexes_and_slices.ipynb</a> (5 KB)</li>
    <li><a href="/python/03_list/_index.files/04_list_operator.ipynb">04_list_operator.ipynb</a> (5 KB)</li>
    <li><a href="/python/03_list/_index.files/05_list.append.ipynb">05_list.append.ipynb</a> (2 KB)</li>
    <li><a href="/python/03_list/_index.files/06_list.extend.ipynb">06_list.extend.ipynb</a> (2 KB)</li>
    <li><a href="/python/03_list/_index.files/07_list.insert.ipynb">07_list.insert.ipynb</a> (2 KB)</li>
    <li><a href="/python/03_list/_index.files/08_list.sort.ipynb">08_list.sort.ipynb</a> (6 KB)</li>
    <li><a href="/python/03_list/_index.files/09_list.reverse.ipynb">09_list.reverse.ipynb</a> (2 KB)</li>
    <li><a href="/python/03_list/_index.files/10_list.pop.ipynb">10_list.pop.ipynb</a> (3 KB)</li>
    <li><a href="/python/03_list/_index.files/11_list.remove.ipynb">11_list.remove.ipynb</a> (3 KB)</li>
    <li><a href="/python/03_list/_index.files/12_list.count.ipynb">12_list.count.ipynb</a> (1 KB)</li>
    <li><a href="/python/03_list/_index.files/13_list.index.ipynb">13_list.index.ipynb</a> (3 KB)</li>
    <li><a href="/python/03_list/_index.files/14_list.copy.ipynb">14_list.copy.ipynb</a> (2 KB)</li>
    <li><a href="/python/03_list/_index.files/15_list.clear.ipynb">15_list.clear.ipynb</a> (2 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>列表推导式</h1>

<p>列表推导式提供了一个更简单的创建列表的方法。常见的用法是把某种操作应用于序列或可迭代对象的每个元素上，然后使用其结果来创建列表，或者通过满足某些特定条件元素来创建子序列。</p>
<p>对比下列两种创建数值平方列表的方式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>squares <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>    squares<span style="color:#f92672">.</span>append(x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(squares)
</span></span><span style="display:flex;"><span>print(x) <span style="color:#75715e"># 产生了一个变量 x </span>
</span></span></code></pre></div><pre><code>[0, 1, 4, 9, 16]
4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>squares <span style="color:#f92672">=</span> [y<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> y <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>)]
</span></span><span style="display:flex;"><span>print(squares)
</span></span><span style="display:flex;"><span>print(y) <span style="color:#75715e"># 没有多余变量 y</span>
</span></span></code></pre></div><pre><code>[0, 1, 4, 9, 16]


---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-3-c81791cbad54&gt; in &lt;module&gt;
      1 squares = [y**2 for y in range(5)]
      2 print(squares)
----&gt; 3 print(y) #


NameError: name 'y' is not defined
</code></pre>
<p>我们发现，列表推导式简洁漂亮、易读，不会产生多余的变量而可能带来副作用。</p>
<p>列表推导式示例:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span> [(x, y) <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>] <span style="color:#66d9ef">for</span> y <span style="color:#f92672">in</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>] <span style="color:#66d9ef">if</span> x <span style="color:#f92672">!=</span> y]
</span></span></code></pre></div><pre><code>[(1, 3), (2, 1), (2, 3)]
</code></pre>
<p>相当于：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> y <span style="color:#f92672">in</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>]:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> x <span style="color:#f92672">!=</span> y:
</span></span><span style="display:flex;"><span>            _list<span style="color:#f92672">.</span>append((x,y))
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[(1, 3), (2, 1), (2, 3)]
</code></pre>
<p>列表推导式可以使用复杂的表达式和嵌套函数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> pi
</span></span><span style="display:flex;"><span>[str(round(pi, i)) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>)]
</span></span></code></pre></div><pre><code>['3.1', '3.14', '3.142']
</code></pre>
<p>嵌套的列表推导式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>matrix <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>],
</span></span><span style="display:flex;"><span>          [<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>]]
</span></span><span style="display:flex;"><span>[[row[i] <span style="color:#66d9ef">for</span> row <span style="color:#f92672">in</span> matrix] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>)]
</span></span></code></pre></div><pre><code>[[1, 5], [2, 6], [3, 7]]
</code></pre>
<p>相当于：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>matrix <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>],
</span></span><span style="display:flex;"><span>          [<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>]]
</span></span><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    lst <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> row <span style="color:#f92672">in</span> matrix:
</span></span><span style="display:flex;"><span>        lst<span style="color:#f92672">.</span>append(row[i])
</span></span><span style="display:flex;"><span>    _list<span style="color:#f92672">.</span>append(lst)
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[[1, 5], [2, 6], [3, 7]]
</code></pre>
<p>判断语句在前的列表推导式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#66d9ef">True</span> <span style="color:#66d9ef">if</span> i <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">False</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">9</span>]]
</span></span></code></pre></div><pre><code>[False, True, False, False]
</code></pre>
<p>相当于：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">7</span>,<span style="color:#ae81ff">9</span>]:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> i <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        _list<span style="color:#f92672">.</span>append(<span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        _list<span style="color:#f92672">.</span>append(<span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[False, True, False, False]
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>列表的索引和切片</h1>

<p>列表是序列类型中的可变类型，它的索引和切片操作，和通用的序列操作比较，有许多不一样的地方，主要体现在利用索引和切片对列表元素进行增、删、改。</p>
<p>索引和切片是序列类型通用操作，详细的规则和用法，见<a href="/python/05_sequence/03_index_slice/">序列索引和切片</a>。</p>
<p>列表可以利用索引替换某一个元素：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>_list[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[1, 0, 3]
</code></pre>
<p>利用切片将切片中的元素替换为可迭代对象中的元素：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>_list[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;123&#39;</span>
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[1, '1', '2', '3']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 该替换,切片长度和可迭代对象长度必须相等</span>
</span></span><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>_list[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;24&#39;</span>
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[1, '2', 3, '4', 5]
</code></pre>
<p>需要注意，替换并没有改变原来的列表对象：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>print(id(list_1),list_1)
</span></span><span style="display:flex;"><span>list_1[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>print(id(list_1),list_1)
</span></span><span style="display:flex;"><span>list_1[:] <span style="color:#f92672">=</span> range(<span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>print(id(list_1),list_1)
</span></span><span style="display:flex;"><span>list_1[::<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> (<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>)
</span></span><span style="display:flex;"><span>print(id(list_1),list_1)
</span></span></code></pre></div><pre><code>2065281773704 [1, 2, 3]
2065281773704 [1, 2, 0]
2065281773704 [0, 1, 2, 3, 4]
2065281773704 ['a', 1, 'b', 3, 'c']
</code></pre>
<p>可以利用切片在列表中任意位置插入数据片段：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在前面插入两个 0</span>
</span></span><span style="display:flex;"><span>_list[:<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> (<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>print(_list)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在索引为 2 的元素前面插入 &#39;a&#39;,&#39;b&#39;</span>
</span></span><span style="display:flex;"><span>_list[<span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>]
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[0, 0, 1, 2, 3]


[0, 0, 'a', 'b', 1, 2, 3]
</code></pre>
<p>列由切片浅拷贝列表，生成新的列表，但列表中有可变对象时，新列表中的可变对象和对应的原来列表中的可变对象是同一个对象的多次引用：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1 <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>],<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>list_2 <span style="color:#f92672">=</span> list_1[:]
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;原列表：&#39;</span>,id(list_1),<span style="color:#e6db74">&#39;新列表：&#39;</span>,id(list_2))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;原列表中的可变对象：&#39;</span>,
</span></span><span style="display:flex;"><span>      id(list_1[<span style="color:#ae81ff">0</span>]),
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">新列表中对应的可变对象：&#39;</span>,id(list_2[<span style="color:#ae81ff">0</span>]))
</span></span></code></pre></div><pre><code>原列表： 2065281774536 新列表： 2065281774664
原列表中的可变对象： 2065281383112 
新列表中对应的可变对象： 2065281383112
</code></pre>
<p>改变其中一个，都会跟着改变。需要注意区分修改列表中元素的元素，和修改列表元素的区别：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>
</span></span><span style="display:flex;"><span>print(list_1, list_2)
</span></span><span style="display:flex;"><span>list_1[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>
</span></span><span style="display:flex;"><span>print(list_1, list_2)
</span></span></code></pre></div><pre><code>[['a', 2], 3, 4] [['a', 2], 3, 4]
['a', 3, 4] [['a', 2], 3, 4]
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list.clear 删除所有元素</h1>

<p>列表方法 list.clear()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>clear)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

clear(self, /)
    Remove all items from list.
</code></pre>
<p>删除列表中所有的元素。相当于 del a[:]（a 是列表）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>clear()
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[]
</code></pre>
<p>del a[:] 是删除列表 a 中的所有元素，和 a 的浅拷贝无关：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a[:]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> a[:]
</span></span><span style="display:flex;"><span>a, b
</span></span></code></pre></div><pre><code>([], [1, 2, 3])
</code></pre>
<p>该方法是一个过程 (过程就是不返回有意义结果的函数；在 Python 中，过程的返回值为 None), 直接对原列表进行修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> _list<span style="color:#f92672">.</span>clear()
</span></span><span style="display:flex;"><span>print(a)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>列表操作符</h1>

<p>列表可以使用 <a href="/python/09_operator/02_compare/">比较运算符</a>，但比较运算符对数据通用，单独用一个知识点讲解。该知识点介绍有列表自己特性的操作符 <code>+</code> 和 <code>*</code>。</p>
<h3 id="操作符-">操作符 +</h3>
<p>操作符 <code>+</code>，可以让两个列表元素顺序不变地合并到一个新的列表中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>list_2 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>list_1 <span style="color:#f92672">+</span> list_2, list_2 <span style="color:#f92672">+</span> list_1
</span></span></code></pre></div><pre><code>([1, 2, 3, 4], [3, 4, 1, 2])
</code></pre>
<p>操作符 <code>+</code> 还可以与赋值操作符 <code>=</code> 连用，将一个列表中的元素，加到另一个列表中（相当于 list.extend()），而不创建一个新列表：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>list_2 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>print(id(list_1))
</span></span><span style="display:flex;"><span>list_1 <span style="color:#f92672">+=</span> list_2
</span></span><span style="display:flex;"><span>id(list_1), list_1
</span></span></code></pre></div><pre><code>2893532728008


(2893532728008, [1, 2, 3, 4])
</code></pre>
<h3 id="操作符--1">操作符 *</h3>
<p>操作符 <code>*</code>，可以将列表中的元素重复 n 次，得到一个新列表：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>list_2 <span style="color:#f92672">=</span> list_1<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>print(id(list_1),id(list_2))
</span></span><span style="display:flex;"><span>list_2
</span></span></code></pre></div><pre><code>2893532600136 2893532727432


[1, 2, 1, 2]
</code></pre>
<p>**注意：**如果列表中有可变对象，重复 n 次后，可变对象是同一个对象的多次引用，改变一个，都会跟着改变。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1 <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">0</span>]]
</span></span><span style="display:flex;"><span>list_2 <span style="color:#f92672">=</span> list_1<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>print(list_2)
</span></span><span style="display:flex;"><span>list_1[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>list_2
</span></span></code></pre></div><pre><code>[[0], [0], [0]]


[[1], [1], [1]]
</code></pre>
<p>操作符 <code>*</code>，还可以与赋值操作符 <code>=</code> 连用，用一个列表的元素重复 n 次来扩充它自身，而不创建新列表：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>print(id(_list))
</span></span><span style="display:flex;"><span>_list <span style="color:#f92672">*=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>id(_list), _list
</span></span></code></pre></div><pre><code>2893532727624


(2893532727624, [1, 2, 1, 2])
</code></pre>
<p>当 n 小于 1 时，则得到空列表：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">0</span>
</span></span></code></pre></div><pre><code>[]
</code></pre>
<p>列表是可迭代对象，<code>*</code> 可以将列表拆包：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#f92672">*</span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>1 2 3
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list.append 添加一个元素</h1>

<p>列表方法 list.append()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>append)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

append(self, object, /)
    Append object to the end of the list.
</code></pre>
<p>在列表的末尾添加<strong>一个</strong>元素。相当于 a[len(a):] = [x]（a 是一个列表）。添加的元素可以是任何对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>append(<span style="color:#e6db74">&#39;abc&#39;</span>)
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>append(list<span style="color:#f92672">.</span>append)
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[1, 2, 'abc', &lt;method 'append' of 'list' objects&gt;]
</code></pre>
<p>该方法是一个过程 (过程就是不返回有意义结果的函数；在 Python 中，过程的返回值为 None), 直接对原列表进行修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> _list<span style="color:#f92672">.</span>append(<span style="color:#e6db74">&#39;&#39;</span>)
</span></span><span style="display:flex;"><span>print(a)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list.extend 加入可迭代对象中元素</h1>

<p>列表方法 list.extend()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>extend)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

extend(self, iterable, /)
    Extend list by appending elements from the iterable.
</code></pre>
<p>使用可迭代对象中的所有元素来扩展列表。相当于 a[len(a):] = iterable（a 是一个列表）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>extend(<span style="color:#e6db74">&#39;abc&#39;</span>)
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[1, 2, 'a', 'b', 'c']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>extend(range(<span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[1, 2, 'a', 'b', 'c', 0, 1]
</code></pre>
<p>该方法是一个过程 (过程就是不返回有意义结果的函数；在 Python 中，过程的返回值为 None), 直接对原列表进行修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> _list<span style="color:#f92672">.</span>extend(<span style="color:#e6db74">&#39;abc&#39;</span>)
</span></span><span style="display:flex;"><span>print(a)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list.insert 插入一个元素</h1>

<p>列表方法 list.insert()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>insert)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

insert(self, index, object, /)
    Insert object before index.
</code></pre>
<p>在给定的位置插入一个元素。第一个参数是要插入的元素的索引，所以 a.insert(0, x) 插入列表头部，a.insert(len(a), x) 等同于 a.append(x)（a 是一个列表）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[0, 1, 2, 3]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>insert(len(_list),[<span style="color:#ae81ff">4</span>])
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[0, 1, 2, 3, [4]]
</code></pre>
<p>该方法是一个过程 (过程就是不返回有意义结果的函数；在 Python 中，过程的返回值为 None), 直接对原列表进行修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> _list<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>print(a)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list.sort 对列表原地排序</h1>

<p>列表方法 list.sort()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>sort)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

sort(self, /, *, key=None, reverse=False)
    Sort the list in ascending order and return None.
    
    The sort is in-place (i.e. the list itself is modified) and stable (i.e. the
    order of two equal elements is maintained).
    
    If a key function is given, apply it once to each list item and sort them,
    ascending or descending, according to their function values.
    
    The reverse flag can be set to sort in descending order.
</code></pre>
<p>此方法会对列表进行原地排序，只使用 <code>&lt;</code> 来进行各项间比较。异常不会被屏蔽——如果有任何比较操作失败，整个排序操作将失败（而列表可能会处于被部分修改的状态）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;5&#39;</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>sort()
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-2-87abda0b5baf&gt; in &lt;module&gt;
      1 _list = [2,3,6,1,'5']
----&gt; 2 _list.sort()


TypeError: '&lt;' not supported between instances of 'str' and 'int'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[1, 2, 3, 6, '5']
</code></pre>
<p>sort() 接受两个仅限以关键字形式传入的参数 (仅限关键字参数):</p>
<ul>
<li>key 指定带有一个参数的函数，应用于列表中的每一个元素，按求值之后的大小，对原列表进行排序。默认值 None 表示直接对列表项排序。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">2</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>sort(key<span style="color:#f92672">=</span>abs)
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[1, 2, -3, 4, -5]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>sort()
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[-5, -3, 1, 2, 4]
</code></pre>
<ul>
<li>reverse 为一个布尔值。如果设为 True，则每个列表元素将按反向顺序比较进行排序。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">2</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>sort(reverse<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[4, 2, 1, -3, -5]
</code></pre>
<p>当对较大的列表排序时，此方法会原地修改该序列以保证空间经济性。因此它并不会返回排序后的序列。</p>
<p>sort() 方法确保是稳定的——如果一个排序确保不会改变比较结果相等的元素的相对顺序就称其为稳定的。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;1.0&#39;</span>,<span style="color:#ae81ff">2</span>,<span style="color:#e6db74">&#39;1&#39;</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>sort(key<span style="color:#f92672">=</span>float)
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[1, '1.0', '1', 2]
</code></pre>
<p>该方法是一个过程 (过程就是不返回有意义结果的函数；在 Python 中，过程的返回值为 None), 直接对原列表进行修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> _list<span style="color:#f92672">.</span>sort()
</span></span><span style="display:flex;"><span>print(a)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list.reverse 反转列表中元素</h1>

<p>列表方法 list.reverse()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>reverse)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

reverse(self, /)
    Reverse *IN PLACE*.
</code></pre>
<p>反转列表中的元素。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>reverse()
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[3, 2, 1]
</code></pre>
<p>该方法是一个过程 (过程就是不返回有意义结果的函数；在 Python 中，过程的返回值为 None), 直接对原列表进行修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> _list<span style="color:#f92672">.</span>reverse()
</span></span><span style="display:flex;"><span>print(a)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list.pop 删除元素并返回</h1>

<p>列表方法 list.pop()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>pop)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

pop(self, index=-1, /)
    Remove and return item at index (default last).
    
    Raises IndexError if list is empty or index is out of range.
</code></pre>
<p>删除列表中给定位置的元素并返回它。如果没有给定位置，list.pop() 将会删除并返回列表中的最后一个元素。给定位置超出范围，抛出 IndexError 错误。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>pop()
</span></span></code></pre></div><pre><code>4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[1, 2, 3]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>pop(<span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[2, 3]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>pop(<span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

IndexError                                Traceback (most recent call last)

&lt;ipython-input-4-efa5a84417c8&gt; in &lt;module&gt;
----&gt; 1 _list.pop(5)


IndexError: pop index out of range
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list.remove 移除一个元素</h1>

<p>列表方法 list.remove()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>remove)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

remove(self, value, /)
    Remove first occurrence of value.
    
    Raises ValueError if the value is not present.
</code></pre>
<p>移除列表中第一个值为 value 的元素。如果没有这样的元素，则抛出 ValueError 异常。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>remove(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[1, 2, 3]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>remove(<span style="color:#ae81ff">4</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-3-5747ddae04fe&gt; in &lt;module&gt;
----&gt; 1 _list.remove(4)


ValueError: list.remove(x): x not in list
</code></pre>
<p>该方法是一个过程 (过程就是不返回有意义结果的函数；在 Python 中，过程的返回值为 None), 直接对原列表进行修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> _list<span style="color:#f92672">.</span>remove(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>print(a)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list.count 统计元素出现次数</h1>

<p>列表方法 list.count()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>count)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

count(self, value, /)
    Return number of occurrences of value.
</code></pre>
<p>返回元素 value 在列表中出现的次数，没有出现为 0。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>count(<span style="color:#ae81ff">1</span>), _list<span style="color:#f92672">.</span>count([<span style="color:#ae81ff">1</span>])
</span></span></code></pre></div><pre><code>(2, 0)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list.index 查找最小索引</h1>

<p>列表方法 list.index()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>index)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

index(self, value, start=0, stop=9223372036854775807, /)
    Return first index of value.
    
    Raises ValueError if the value is not present.
</code></pre>
<p>返回列表中第一个值为 value 的元素从零开始的索引。如果没有这样的元素将会抛出 ValueError 异常。</p>
<p>可选参数 start 和 stop 是切片符号，用于将搜索限制为列表的特定子序列。返回的是相对于整个序列开始计算的索引，而不是相对于 start 参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>index(<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>index(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>)
</span></span></code></pre></div><pre><code>2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>index(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">10</span>)
</span></span></code></pre></div><pre><code>4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_list<span style="color:#f92672">.</span>index(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">10</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-6-3e258cbffc85&gt; in &lt;module&gt;
----&gt; 1 _list.index(3,5,10)


ValueError: 3 is not in list
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list.copy 列表的一个浅拷贝</h1>

<p>列表方法 list.copy()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>copy)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

copy(self, /)
    Return a shallow copy of the list.
</code></pre>
<p>返回列表的一个浅拷贝。相当于 a[:]（a 是一个列表）。浅拷贝得到新的列表，列表中有可变对象时，浅拷贝中的可变对象元素，是原列表中同一个对象的多次引用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1 <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">1</span>],<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>list_2 <span style="color:#f92672">=</span> list_1<span style="color:#f92672">.</span>copy()
</span></span><span style="display:flex;"><span>print(list_2)
</span></span><span style="display:flex;"><span>id(list_1),id(list_2)
</span></span></code></pre></div><pre><code>[[1], 2, 3]


(2622792783240, 2622792782728)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 同一个对象</span>
</span></span><span style="display:flex;"><span>id(list_1[<span style="color:#ae81ff">0</span>]), id(list_2[<span style="color:#ae81ff">0</span>])
</span></span></code></pre></div><pre><code>(2622792782792, 2622792782792)
</code></pre>
<p>改变其中一个都会跟着改变：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list_1[<span style="color:#ae81ff">0</span>][:] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;abc&#39;</span>
</span></span><span style="display:flex;"><span>list_1, list_2
</span></span></code></pre></div><pre><code>([['a', 'b', 'c'], 2, 3], [['a', 'b', 'c'], 2, 3])
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>元组概述</h1>

<p>元组是不可变序列，通常用一对小括号包围元素，元素之间逗号隔开。元组的元素可以是任何对象。元组类型是 tuple：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type((<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,[<span style="color:#e6db74">&#39;1&#39;</span>,<span style="color:#e6db74">&#39;2&#39;</span>]))
</span></span></code></pre></div><pre><code>tuple
</code></pre>
<p>空元组用一对圆括号表示：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>()
</span></span></code></pre></div><pre><code>()
</code></pre>
<p>单元组后面必须有一个逗号:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>,)
</span></span></code></pre></div><pre><code>(1,)
</code></pre>
<p>除了空元组，括号可以省略，因为决定生成元组的其实是逗号而不是圆括号，圆括号是可选的，但元组是更大的表达式的一部分或会产生语法歧义的情况，括号不能省略：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span>,
</span></span></code></pre></div><pre><code>(1,)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>, (<span style="color:#e6db74">&#39;单元组&#39;</span>,)
</span></span></code></pre></div><pre><code>(1, 2, ('单元组',))
</code></pre>
<p>内置函数 <a href="../11_built-in_function/62_tuple">tuple()</a> 用来构造元组：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>tuple(), tuple(<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span></code></pre></div><pre><code>((), ('1', '2', '3'))
</code></pre>
<p>当元组中包含可变对象（例如列表）时，元组本身不可变（不能增、删、改元组本身的元素），但包含的可变对象仍然具有它的可变性质及其操作，此时的元组不能再作为集合的元素或字典的键：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> ([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>],<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>print(id(a))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> a[<span style="color:#ae81ff">0</span>][:]
</span></span><span style="display:flex;"><span>id(a), a
</span></span></code></pre></div><pre><code>2207053762176


(2207053762176, ([], 3, 3))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{a}
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-14-29dfa031a339&gt; in &lt;module&gt;
----&gt; 1 {a}


TypeError: unhashable type: 'list'
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/04_tuple/_index.files/01_tuple.ipynb">01_tuple.ipynb</a> (4 KB)</li>
    <li><a href="/python/04_tuple/_index.files/02_tuple.count.ipynb">02_tuple.count.ipynb</a> (1 KB)</li>
    <li><a href="/python/04_tuple/_index.files/03_tuple.index.ipynb">03_tuple.index.ipynb</a> (3 KB)</li>
    <li><a href="/python/04_tuple/_index.files/04_operator.ipynb">04_operator.ipynb</a> (4 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>tuple.count 统计元素出现次数</h1>

<p>元组方法 tuple.count()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(tuple<span style="color:#f92672">.</span>count)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

count(self, value, /)
    Return number of occurrences of value.
</code></pre>
<p>返回值为 value 的元素在元组中的出现次数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>)<span style="color:#f92672">.</span>count(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>)<span style="color:#f92672">.</span>count(<span style="color:#ae81ff">4</span>)
</span></span></code></pre></div><pre><code>0
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>tuple.index 查找元素索引</h1>

<p>元组方法 tuple.index()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(tuple<span style="color:#f92672">.</span>index)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

index(self, value, start=0, stop=9223372036854775807, /)
    Return first index of value.
    
    Raises ValueError if the value is not present.
</code></pre>
<p>返回列表中第一个值为 value 的元素从零开始的索引。如果没有这样的元素将会抛出 ValueError 异常。</p>
<p>可选参数 start 和 stop 是切片符号，用于将搜索限制为元组的特定子序列。返回的是相对于整个序列开始计算的索引，而不是相对于 start 参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">1</span>)<span style="color:#f92672">.</span>index(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">1</span>)<span style="color:#f92672">.</span>index(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">1</span>)<span style="color:#f92672">.</span>index(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-4-c6a812394eea&gt; in &lt;module&gt;
----&gt; 1 (1,2,3,4,1).index(1,1,3)


ValueError: tuple.index(x): x not in tuple
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>元组操作符</h1>

<p>元组可以使用 <code>+</code> 拼接，拼接后按原来的顺序排列：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>) <span style="color:#f92672">+</span> (<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>(4, 5, 6, 1, 2, 3)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>
</span></span></code></pre></div><pre><code>(1, 2, 7, 5, 6)
</code></pre>
<p><code>+</code> 操作符可以与 <code>=</code> 连用，拼接同时赋值，元组是不可变的，该操作是创建了一个新元组：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>print(id(a))
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">+=</span> <span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>
</span></span><span style="display:flex;"><span>id(a), a
</span></span></code></pre></div><pre><code>2741588191344


(2741587773864, (1, 2, 3, 4, 5, 6))
</code></pre>
<p>元组还可使用 <code>*</code> 进行 n 次重复拼接：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>,)<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>
</span></span></code></pre></div><pre><code>(1, 1, 1)
</code></pre>
<p>当 n 小于 1 时，得到空元组：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">0</span>
</span></span></code></pre></div><pre><code>()
</code></pre>
<p>元组中的元素如果是可变对象，<code>*</code> 重复拼接后，可变对象的性质同 <a href="/python/03_list/04_list_operator/">列表操作符</a> 知识点一样，仍然是同一个对象的多次引用：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> ([],)
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a<span style="color:#f92672">*</span><span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在元组 a 的第一个元素中加入 1</span>
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>b
</span></span></code></pre></div><pre><code>([1], [1], [1])
</code></pre>
<p>同列表一样可以用 <code>*=</code>，重复拼接并赋值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>,
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">*=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>(1, 1, 1)
</code></pre>
<p>元组是可迭代对象，所以可以用 <code>*</code> 将元组拆包：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#f92672">*</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)}
</span></span></code></pre></div><pre><code>{1, 2, 3}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>序列类型概述</h1>

<p>序列类型有列表，元组，range，字符串，字节串等。之所以称为序列类型，因为它们中的元素是按顺序排列的，可以使用下标索引或切片取值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;123&#39;</span>
</span></span><span style="display:flex;"><span>e <span style="color:#f92672">=</span> <span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;123&#39;</span>
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>],b[<span style="color:#ae81ff">0</span>],c[<span style="color:#ae81ff">0</span>],d[<span style="color:#ae81ff">0</span>],e[<span style="color:#ae81ff">0</span>]
</span></span></code></pre></div><pre><code>(1, 1, 1, '1', 49)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>chr(<span style="color:#ae81ff">49</span>) <span style="color:#75715e"># 字节串索引取到的是 Unicode 码位值</span>
</span></span></code></pre></div><pre><code>'1'
</code></pre>
<p>序列类型又分为可变和不可变两种，列表是可变序列类型，元组，range，字符串，字节串是不可变序列类型。不可变序列类型普遍实现而可变序列类型未实现的唯一操作就是对 hash() 内置函数的支持。</p>
<p>这种支持允许不可变类型，例如元组被用作字典的键，以及存储在集合中。</p>
<p>尝试对包含有不可哈希值的不可变序列进行哈希运算将会导致 TypeError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>hash((<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>)), hash(<span style="color:#e6db74">&#39;12&#39;</span>)
</span></span></code></pre></div><pre><code>(-3550055125485641917, -480100434937186025)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>), <span style="color:#e6db74">&#39;12&#39;</span>}
</span></span></code></pre></div><pre><code>{(1, 2), '12'}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>],<span style="color:#ae81ff">3</span>),<span style="color:#ae81ff">4</span>}
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-10-b847264454c5&gt; in &lt;module&gt;
----&gt; 1 {([1,2],3),4}


TypeError: unhashable type: 'list'
</code></pre>
<p>可变序列类型，可以就地进行元素的增、删、改，而不可变序列类型不可以，有时看起来像，但其实是创建了新对象：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a, b <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>], (<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>print(id(a),id(b))
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">+=</span> [<span style="color:#ae81ff">3</span>] <span style="color:#75715e"># 将元素 3 加入列表中，相当于 a.extend([3])</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">+=</span> (<span style="color:#ae81ff">3</span>,) <span style="color:#75715e"># 将元组 b 与元组 (3,) 拼接赋值给 b</span>
</span></span><span style="display:flex;"><span>print(a,b)
</span></span><span style="display:flex;"><span>print(id(a), id(b))
</span></span></code></pre></div><pre><code>2058115879744 2058115232576
[1, 2, 3] (1, 2, 3)
2058115879744 2058115884416
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/05_sequence/_index.files/01_sequence.ipynb">01_sequence.ipynb</a> (4 KB)</li>
    <li><a href="/python/05_sequence/_index.files/02_range.ipynb">02_range.ipynb</a> (4 KB)</li>
    <li><a href="/python/05_sequence/_index.files/03_index_slice.ipynb">03_index_slice.ipynb</a> (5 KB)</li>
    <li><a href="/python/05_sequence/_index.files/04_common_operations.ipynb">04_common_operations.ipynb</a> (6 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>range 对象</h1>

<p>range 对象是一个整数等差数列，用内置函数 <a href="/python/11_built-in_function/50_range/">range()</a> 构造得到，类型是 range：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(range(<span style="color:#ae81ff">3</span>))
</span></span></code></pre></div><pre><code>range
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>range(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>range(-1, 5, 2)
</code></pre>
<p>range 通常用于在 for 循环中循环指定的次数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;重要的事情说三遍&#39;</span>)
</span></span></code></pre></div><pre><code>重要的事情说三遍
重要的事情说三遍
重要的事情说三遍
</code></pre>
<p>range 对象可以指定起始值（默认 0），结束值（不包含），和等差数列的公差（默认 1）。</p>
<p>指定一个大于 0 的值则默认从 0 开始，公差为 1，到指定值之前一个整数结束：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(range(<span style="color:#ae81ff">5</span>))
</span></span></code></pre></div><pre><code>[0, 1, 2, 3, 4]
</code></pre>
<p>因为公差默认为 1，指定一个小于等于 0 的值则得到空 range：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(range(<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>))
</span></span></code></pre></div><pre><code>[]
</code></pre>
<p>起始值，结束值，公差都指定，则得到相应等差数列：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5</span>))
</span></span></code></pre></div><pre><code>[1, 2, 3, 4]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(range(<span style="color:#ae81ff">1</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>))
</span></span></code></pre></div><pre><code>[1, 0, -1, -2, -3, -4]
</code></pre>
<p>range 类型相比常规 list 或 tuple，优势在于一个 range 对象总是占用固定的（较小）内存，不论其所表示的范围有多大。因为 range 类型只保存了 start, stop 和 step 值，并会根据需要计算具体单项或子范围的值。</p>
<p>除了拆包可以使用操作符<code>*</code>，range 对象不可以像列表，元组等一样，使用 <code>+</code>，<code>*</code>，<code>+=</code>，<code>*=</code>进行拼接或重复：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#f92672">*</span>range(<span style="color:#ae81ff">3</span>),)
</span></span></code></pre></div><pre><code>(0, 1, 2)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>序列索引和切片</h1>

<p>序列类型都可以使用下标进行索引或切片取值，这是序列类型通用操作。可变序列类型比较特殊，例如列表，可以利用索引或切片进行元素增、删、改，详见 <a href="/python/03_list/03_list_indexes_and_slices/">列表的索引和切片</a>。</p>
<p>下标从前往后，则以 0 开始，从后往前，则从 -1 开始，双向索引：</p>
<pre tabindex="0"><code>(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;)
  0    1    2    3
 -4   -3   -2   -1
</code></pre><p>下标索引，直接取出对应索引下的值，超出范围则报错：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">10</span>]
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

IndexError                                Traceback (most recent call last)

&lt;ipython-input-18-5680bb375980&gt; in &lt;module&gt;
      1 a = [1,2,3,4]
----&gt; 2 a[10]


IndexError: list index out of range
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>], a[<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>(1, 3)
</code></pre>
<p>下标切片取值规则：[起始:结束:步长]，不包含结束。</p>
<ul>
<li>没有指定起始，则默认为 0；</li>
<li>没有指定结束则默认到最后一个元素结束；</li>
<li>下标可以双向混合使用；</li>
<li>没有指定步长，则默认为 1；</li>
<li>步长为负数，则反向取值，-1 开始。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>]
</span></span><span style="display:flex;"><span>a[:<span style="color:#ae81ff">3</span>]
</span></span></code></pre></div><pre><code>[1, 2, 3]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>]
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">3</span>:]
</span></span></code></pre></div><pre><code>[4, 5, 6, 7]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>]
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">1</span>:<span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>], a[<span style="color:#f92672">-</span><span style="color:#ae81ff">6</span>:<span style="color:#ae81ff">4</span>]
</span></span></code></pre></div><pre><code>([2, 3, 4], [2, 3, 4])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>]
</span></span><span style="display:flex;"><span>a[::<span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>[1, 3, 5, 7]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>]
</span></span><span style="display:flex;"><span>a[::<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>] <span style="color:#75715e"># 默认 -1 开始取</span>
</span></span></code></pre></div><pre><code>[7, 5, 3, 1]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>]
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">7</span>:<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>[]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>]
</span></span><span style="display:flex;"><span>a[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">0</span>:<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>[7, 5, 3]
</code></pre>
<p>切片范围可以无限大，范围内没有元素，则得到空的容器：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">7</span>]
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">100</span>], a[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">1</span>], a[<span style="color:#ae81ff">5</span>:<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>]
</span></span></code></pre></div><pre><code>([6, 7], [], [])
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>序列通用操作</h1>

<p>序列类型有许多通用的操作，在各个知识点都有详细的介绍，下面将他们综合起来比较。</p>
<p>序列类型都可以使用操作符 <code>+</code> 进行拼接，使用 <code>+=</code> 拼接并赋值（range 除外），但对于可变序列类型，使用 <code>+=</code> 是原地修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>print(id(a))
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">+=</span> [<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>id(a), a
</span></span></code></pre></div><pre><code>2612604344328


(2612604344328, [1, 2, 3, 4])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;12&#39;</span><span style="color:#f92672">+</span><span style="color:#e6db74">&#39;34&#39;</span>, [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]<span style="color:#f92672">+</span>[<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>], (<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>)<span style="color:#f92672">+</span>(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>)
</span></span></code></pre></div><pre><code>('1234', [1, 2, 3, 4], (1, 2, 3, 4))
</code></pre>
<p>序列类型都可以使用操作符 <code>*</code> 进行重复并拼接，使用 <code>*=</code> 拼接并赋值（range 除外），但对于可变序列类型，使用 <code>*=</code> 是原地修改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;1&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span><span style="color:#f92672">*</span>[<span style="color:#ae81ff">1</span>], (<span style="color:#ae81ff">1</span>,)<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>
</span></span></code></pre></div><pre><code>('11', [1, 1], (1, 1))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>print(id(a))
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">*=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>id(a), a
</span></span></code></pre></div><pre><code>2612603190024


(2612603190024, [1, 1])
</code></pre>
<p>序列类型都可以使用 <code>*</code> 进行拆包，拆包之后需要包含在列表，元组，集合中，或用于函数传参：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#f92672">*</span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>)], (<span style="color:#f92672">*</span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>],), {<span style="color:#f92672">*</span>range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>)}
</span></span></code></pre></div><pre><code>([1, 2], (1, 2), {1, 2})
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#f92672">*</span><span style="color:#e6db74">&#39;123&#39;</span>)
</span></span></code></pre></div><pre><code>1 2 3
</code></pre>
<p>序列类型都可以使用索引或切片操作取值，但对于可变序列类型，还可以使用索引或切片操作进行内容的增、删、改：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1234&#39;</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5</span>)
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>], b[<span style="color:#ae81ff">0</span>], c[<span style="color:#ae81ff">0</span>], d[<span style="color:#ae81ff">0</span>]
</span></span></code></pre></div><pre><code>('1', 1, 1, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>], b[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>], c[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>], d[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>]
</span></span></code></pre></div><pre><code>('23', [2, 3], (2, 3), range(2, 4))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;abc&#39;</span>
</span></span><span style="display:flex;"><span>b
</span></span></code></pre></div><pre><code>[1, 'a', 'b', 'c', 4]
</code></pre>
<p>序列类型都有方法 index 和 count，但字符串和字节串的 count 方法可以指定范围（具体详见各知识点的方法）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;1234&#39;</span><span style="color:#f92672">.</span>index(<span style="color:#e6db74">&#39;23&#39;</span>),\
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]<span style="color:#f92672">.</span>index(<span style="color:#ae81ff">2</span>),\
</span></span><span style="display:flex;"><span>range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>)<span style="color:#f92672">.</span>index(<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>(1, 1, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;1231&#39;</span><span style="color:#f92672">.</span>count(<span style="color:#e6db74">&#39;1&#39;</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>),\
</span></span><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">1</span>)<span style="color:#f92672">.</span>count(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>(0, 2)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>集合概述</h1>

<p>集合是由具有唯一性的可哈希对象（一个对象的哈希值如果在其生命周期内绝不改变）组成的无序多项集。</p>
<p>目前有两种内置集合类型，set 和 frozenset，前者是可变类型，后者是不可变类型。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type({<span style="color:#ae81ff">1</span>}), type(frozenset())
</span></span></code></pre></div><pre><code>(set, frozenset)
</code></pre>
<p>因为一对花括号表示字典而非集合，所以创建空集合必须使用构造函数 <a href="../11_built-in_function/54_set">set()</a> 和 <a href="../11_built-in_function/23_frozenset">frozenset()</a> 来表示。两个内置函数还可将可迭代对象转换为集合：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type({}), set(), frozenset()
</span></span></code></pre></div><pre><code>(dict, set(), frozenset())
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>set(<span style="color:#e6db74">&#39;121&#39;</span>), frozenset(<span style="color:#e6db74">&#39;112&#39;</span>)
</span></span></code></pre></div><pre><code>({'1', '2'}, frozenset({'1', '2'}))
</code></pre>
<p>构造 set 集合还可以直接使用一对花括号包含元素，元素之间用逗号隔开：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>}
</span></span></code></pre></div><pre><code>{1, 2}
</code></pre>
<p>集合的元素必须是可哈希的，例如字符串，元组（不能包含不可哈希对象，例如元组里有列表）；也是唯一的，同时存在多个哈希值相等的元素，只保留一个。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(hash(<span style="color:#66d9ef">False</span>),hash(<span style="color:#ae81ff">0</span>))
</span></span></code></pre></div><pre><code>0 0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;12&#39;</span>, (<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>), <span style="color:#66d9ef">False</span>, <span style="color:#ae81ff">0</span>}
</span></span></code></pre></div><pre><code>{(1, 2), '12', False}
</code></pre>
<p>set 类型集合是可变类型，没有哈希值，不可作为集合的元素或字典的键，而 frozenset 类型的集合可以：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{frozenset([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>])}
</span></span></code></pre></div><pre><code>{frozenset({1, 2})}
</code></pre>
<p>两种类型集合可进行比较，并集，交集，差集，对称差集操作：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>} <span style="color:#f92672">==</span> frozenset({<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>})
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>} <span style="color:#f92672">|</span> frozenset({<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>})
</span></span></code></pre></div><pre><code>{1, 2, 3}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>frozenset({<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>}) <span style="color:#f92672">^</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span></code></pre></div><pre><code>frozenset({3})
</code></pre>
<p>set 类型是可变的，还可进行元素增、删、改，等操作，而 frozenset 类型不可以：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> set()
</span></span><span style="display:flex;"><span>print(id(a))
</span></span><span style="display:flex;"><span><span style="color:#75715e"># a 增加元素 1</span>
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>add(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>print(id(a),a)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将一个集合并入 a</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">|=</span> frozenset({<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>})
</span></span><span style="display:flex;"><span>print(id(a),a)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 清空集合 a</span>
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>clear()
</span></span><span style="display:flex;"><span>print(id(a),a)
</span></span></code></pre></div><pre><code>2029775797832
2029775797832 {1}
2029775797832 {1, 2, 3}
2029775797832 set()
</code></pre>
<p>集合是按哈希值对元素进行储存，而不是按顺序，因此集合没有索引和切片操作。搜索元素时，由于是通过哈希值匹配，集合比序列类型效率高。</p>
<p>由于集合仅定义了部分排序（子集关系），比较大小的排序并无定义。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5</span>} <span style="color:#f92672">&gt;</span> {<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>}
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [{<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5</span>},{<span style="color:#ae81ff">9</span>},{<span style="color:#ae81ff">6</span>},{<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>}]
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>sort() 
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>[{1, 2, 5}, {9}, {6}, {2, 5}]
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/06_set/_index.files/01_set.ipynb">01_set.ipynb</a> (6 KB)</li>
    <li><a href="/python/06_set/_index.files/02_set.isdisjoint.ipynb">02_set.isdisjoint.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/03_set.issubset.ipynb">03_set.issubset.ipynb</a> (3 KB)</li>
    <li><a href="/python/06_set/_index.files/04_set.issuperset.ipynb">04_set.issuperset.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/05_set.union.ipynb">05_set.union.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/06_set.intersection.ipynb">06_set.intersection.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/07_set.difference.ipynb">07_set.difference.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/08_set.symmetric_difference.ipynb">08_set.symmetric_difference.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/09_set.copy.ipynb">09_set.copy.ipynb</a> (1 KB)</li>
    <li><a href="/python/06_set/_index.files/10_set.update.ipynb">10_set.update.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/11_set.intersection_update.ipynb">11_set.intersection_update.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/12_set.difference_update.ipynb">12_set.difference_update.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/13_set.symmetric_difference_update.ipynb">13_set.symmetric_difference_update.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/14_set.add.ipynb">14_set.add.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/15_set.remove.ipynb">15_set.remove.ipynb</a> (3 KB)</li>
    <li><a href="/python/06_set/_index.files/16_set.discard.ipynb">16_set.discard.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/17_set.pop.ipynb">17_set.pop.ipynb</a> (2 KB)</li>
    <li><a href="/python/06_set/_index.files/18_set.clear.ipynb">18_set.clear.ipynb</a> (1 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>set.isdisjoint 交集为空吗？</h1>

<p>集合方法 set.isdisjoint()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>isdisjoint)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

isdisjoint(...)
    Return True if two sets have a null intersection.
</code></pre>
<p>两个集合的交集为空，则返回 True。方法中的参数可以是可迭代对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}<span style="color:#f92672">.</span>isdisjoint([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>])
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}<span style="color:#f92672">.</span>isdisjoint([<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}<span style="color:#f92672">.</span>isdisjoint(<span style="color:#e6db74">&#39;12&#39;</span>) <span style="color:#75715e"># 参数是字符串而非数字</span>
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.issubset 是子集吗？</h1>

<p>集合方法 set.issubset()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>issubset)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

issubset(...)
    Report whether another set contains this set.
</code></pre>
<p>检查一个集合中的元素，是否都在另一个集合中。相当于 a &lt;= b（a，b 是两个集合），但方法中的参数可以是可迭代对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}<span style="color:#f92672">.</span>issubset([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>} <span style="color:#f92672">&lt;=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>}
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}<span style="color:#f92672">.</span>issubset((<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>))
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>该方法检查是否是子集，而对于真子集，可以使用 <code>&lt;</code> 进行检查：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>} <span style="color:#f92672">&lt;</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>} <span style="color:#f92672">&lt;</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>}
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.issuperset 是超集吗？</h1>

<p>集合方法 set.issuperset()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>issuperset)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

issuperset(...)
    Report whether this set contains another set.
</code></pre>
<p>检查一个集合是否是另一个集合的超集。相当于 a &gt;= b（a，b 是两个集合），但方法中的参数可以是可迭代对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}<span style="color:#f92672">.</span>issuperset({<span style="color:#66d9ef">True</span>:<span style="color:#e6db74">&#39;1&#39;</span>,<span style="color:#ae81ff">2</span>:<span style="color:#e6db74">&#39;2&#39;</span>})
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>} <span style="color:#f92672">&gt;=</span> {<span style="color:#66d9ef">True</span>,<span style="color:#ae81ff">2</span>}
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>对于真超集，使用 <code>&gt;</code> 进行检查：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>} <span style="color:#f92672">&gt;</span> {<span style="color:#66d9ef">True</span>,<span style="color:#ae81ff">2</span>}
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>} <span style="color:#f92672">&gt;</span> {<span style="color:#66d9ef">True</span>,<span style="color:#ae81ff">2</span>}
</span></span></code></pre></div><pre><code>False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.union 并集</h1>

<p>集合方法 set.union()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>union)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

union(...)
    Return the union of sets as a new set.
    
    (i.e. all elements that are in either set.)
</code></pre>
<p>该方法接收任意的位置参数，返回一个所有集合的元素组成的新集合。相当于 a | b | &hellip; （a，b 是集合），但方法中的参数可以是可迭代对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>}<span style="color:#f92672">.</span>union([<span style="color:#ae81ff">2</span>],(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>))
</span></span></code></pre></div><pre><code>{1, 2, 3, 4}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>} <span style="color:#f92672">|</span> {<span style="color:#ae81ff">2</span>} <span style="color:#f92672">|</span> {<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>}
</span></span></code></pre></div><pre><code>{1, 2, 3, 4}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.intersection 交集</h1>

<p>集合方法 set.intersection()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>intersection)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

intersection(...)
    Return the intersection of two sets as a new set.
    
    (i.e. all elements that are in both sets.)
</code></pre>
<p>该方法接收任意的位置参数，返回一个所有集合中共有的元素组成的新集合。相当于 a &amp; b &amp; &hellip; （a，b 是集合），但方法中的参数可以是可迭代对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>}<span style="color:#f92672">.</span>intersection({<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>},[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>{3}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>} <span style="color:#f92672">&amp;</span> {<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>} <span style="color:#f92672">&amp;</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">3</span>}
</span></span></code></pre></div><pre><code>{3}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.difference 差集</h1>

<p>集合方法 set.difference()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>difference)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

difference(...)
    Return the difference of two or more sets as a new set.
    
    (i.e. all elements that are in this set but not the others.)
</code></pre>
<p>该方法接收任意的位置参数，返回一个集合在其他所有集合中都不存在的元素组成的新集合。相当于 a - b - &hellip; （a，b 是集合），但方法的参数可以是可迭代对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>}<span style="color:#f92672">.</span>difference((<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5</span>),{<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4</span>})
</span></span></code></pre></div><pre><code>{3}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>} <span style="color:#f92672">-</span> {<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5</span>} <span style="color:#f92672">-</span> {<span style="color:#ae81ff">6</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4</span>}
</span></span></code></pre></div><pre><code>{3}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.symmetric_difference 对称差</h1>

<p>集合方法 set.symmetric_difference()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>symmetric_difference)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

symmetric_difference(...)
    Return the symmetric difference of two sets as a new set.
    
    (i.e. all elements that are in exactly one of the sets.)
</code></pre>
<p>返回两个集合中非共同元素组成的新集合。相当于 a ^ b（a，b 是集合），但方法的参数可以是可迭代对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>}<span style="color:#f92672">.</span>symmetric_difference([<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span></code></pre></div><pre><code>{1, 4}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>} <span style="color:#f92672">^</span> {<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>}
</span></span></code></pre></div><pre><code>{1, 4}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.copy 浅拷贝</h1>

<p>集合方法 set.copy()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>copy)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

copy(...)
    Return a shallow copy of a set.
</code></pre>
<p>返回集合的一个浅拷贝。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>print(id(a),a)
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>copy()
</span></span><span style="display:flex;"><span>id(b),b
</span></span></code></pre></div><pre><code>2091426558696 {1, 2}


(2091426559368, {1, 2})
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.update 合并更新</h1>

<p>集合方法 set.update()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>update)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

update(...)
    Update a set with the union of itself and others.
</code></pre>
<p>该方法接收任意的位置参数，将其他集合的元素合并到一个集合中。相当于 a |= b | &hellip; （a，b 是集合），但方法的参数可以是可迭代对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>update([<span style="color:#ae81ff">3</span>],(<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>))
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{1, 2, 3, 4, 5}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">|=</span> {<span style="color:#ae81ff">3</span>} <span style="color:#f92672">|</span> {<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>}
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{1, 2, 3, 4, 5}
</code></pre>
<p>该方法是一个过程，就地修改集合，返回值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>update([<span style="color:#ae81ff">3</span>],(<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>))
</span></span><span style="display:flex;"><span>print(b)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.intersection_update 交集更新</h1>

<p>集合方法 set.intersection_update()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>intersection_update)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

intersection_update(...)
    Update a set with the intersection of itself and another.
</code></pre>
<p>该方法接收任意的位置参数，更新集合，只保留在其他所有集合中都存在的元素。相当于 a &amp;= b &amp; &hellip;（a，b 是集合），但方法的参数可以是可迭代对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>intersection_update((<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>),{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">5</span>})
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{1}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>}
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">&amp;=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>} <span style="color:#f92672">&amp;</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">5</span>}
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{1}
</code></pre>
<p>该方法是一个过程，就地修改集合，返回值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>}
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>intersection_update()
</span></span><span style="display:flex;"><span>print(b)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.difference_update 差集更新</h1>

<p>集合方法 set.difference_update()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>difference_update)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

difference_update(...)
    Remove all elements of another set from this set.
</code></pre>
<p>该方法接收任意的位置参数，更新集合，移除在其他集合中也存在的元素。相当于 a -= b | &hellip;（a，b 是集合），但方法的参数可以是可迭代对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>difference_update((<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">5</span>),[<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>])
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{2}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>}
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">-=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">5</span>} <span style="color:#f92672">|</span> {<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>}
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{2}
</code></pre>
<p>该方法是一个过程，就地修改集合，返回值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>}
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>difference_update([<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>])
</span></span><span style="display:flex;"><span>print(b)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set ^= other 对称差集更新</h1>

<p>集合的对称差集更新操作，相当于集合方法 set.symmetric_difference_update，其文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>symmetric_difference_update)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

symmetric_difference_update(...)
    Update a set with the symmetric difference of itself and another.
</code></pre>
<p>更新集合，只保留两个集合中非共同部分。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>symmetric_difference_update([<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{1, 4}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>}
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">^=</span> {<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>}
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{1, 4}
</code></pre>
<p>该方法是一个过程，就地修改集合，返回值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>}
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>symmetric_difference_update([<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span><span style="display:flex;"><span>print(b)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.add 添加元素</h1>

<p>集合方法 set.add()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>add)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

add(...)
    Add an element to a set.
    
    This has no effect if the element is already present.
</code></pre>
<p>集合中增加一个元素，如果元素已经存在，没有任何影响。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>add(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{1, 2, 3}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>add(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{1, 2}
</code></pre>
<p>该方法是一个过程，就地修改集合，返回值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>add(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>print(b)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.remove 删除元素</h1>

<p>集合方法 set.remove()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>remove)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

remove(...)
    Remove an element from a set; it must be a member.
    
    If the element is not a member, raise a KeyError.
</code></pre>
<p>删除一个指定元素，删除元素不存在则引发 KeyError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>remove(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{2}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>remove(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

KeyError                                  Traceback (most recent call last)

&lt;ipython-input-3-d0f57d460301&gt; in &lt;module&gt;
      1 a = {1,2}
----&gt; 2 a.remove(3)
      3 a


KeyError: 3
</code></pre>
<p>该方法是一个过程，就地修改集合，返回值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>remove(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>print(b)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.discard 删除元素</h1>

<p>集合方法 set.discard()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>discard)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

discard(...)
    Remove an element from a set if it is a member.
    
    If the element is not a member, do nothing.
</code></pre>
<p>从集合中删除一个指定元素，元素不存在没有任何影响。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>discard(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{2}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>discard(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{1, 2}
</code></pre>
<p>该方法是一个过程，就地修改集合，返回值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>discard(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>print(b)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.pop 删除元素并返回</h1>

<p>集合方法 set.pop()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>pop)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

pop(...)
    Remove and return an arbitrary set element.
    Raises KeyError if the set is empty.
</code></pre>
<p>集合中删除任意一个元素，并返回它。如果集合为空，引发 KeyError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>pop()
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>{2}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>set()<span style="color:#f92672">.</span>pop()
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

KeyError                                  Traceback (most recent call last)

&lt;ipython-input-6-db3bab0ab3b8&gt; in &lt;module&gt;
----&gt; 1 set().pop()


KeyError: 'pop from an empty set'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set.clear 清空集合元素</h1>

<p>集合方法 set.clear()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set<span style="color:#f92672">.</span>clear)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

clear(...)
    Remove all elements from this set.
</code></pre>
<p>清空集合所有元素。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>clear()
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>set()
</code></pre>
<p>该方法是一个过程，就地修改集合，返回值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>clear()
</span></span><span style="display:flex;"><span>print(b)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>字典概述</h1>

<p>字典属于映射类型，将可哈希对象映射到任意对象，可哈希对象为字典的键，映射的对象为键对应的条目（值）。因此：</p>
<ul>
<li>键必须是可哈希且唯一的；</li>
<li>值可以是任意对象（此处 值 仅指键对应的条目）。</li>
</ul>
<p>所以字典的键必须是可哈希对象，例如字符串，元组（不能包含不可哈希对象）；哈希值相等的对象作为字典的键会被当作一个键。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;1&#39;</span>:<span style="color:#ae81ff">1</span>, (<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>):<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>, <span style="color:#66d9ef">True</span>:<span style="color:#ae81ff">4</span>}
</span></span></code></pre></div><pre><code>{'1': 1, (1, 2): 2, 1: 4}
</code></pre>
<p>字典是目前唯一的标准映射类型。其类型为 dict。空字典用一对花括号表示。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type({})
</span></span></code></pre></div><pre><code>dict
</code></pre>
<p>字典可以通过花括号包含逗号分隔的 键值对 来创建，也可以用内置函数 <a href="../11_built-in_function/14_dict">dict()</a> 来创建。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span></code></pre></div><pre><code>{'a': 1, 'b': 2}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict(a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>{'a': 1, 'b': 2}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict(zip([<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>],(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>)))
</span></span></code></pre></div><pre><code>{'a': 1, 'b': 2}
</code></pre>
<p>字典是可变对象，可以通过键，来获取对应的项，或更新、添加项。获取项时，键不存在则引发 KeyError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 获取</span>
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>}
</span></span><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;a&#39;</span>]
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 更新</span>
</span></span><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;a&#39;</span>] <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>d
</span></span></code></pre></div><pre><code>{'a': [1, 2]}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 键不存在则添加项</span>
</span></span><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;b&#39;</span>] <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d
</span></span></code></pre></div><pre><code>{'a': [1, 2], 'b': {1, 2}}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;c&#39;</span>]
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

KeyError                                  Traceback (most recent call last)

&lt;ipython-input-9-05ba6e0488c7&gt; in &lt;module&gt;
----&gt; 1 d['c']


KeyError: 'c'
</code></pre>
<p>字典的元素（键值对）是按哈希值来存储的，没有序列类型的双向索引操作，但字典会保留元素插入时的顺序，更新不会改变插入顺序。而且使用 popitem 方法删除元素是按<strong>后进先出</strong>原则删除。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>d[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>d[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>d[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>d
</span></span></code></pre></div><pre><code>{3: 3, 1: 1, 2: 2}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>d
</span></span></code></pre></div><pre><code>{3: 3, 1: 10, 2: 2}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d<span style="color:#f92672">.</span>popitem(),d<span style="color:#f92672">.</span>popitem(),d<span style="color:#f92672">.</span>popitem()
</span></span></code></pre></div><pre><code>((2, 2), (1, 10), (3, 3))
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/07_dictionary/_index.files/01_dict.ipynb">01_dict.ipynb</a> (6 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/02_dict.keys.ipynb">02_dict.keys.ipynb</a> (2 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/03_dict.values.ipynb">03_dict.values.ipynb</a> (2 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/04_dict.items.ipynb">04_dict.items.ipynb</a> (2 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/05_dict.get.ipynb">05_dict.get.ipynb</a> (2 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/06_dict.copy.ipynb">06_dict.copy.ipynb</a> (2 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/07_dict.pop.ipynb">07_dict.pop.ipynb</a> (3 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/08_dict.popitem.ipynb">08_dict.popitem.ipynb</a> (3 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/09_dict.fromkeys.ipynb">09_dict.fromkeys.ipynb</a> (3 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/10_dict.clear.ipynb">10_dict.clear.ipynb</a> (1 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/11_dict.setdefault.ipynb">11_dict.setdefault.ipynb</a> (3 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/12_dict.update.ipynb">12_dict.update.ipynb</a> (3 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/13_loop_through.ipynb">13_loop_through.ipynb</a> (3 KB)</li>
    <li><a href="/python/07_dictionary/_index.files/14_operator.ipynb">14_operator.ipynb</a> (4 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>dict.keys 键视图</h1>

<p>字典方法 dict.keys()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict<span style="color:#f92672">.</span>keys)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

keys(...)
    D.keys() -&gt; a set-like object providing a view on D's keys
</code></pre>
<p>返回一个由字典的键组成的动态视图。字典的视图支持成员检测，可以被迭代。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>keys()
</span></span></code></pre></div><pre><code>dict_keys(['a', 'b'])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#f92672">in</span> d<span style="color:#f92672">.</span>keys()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(d<span style="color:#f92672">.</span>keys())
</span></span></code></pre></div><pre><code>['a', 'b']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d_view <span style="color:#f92672">=</span> d<span style="color:#f92672">.</span>keys()
</span></span><span style="display:flex;"><span>print(d_view)
</span></span><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;c&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span> <span style="color:#75715e"># 添加元素，视图也动态变化</span>
</span></span><span style="display:flex;"><span>print(d_view)
</span></span></code></pre></div><pre><code>dict_keys(['a', 'b'])
dict_keys(['a', 'b', 'c'])
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dict.values 值视图</h1>

<p>字典方法 dict.values()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict<span style="color:#f92672">.</span>values)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

values(...)
    D.values() -&gt; an object providing a view on D's values
</code></pre>
<p>返回由字典的值组成的动态视图。字典的视图支持成员检测，可以被迭代。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d_view <span style="color:#f92672">=</span> d<span style="color:#f92672">.</span>values()
</span></span><span style="display:flex;"><span>print(d_view)
</span></span><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;c&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span> <span style="color:#75715e"># 添加元素，视图也动态变化</span>
</span></span><span style="display:flex;"><span>print(d_view)
</span></span></code></pre></div><pre><code>dict_values([1, 2])
dict_values([1, 2, 3])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">in</span> d_view
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> d_view]
</span></span></code></pre></div><pre><code>[1, 2, 3]
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dict.items 键值对视图</h1>

<p>字典方法 dict.items()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict<span style="color:#f92672">.</span>items)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

items(...)
    D.items() -&gt; a set-like object providing a view on D's items
</code></pre>
<p>返回字典的 (键,值) 元组组成的动态视图。字典的视图支持成员检测，可以被迭代。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d_view <span style="color:#f92672">=</span> d<span style="color:#f92672">.</span>items()
</span></span><span style="display:flex;"><span>print(d_view)
</span></span><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;c&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span> <span style="color:#75715e"># 添加元素，视图也动态变化</span>
</span></span><span style="display:flex;"><span>print(d_view)
</span></span></code></pre></div><pre><code>dict_items([('a', 1), ('b', 2)])
dict_items([('a', 1), ('b', 2), ('c', 3)])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>) <span style="color:#f92672">in</span> d_view
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[k<span style="color:#f92672">*</span>j <span style="color:#66d9ef">for</span> k, j <span style="color:#f92672">in</span> d_view]
</span></span></code></pre></div><pre><code>['a', 'bb', 'ccc']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dict.get 获取某个键的值</h1>

<p>字典方法 dict.get()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict<span style="color:#f92672">.</span>get)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

get(self, key, default=None, /)
    Return the value for key if key is in the dictionary, else default.
</code></pre>
<p>获取字典的项目，如果 key 存在于字典中则返回 key 的值，否则返回 default 指定的值，默认为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;a&#39;</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(d<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;c&#39;</span>))
</span></span></code></pre></div><pre><code>None
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>3
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dict.copy 浅拷贝</h1>

<p>字典方法 dict.copy()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict<span style="color:#f92672">.</span>copy)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

copy(...)
    D.copy() -&gt; a shallow copy of D
</code></pre>
<p>返回字典的一个浅拷贝。字典是可变对象，浅拷贝将创建一个新字典，但如果字典中某个 键值对 的值是可变对象，则是同一个对象的多次引用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>], <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">3</span>}
</span></span><span style="display:flex;"><span>print(id(d), d)
</span></span><span style="display:flex;"><span>d1 <span style="color:#f92672">=</span> d<span style="color:#f92672">.</span>copy()
</span></span><span style="display:flex;"><span>print(id(d1), d1)
</span></span></code></pre></div><pre><code>2276967660712 {'a': [1, 2], 'b': 3}
2276967660784 {'a': [1, 2], 'b': 3}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 同一个对象的多次引用</span>
</span></span><span style="display:flex;"><span>id(d[<span style="color:#e6db74">&#39;a&#39;</span>]), id(d1[<span style="color:#e6db74">&#39;a&#39;</span>])
</span></span></code></pre></div><pre><code>(2276966678024, 2276966678024)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 改变一个都会改变</span>
</span></span><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;a&#39;</span>]<span style="color:#f92672">.</span>extend(<span style="color:#e6db74">&#39;34&#39;</span>)
</span></span><span style="display:flex;"><span>print(d)
</span></span><span style="display:flex;"><span>print(d1)
</span></span></code></pre></div><pre><code>{'a': [1, 2, '3', '4'], 'b': 3}
{'a': [1, 2, '3', '4'], 'b': 3}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dict.pop 删除元素并返回值</h1>

<p>字典方法 dict.pop()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict<span style="color:#f92672">.</span>pop)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

pop(...)
    D.pop(k[,d]) -&gt; v, remove specified key and return the corresponding value.
    If key is not found, d is returned if given, otherwise KeyError is raised
</code></pre>
<p>如果字典的键 k 存在，则移除 k 对应的 键值对，并返回 值；</p>
<p>如果 k 不存在，但指定了可选参数 d，则返回 d；</p>
<p>如果 k 不存在且未指定 d，则引发 KeyError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>pop(<span style="color:#e6db74">&#39;a&#39;</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>pop(<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>pop(<span style="color:#e6db74">&#39;c&#39;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

KeyError                                  Traceback (most recent call last)

&lt;ipython-input-4-1e5ab2c0b86c&gt; in &lt;module&gt;
      1 d = {'a':1, 'b':2}
----&gt; 2 d.pop('c')


KeyError: 'c'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dict.popitem 删除元素并返回键值对</h1>

<p>字典方法 dict.popitem()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict<span style="color:#f92672">.</span>popitem)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

popitem(self, /)
    Remove and return a (key, value) pair as a 2-tuple.
    
    Pairs are returned in LIFO (last-in, first-out) order.
    Raises KeyError if the dict is empty.
</code></pre>
<p>按 后进先出 的原则，删除字典的元素，并以 (key, value) 元组返回。如果字典为空，则引发 KeyError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">1</span>}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>popitem()
</span></span></code></pre></div><pre><code>(1, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>d[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>d[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>d[<span style="color:#ae81ff">2</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>d[<span style="color:#ae81ff">3</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">30</span> <span style="color:#75715e"># 更新并不改变元素插入顺序</span>
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>popitem(),d<span style="color:#f92672">.</span>popitem(),d<span style="color:#f92672">.</span>popitem()
</span></span></code></pre></div><pre><code>((2, 2), (3, 30), (1, 1))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>popitem()
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

KeyError                                  Traceback (most recent call last)

&lt;ipython-input-13-3d5a99fd0340&gt; in &lt;module&gt;
      1 d = {}
----&gt; 2 d.popitem()


KeyError: 'popitem(): dictionary is empty'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dict.fromkeys 创建字典</h1>

<p>字典的方法 fromkeys，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict<span style="color:#f92672">.</span>fromkeys)
</span></span></code></pre></div><pre><code>Help on built-in function fromkeys:

fromkeys(iterable, value=None, /) method of builtins.type instance
    Create a new dictionary with keys from iterable and values set to value.
</code></pre>
<p>使用可迭代对象 iterable 中的元素作为字典的键，value 为值（默认是 None）创建字典。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict<span style="color:#f92672">.</span>fromkeys(<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span></code></pre></div><pre><code>{'1': None, '2': None, '3': None}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict<span style="color:#f92672">.</span>fromkeys([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>], <span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>{1: 0, 2: 0, 3: 0}
</code></pre>
<p>可迭代对象中不能包含不可哈希对象：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict<span style="color:#f92672">.</span>fromkeys([[<span style="color:#ae81ff">1</span>],<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>], <span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-6-470a0d0c77b4&gt; in &lt;module&gt;
----&gt; 1 dict.fromkeys([[1],2,3], 0)


TypeError: unhashable type: 'list'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dict.clear 清空字典元素</h1>

<p>字典方法 dict.clear()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict<span style="color:#f92672">.</span>clear)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

clear(...)
    D.clear() -&gt; None.  Remove all items from D.
</code></pre>
<p>清空字典元素。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>clear()
</span></span><span style="display:flex;"><span>d
</span></span></code></pre></div><pre><code>{}
</code></pre>
<p>该方法是一个过程，返回值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>print(d<span style="color:#f92672">.</span>clear())
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dict.setdefault 获取或插入元素</h1>

<p>字典方法 dict.setdefault()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict<span style="color:#f92672">.</span>setdefault)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

setdefault(self, key, default=None, /)
    Insert key with a value of default if key is not in the dictionary.
    
    Return the value for key if key is in the dictionary, else default.
</code></pre>
<p>如果字典存在键 key，则返回它的值；如果 key 不存在，则插入 key，以 default（默认 None）作为它的值，并返回。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>setdefault(<span style="color:#e6db74">&#39;a&#39;</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d<span style="color:#f92672">.</span>setdefault(<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d
</span></span></code></pre></div><pre><code>{'a': 1, 'b': 2, 'c': 3}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d<span style="color:#f92672">.</span>setdefault(<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#ae81ff">4</span>) <span style="color:#75715e"># 如果存在，并不会再次设置</span>
</span></span></code></pre></div><pre><code>3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d
</span></span></code></pre></div><pre><code>{'a': 1, 'b': 2, 'c': 3}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dict.update 更新字典</h1>

<p>字典方法 dict.update()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict<span style="color:#f92672">.</span>update)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

update(...)
    D.update([E, ]**F) -&gt; None.  Update D from dict/iterable E and F.
    If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
    If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
    In either case, this is followed by: for k in F:  D[k] = F[k]
</code></pre>
<p>更新字典，键相同，则覆盖原有的值，不同，则增加 键值对 元素。有下列几种情况：</p>
<ul>
<li>以字典更新字典：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>update({<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">10</span>, <span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>})
</span></span><span style="display:flex;"><span>d
</span></span></code></pre></div><pre><code>{'a': 10, 'b': 2, 'c': 3}
</code></pre>
<ul>
<li>以可迭代对象更新字典：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>update([(<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#ae81ff">10</span>),[<span style="color:#e6db74">&#39;c&#39;</span>,<span style="color:#ae81ff">3</span>]])
</span></span><span style="display:flex;"><span>d
</span></span></code></pre></div><pre><code>{'a': 10, 'b': 2, 'c': 3}
</code></pre>
<ul>
<li>以关键字参数更新字典：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">.</span>update(a<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>, c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>d
</span></span></code></pre></div><pre><code>{'a': 10, 'b': 2, 'c': 3}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>字典遍历</h1>

<p>字典是可迭代对象，可以遍历字典的元素。由于字典元素是 键值对，遍历比较特殊。</p>
<p>如果未指定遍历对象，默认遍历字典的键。很多函数将字典作为可迭代对象处理时，也是如此。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> k <span style="color:#f92672">in</span> d:
</span></span><span style="display:flex;"><span>    print(k)
</span></span></code></pre></div><pre><code>a
c
b
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(d)
</span></span></code></pre></div><pre><code>['a', 'c', 'b']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sorted(d)
</span></span></code></pre></div><pre><code>['a', 'b', 'c']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>max(d)
</span></span></code></pre></div><pre><code>'c'
</code></pre>
<p>可以利用字典的视图指定遍历字典的键（默认就是遍历键，可以省略），值 或是 键值对。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> k <span style="color:#f92672">in</span> d<span style="color:#f92672">.</span>keys(): <span style="color:#75715e"># 可以不用视图</span>
</span></span><span style="display:flex;"><span>    print(k)
</span></span></code></pre></div><pre><code>a
c
b
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> k <span style="color:#f92672">in</span> d<span style="color:#f92672">.</span>values(): 
</span></span><span style="display:flex;"><span>    print(k)
</span></span></code></pre></div><pre><code>1
3
2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> k,v <span style="color:#f92672">in</span> d<span style="color:#f92672">.</span>items(): 
</span></span><span style="display:flex;"><span>    print(k,v)
</span></span></code></pre></div><pre><code>a 1
c 3
b 2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 按值排序后再遍历</span>
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> k,v <span style="color:#f92672">in</span> sorted(d<span style="color:#f92672">.</span>items(),key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> x:x[<span style="color:#ae81ff">1</span>]): 
</span></span><span style="display:flex;"><span>    print(k,v)
</span></span></code></pre></div><pre><code>a 1
b 2
c 3
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>字典操作符</h1>

<p>字典不可以使用比较大小的操作符 <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;=</code> 和 <code>&gt;</code>，会引发 TypeError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">1</span>} <span style="color:#f92672">&lt;</span> {<span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">2</span>}
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-1-8ea82599b938&gt; in &lt;module&gt;
----&gt; 1 {1:1} &lt; {2:2}


TypeError: '&lt;' not supported between instances of 'dict' and 'dict'
</code></pre>
<p>字典比较相等时，当且仅当 键值对 都相等时才相等。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">2</span>} <span style="color:#f92672">==</span> {<span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">2</span>, <span style="color:#66d9ef">True</span>:<span style="color:#ae81ff">1</span>}
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>:<span style="color:#e6db74">&#39;1&#39;</span>, <span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">2</span>} <span style="color:#f92672">==</span> {<span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">1</span>}
</span></span></code></pre></div><pre><code>False
</code></pre>
<p>字典可以使用 <code>**</code> 操作符进行拆包，拆包后置于新字典中，可以用来更新字典；或拆包后作为关键字参数传递给函数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>, <span style="color:#f92672">**</span>{<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">10</span>}}
</span></span></code></pre></div><pre><code>{'a': 10, 'b': 2}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{a}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{b}</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#f92672">**</span>d)
</span></span></code></pre></div><pre><code>'a=1,b=2'
</code></pre>
<p>Python 3.9 新版，实现了两个操作符 <code>|</code> 和 <code>|=</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>} <span style="color:#f92672">|</span> {<span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span></code></pre></div><pre><code>{'a': 1, 'b': 2}
</code></pre>
<p>合并 d 和 other 中的键和值来创建一个新的字典，两者必须都是字典。当 d 和 other 有相同键时，other 的值优先。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>} <span style="color:#f92672">|</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">5</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span></code></pre></div><pre><code>{'a': 5, 'b': 2}
</code></pre>
<p>用 other 的键和值更新字典 d ，other 可以是映射（mapping）或可迭代对象（iterable）的键值对。当 d 和 other 有相同键时，other 的值优先。</p>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>生成器表达式和推导式</h1>

<p>生成器表达式和列表推导式非常相似，区别就是将方括号换成了小括号。</p>
<p>生成器表达式返回的是一个生成器迭代器 generator。表达式会产生一系列值，可使用内置函数 <a href="../11_built-in_function/42_next">next()</a> 逐一获取，或使用 for 循环遍历。</p>
<p>生成器迭代器中的元素，仅供一次性使用，而且可以要多少取多少，它会记住你取了多少，取到了哪里。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(i<span style="color:#f92672">*</span>i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>))
</span></span></code></pre></div><pre><code>&lt;generator object &lt;genexpr&gt; at 0x00000271080FBC00&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>g <span style="color:#f92672">=</span> (i<span style="color:#f92672">*</span>i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>))
</span></span><span style="display:flex;"><span>type(g)
</span></span></code></pre></div><pre><code>generator
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>next(g), next(g)
</span></span></code></pre></div><pre><code>(0, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> g:
</span></span><span style="display:flex;"><span>    print(i)
</span></span></code></pre></div><pre><code>4
9
16
</code></pre>
<p>这种表达式被设计用于生成器将立即被外层函数所使用的情况。生成器表达式相比完整的生成器更紧凑但较不灵活，相比等效的列表推导式则更为节省内存。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum(i<span style="color:#f92672">*</span>i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>))
</span></span></code></pre></div><pre><code>30
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(i<span style="color:#f92672">*</span>i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>))
</span></span></code></pre></div><pre><code>[0, 1, 4, 9, 16]
</code></pre>
<p>除了列表推导式和生成器表达式，集合和字典也可使用类似的推导式。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{i<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> <span style="color:#e6db74">&#39;abac&#39;</span>}
</span></span></code></pre></div><pre><code>{'aa', 'bb', 'cc'}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{i:j <span style="color:#66d9ef">for</span> i,j <span style="color:#f92672">in</span> zip(<span style="color:#e6db74">&#39;abc&#39;</span>,(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>))}
</span></span></code></pre></div><pre><code>{'a': 1, 'b': 2, 'c': 3}
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/08_other_types/_index.files/01_none.ipynb">01_none.ipynb</a> (2 KB)</li>
    <li><a href="/python/08_other_types/_index.files/02_comprehension.ipynb">02_comprehension.ipynb</a> (4 KB)</li>
    <li><a href="/python/08_other_types/_index.files/03_other_types.ipynb">03_other_types.ipynb</a> (5 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>空值 None</h1>

<p>空值 None，此对象会由没有显式地设置返回值的函数返回。None 是个内置名称，空对象求值，什么也不会发生。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">None</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(<span style="color:#66d9ef">None</span>)
</span></span></code></pre></div><pre><code>Help on NoneType object:

class NoneType(object)
 |  Methods defined here:
 |  
 |  __bool__(self, /)
 |      self != 0
 |  
 |  __repr__(self, /)
 |      Return repr(self).
 |  
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |  
 |  __new__(*args, **kwargs) from builtins.type
 |      Create and return a new object.  See help(type) for accurate signature.
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 没有返回值的列表方法</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> []<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将 a 打印出来，将打印内置名称 None</span>
</span></span><span style="display:flex;"><span>print(a)
</span></span></code></pre></div><pre><code>None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>其他内置类型</h1>

<p>内置类型除了数字类型，布尔类型，序列类型，集合类型，映射类型，迭代器类型，解释器支持的还有一些其他种类的对象。这些对象大都仅支持一两种操作。</p>
<h3 id="模块">模块</h3>
<p>模块唯一的特殊操作是属性访问: <code>m.name</code>，这里 m 为一个模块而 name 为定义在 m 的符号表中的一个属性的名称。模块属性可以被赋值。import 语句严格来说也是对模块对象的一种操作。关于模块有详细的知识点介绍。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(math)
</span></span></code></pre></div><pre><code>module
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> math
</span></span><span style="display:flex;"><span>math<span style="color:#f92672">.</span>pi
</span></span></code></pre></div><pre><code>3.141592653589793
</code></pre>
<h3 id="函数">函数</h3>
<p>函数对象是通过函数定义创建的。对函数对象的唯一操作是调用它: func(argument-list)。</p>
<p>实际上存在两种不同的函数对象：内置函数和用户自定义函数。两者支持同样的操作（调用函数），但实现方式不同，因此对象类型也不同。关于函数有详细的知识点介绍。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;abc&#39;</span>) <span style="color:#75715e"># 调用函数</span>
</span></span></code></pre></div><pre><code>abc
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(print)
</span></span></code></pre></div><pre><code>builtin_function_or_method
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():<span style="color:#66d9ef">pass</span> <span style="color:#75715e"># 自定义函数</span>
</span></span><span style="display:flex;"><span>type(f)
</span></span></code></pre></div><pre><code>function
</code></pre>
<h3 id="方法">方法</h3>
<p>方法是在类中定义，使用属性表示法来调用的函数。关于方法有详细的知识点介绍。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(list<span style="color:#f92672">.</span>append)
</span></span></code></pre></div><pre><code>method_descriptor
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type([]<span style="color:#f92672">.</span>append)
</span></span></code></pre></div><pre><code>builtin_function_or_method
</code></pre>
<h3 id="代码对象">代码对象</h3>
<p>代码对象可由内置的 <a href="/python/11_built-in_function/11_compile/">compile()</a> 函数返回，也可通过从函数对象的 <code>__code__</code> 属性从中提取。</p>
<p>可将代码对象（而非源码字符串）传给 <a href="/python/11_built-in_function/19_exec/">exec()</a> 或 <a href="/python/11_built-in_function/18_eval/">eval()</a> 内置函数来执行或求值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;代码对象&#39;</span>)
</span></span><span style="display:flex;"><span>code <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>__code__
</span></span><span style="display:flex;"><span>type(code)
</span></span></code></pre></div><pre><code>code
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>exec(code)
</span></span></code></pre></div><pre><code>代码对象
</code></pre>
<h3 id="类型对象">类型对象</h3>
<p>类型对象表示各种对象类型。对象的类型可通过内置函数 type() 来获取。类型没有特殊的操作。标准库模块 types 定义了所有标准内置类型的名称。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(int), type(list)
</span></span></code></pre></div><pre><code>(type, type)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(<span style="color:#ae81ff">1</span>), type([])
</span></span></code></pre></div><pre><code>(int, list)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>操作符概述</h1>

<h2 id="操作符概述">操作符概述</h2>
<p>操作符可分为<strong>运算符</strong>（operators）和<strong>分隔符</strong>（delimiters）。</p>
<p>运算符有：</p>
<ul>
<li>数字运算符</li>
</ul>
<p><code>+</code>，<code>-</code>，<code>*</code>，<code>**</code>，<code>/</code>，<code>//</code>，<code>%</code>，详细用法见 <a href="../01_numeric/06_number_operations/">数字运算</a>。</p>
<ul>
<li>整数按位运算符</li>
</ul>
<p><code>&lt;&lt;</code>，<code>&gt;&gt;</code>，<code>&amp;</code>，<code>|</code>，<code>^</code>，<code>~</code>，详细用法见 <a href="../01_numeric/02_int">整数及其位运算</a>。</p>
<ul>
<li>比较运算符</li>
</ul>
<p><code>&lt;</code>，<code>&gt;</code>，<code>&lt;=</code>，<code>&gt;=</code>，<code>==</code>，<code>!=</code>，<code>in</code>，<code>not in</code>，<code>is</code>，<code>is not</code>，详细用法见 <a href="../09_operator/02_compare">比较运算符</a>。</p>
<ul>
<li>布尔运算符</li>
</ul>
<p><code>and</code>，<code>or</code>，<code>not</code>，详细用法见 <a href="../01_numeric/03_bool">布尔值及布尔运算</a>。</p>
<ul>
<li>赋值运算符 <code>:=</code></li>
</ul>
<p>Python 3.8 新增，将右边的表达式赋值给左边的变量， 同时返回表达式的值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>2
</code></pre>
<p>运算符还分为一元运算符和二元运算符，一元运算符运算一个对象（操作数），二元运算符运算两个。一元运算符有 <code>+</code>（正数），<code>-</code>（负数），<code>~</code>（整数按位取反）和 <code>not</code>（布尔运算 非）。<code>if ... else ...</code> 有时称作三元运算符。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>, <span style="color:#f92672">~</span><span style="color:#ae81ff">3</span>, <span style="color:#f92672">not</span> <span style="color:#ae81ff">4</span>
</span></span></code></pre></div><pre><code>(-1, 2, -4, False)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span> <span style="color:#75715e"># 二元运算符加、减和乘</span>
</span></span></code></pre></div><pre><code>-9
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">True</span> <span style="color:#66d9ef">if</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">3</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">False</span>
</span></span></code></pre></div><pre><code>False
</code></pre>
<p>分隔符有：</p>
<p><code>(</code>，<code>)</code>，<code>[</code>，<code>]</code>，<code>{</code>，<code>}</code>，<code>,</code>，<code>:</code>，<code>.</code>，<code>;</code>，<code>=</code>，<code>+=</code>，<code>-=</code>，<code>*=</code>，<code>/=</code>，<code>//=</code>，<code>%=</code>，<code>&amp;=</code>，<code>|=</code>，<code>^=</code>，<code>&gt;&gt;=</code>，<code>&lt;&lt;=</code>，<code>**=</code></p>
<p>部分分隔符用法举例：</p>
<p>圆括号绑定表达式，或元组显示，方括号用来对序列进行索引、切片取值或列表显示，花括号字典显示或集合显示</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">3</span> <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span>,)
</span></span></code></pre></div><pre><code>(1, 1, 1, 1, 1, 1, 1, 1, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>][<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>]
</span></span></code></pre></div><pre><code>[2, 3]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#e6db74">&#39;列表&#39;</span>:[], <span style="color:#e6db74">&#39;集合&#39;</span>:{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>}}
</span></span></code></pre></div><pre><code>{'列表': [], '集合': {1, 2, 3}}
</code></pre>
<p>上述分隔符 <code>=</code> 为赋值操作符，之后的操作符为增强赋值操作符，将名称绑定（或重新绑定）到特定值，以及修改属性或可变对象的成员项。 详见 <a href="../10_statement/02_assignment">赋值语句</a>。</p>
<p>假设将值 value1 绑定到名称 name，<code>name = value1</code>，则 <code>name += value2</code> 的结果相当于 <code>name = name + value2</code>，其他操作符类似。</p>
<p>举例如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#ae81ff">17</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">|=</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>b
</span></span></code></pre></div><pre><code>21
</code></pre>
<p>除了运算符和分隔符，还有 <code>'</code>，<code>&quot;</code>，<code>\</code>，<code>#</code> 字符，作为其他字符的组成部分时具有特殊含义，或是对词法分析器有重要意义。</p>
<p><code>'</code>，<code>&quot;</code>，<code>\</code>，详见 <a href="../02_string/01_string">字符串概述</a> 和 <a href="../02_string/03_escape_character">转义字符</a>。</p>
<p><code>#</code> 通常用来注释代码，但不能包含在字符串中，注释在语法分析中会被忽略：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 这是注释</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># hello world
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74"># hello python
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;</span>
</span></span></code></pre></div><pre><code>'\n# hello world\n# hello python\n'
</code></pre>
<p>操作符除了常规的用法，操作不同的数据类型，相应的数据类型可能定义了特定的操作规则；在特定的应用场景，也有着特殊的用法。详见 <a href="../09_operator/04_special">操作符特殊用法</a></p>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/09_operator/_index.files/01_operator_summary.ipynb">01_operator_summary.ipynb</a> (7 KB)</li>
    <li><a href="/python/09_operator/_index.files/02_compare.ipynb">02_compare.ipynb</a> (14 KB)</li>
    <li><a href="/python/09_operator/_index.files/03_precedence.ipynb">03_precedence.ipynb</a> (4 KB)</li>
    <li><a href="/python/09_operator/_index.files/04_special.ipynb">04_special.ipynb</a> (3 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>比较运算符</h1>

<p>比较运算符有 <code>&lt;</code>，<code>&gt;</code>，<code>&lt;=</code>，<code>&gt;=</code>，<code>==</code>，<code>!=</code>，<code>in</code>，<code>not in</code>，<code>is</code>，<code>is not</code>。</p>
<p>运算符 <code>&lt;</code>，<code>&gt;</code>，<code>&gt;=</code>，<code>&lt;=</code>，<code>==</code> 和 <code>!=</code> 比较两个对象的值，<code>&lt;</code>，<code>&gt;</code>，<code>&gt;=</code> 和 <code>&lt;=</code> 称为次序比较；<code>==</code> 和 <code>!=</code> 称为一致性比较。</p>
<p>由于所有类型都是 object 的（直接或间接）子类型，它们都从 object 继承了默认的比较行为，一致性比较是默认的比较行为，因此可在任何对象之间进行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">False</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#f92672">!=</span> int <span style="color:#f92672">!=</span> {}
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>对象的值在 Python 中是一个相当抽象的概念：</p>
<ul>
<li>对象的值并没有一个规范的访问方法；</li>
<li>对象的值并不要求具有特定的构建方式，例如由其全部数据属性组成等；</li>
<li>比较运算符实现了一个特定的对象的值概念，可以认为正是通过实现对象比较，间接地定义了对象的值。</li>
</ul>
<p>主要内置类型的比较行为：</p>
<p>1，数字类型内部可跨类型比较，按数学（算法）规则正确进行比较且不会有精度损失。但复数不支持次序比较。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">True</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1.0</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">3.14</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">0</span> <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>j
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-6-df80cad0b1a4&gt; in &lt;module&gt;
----&gt; 1 0 &gt;= 0j


TypeError: '&gt;=' not supported between instances of 'int' and 'complex'
</code></pre>
<p>2，字符串使用其字符的 Unicode 码位数字值依次进行比较，某个字符比较出大小即停止。如果一个字符串包含另一个，较短的排前面。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ord(<span style="color:#e6db74">&#39;a&#39;</span>), ord(<span style="color:#e6db74">&#39;b&#39;</span>), ord(<span style="color:#e6db74">&#39;c&#39;</span>)
</span></span></code></pre></div><pre><code>(97, 98, 99)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;c&#39;</span>
</span></span></code></pre></div><pre><code>(True, False)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;ab&#39;</span> <span style="color:#f92672">&lt;</span> <span style="color:#e6db74">&#39;ac&#39;</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;abc&#39;</span> <span style="color:#f92672">&gt;</span> <span style="color:#e6db74">&#39;ab&#39;</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>3，序列（列表，元组，range 实例）只能进行类型内部比较。跨类型一致性比较结果将是不相等，跨类型次序比较将引发 TypeError。range 不支持次序比较。</p>
<p>比较时按顺序对相应元素进行逐个比较，某个元素比较出大小即停止。如果一个序列元素包含另一个，较短的排前面。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>) <span style="color:#f92672">==</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>] <span style="color:#f92672">==</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>] <span style="color:#f92672">&gt;</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">7</span>]
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>] <span style="color:#f92672">&lt;</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">7</span>]
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>) <span style="color:#f92672">&gt;=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-22-cb12354bca8e&gt; in &lt;module&gt;
----&gt; 1 (1,2) &gt;= [1,2]


TypeError: '&gt;=' not supported between instances of 'tuple' and 'list'
</code></pre>
<p>4， 两个字典若要相等，必须当且仅当它们具有相同的 键值对。次序比较将引发 TypeError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">1</span>} <span style="color:#f92672">==</span> {<span style="color:#66d9ef">True</span>:<span style="color:#ae81ff">1.0</span>}
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">1</span>} <span style="color:#f92672">&lt;=</span> {<span style="color:#66d9ef">True</span>:<span style="color:#ae81ff">1.0</span>}
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-24-a13e7674e543&gt; in &lt;module&gt;
----&gt; 1 {1:1} &lt;= {True:1.0}


TypeError: '&lt;=' not supported between instances of 'dict' and 'dict'
</code></pre>
<p>5，集合 (set 或 frozenset 的实例) 可进行类型内部和跨类型的比较。</p>
<p>它们将比较运算符定义为子集和超集检测，具体详见集合知识点。这类关系没有定义完全排序。相应地，集合不适宜作为依赖于完全排序的函数的参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>} <span style="color:#f92672">==</span> frozenset([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>])
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">1</span>} <span style="color:#f92672">&gt;</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>}
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sorted([{<span style="color:#ae81ff">3</span>},{<span style="color:#ae81ff">1</span>},{<span style="color:#ae81ff">2</span>}])
</span></span></code></pre></div><pre><code>[{3}, {1}, {2}]
</code></pre>
<p>运算符 <code>in</code> 和 <code>not in</code> 用于成员检测。如果 x 是 s 的成员则 <code>x in s</code> 求值为 True，否则为 False。<code>x not in s</code> 返回 <code>x in s</code> 取反后的值。</p>
<p>所有内置序列和集合类型以及字典都支持此运算，对于字典来说 in 检测其是否有给定的键。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#f92672">in</span> <span style="color:#e6db74">&#39;abc&#39;</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;abc&#39;</span> <span style="color:#f92672">in</span> <span style="color:#e6db74">&#39;abbc&#39;</span>
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">in</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">in</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#f92672">in</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>}
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>运算符 <code>is</code> 和 <code>is not</code> 用于检测对象的标识号：当且仅当 x 和 y 是同一对象时 <code>x is y</code> 为真。一个对象的标识号可使用 id() 函数来确定。<code>x is not y</code> 会产生相反的逻辑值。</p>
<p>默认的一致性比较是基于对象的标识号。<code>x is y</code> 就意味着 <code>x == y</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">is</span> b, a <span style="color:#f92672">==</span> b
</span></span></code></pre></div><pre><code>(True, True)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">is</span> b, a <span style="color:#f92672">==</span> b
</span></span></code></pre></div><pre><code>(False, True)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>操作符优先级</h1>

<p>Python 表达式语句中操作符的优先顺序从最低优先级（最后绑定）到最高优先级（最先绑定）如下：</p>
<ul>
<li><code>:=</code> 赋值表达式</li>
<li><code>lambda</code> lambda 表达式</li>
<li><code>if -- else</code> 条件表达式</li>
<li><code>or</code> 布尔逻辑或 OR</li>
<li><code>and</code> 布尔逻辑与 AND</li>
<li><code>not x</code> 布尔逻辑非 NOT</li>
<li><code>in</code>, <code>not in</code>, <code>is</code>, <code>is not</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>!=</code>, <code>==</code> 比较运算</li>
<li><code>|</code> 按位或 OR</li>
<li><code>^</code> 按位异或 XOR</li>
<li><code>&amp;</code> 按位与 AND</li>
<li><code>&lt;&lt;</code>, <code>&gt;&gt;</code> 移位</li>
<li><code>+</code>, <code>-</code> 加和减</li>
<li><code>*</code>, <code>/</code>, <code>//</code>, <code>%</code> 乘，矩阵乘，除，整除，取余</li>
<li><code>+x</code>, <code>-x</code>, <code>~x</code> 正，负，按位非 NOT</li>
<li><code>**</code> 乘方（右边的先绑定）</li>
<li><code>await x</code>  await 表达式</li>
<li><code>x[index]</code>, <code>x[index:index]</code>, <code>x(arguments...)</code>, <code>x.attribute</code>  抽取，切片，调用，属性引用</li>
<li><code>(expressions...)</code>, <code>[expressions...]</code>, <code>{key: value...}</code>, <code>{expressions...}</code> 绑定或加圆括号的表达式，列表显示，字典显示，集合显示</li>
</ul>
<p>一个表达式语句中可以有多个上述操作符，最终返回一个值（包括返回值为 None 的函数调用）。</p>
<p>而赋值语句中的赋值操作符 <code>=</code>，<code>+=</code>，<code>-=</code>，<code>*=</code>，<code>/=</code>，<code>//=</code>，<code>%=</code>，<code>&amp;=</code>，<code>|=</code>，<code>^=</code>，<code>&gt;&gt;=</code>，<code>&lt;&lt;=</code>，<code>**=</code>，在操作符中优先级最低，它右边表达式的值计算完之后，才最后绑定到左边的名称。</p>
<p>举例如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>value <span style="color:#f92672">=</span> int(<span style="color:#e6db74">&#39;2&#39;</span>)<span style="color:#f92672">**</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">/</span>(<span style="color:#ae81ff">3</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>value
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int(<span style="color:#e6db74">&#39;2&#39;</span>)<span style="color:#f92672">**</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">/</span>(<span style="color:#ae81ff">3</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[]<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">1</span>) <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span> <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>value <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> <span style="color:#e6db74">&#39;a&#39;</span> <span style="color:#f92672">in</span> <span style="color:#e6db74">&#39;a b c&#39;</span><span style="color:#f92672">.</span>split()[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>] <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>value
</span></span></code></pre></div><pre><code>2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>value <span style="color:#f92672">**=</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>value
</span></span></code></pre></div><pre><code>32
</code></pre>
<p>操作符 <code>=</code> 可以用来连续赋值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> b <span style="color:#f92672">=</span> c <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>a,b,c
</span></span></code></pre></div><pre><code>(1, 1, 1)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>操作符特殊用法</h1>

<p>容器类的内置类型，通常对操作符定义了自己特有的的操作行为。</p>
<ul>
<li><code>*</code> 操作符，除了数字运算的 乘，还可以用来将可迭代对象拆包。拆包之后置于元组，列表，集合中，或作为参数传递给函数：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>{<span style="color:#f92672">*</span>{<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}}
</span></span></code></pre></div><pre><code>{'a', 'b'}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#f92672">*</span><span style="color:#e6db74">&#39;abc&#39;</span>, sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;-&#39;</span>)
</span></span></code></pre></div><pre><code>a-b-c
</code></pre>
<ul>
<li><code>+</code>，<code>+=</code>，<code>*</code>，<code>*=</code> 可用来对序列类型进行拼接，重复拼接或拼接并赋值（range 类型除外）。由于列表是可变对象，<code>+=</code> 和 <code>*=</code> 在操作列表时，是用来更新列表。具体详见 <a href="/python/03_list/04_list_operator/">列表操作符</a>。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;d-&#39;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;abc&#39;</span><span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>
</span></span></code></pre></div><pre><code>'d-abcabc'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">+=</span> [<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>[1, 1, 2]
</code></pre>
<ul>
<li>
<p>操作符 <code>**</code>，<code>|</code> 和 <code>|=</code> 可以用来操作字典。具体详见 <a href="/python/07_dictionary/14_operator/">字典操作符</a>。</p>
</li>
<li>
<p>操作符 <code>&gt;</code>，<code>&lt;</code>，<code>&gt;=</code>，<code>&lt;=</code> 可对集合进行子集或超集比较；<code>|</code>，<code>&amp;</code>，<code>-</code>，<code>^</code> 可求集合的并集，交集，差集，对称差集；<code>|=</code>，<code>&amp;=</code>，<code>-=</code>，<code>^=</code> 可用来更新集合。具体详见集合知识点。</p>
</li>
<li>
<p>操作符 <code>%</code> 可以用来格式化字符串，而在<strong>格式化迷你语言</strong>中，定义了非常多的有特殊意义操作符。具体详见 str.format 格式化 和 <a href="/python/02_string/28_string_operators/">字符串操作符</a>。</p>
</li>
</ul>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>表达式语句</h1>

<p>语句分为简单语句和复合语句，简单语句由一个单独的逻辑行构成。多条简单语句可以存在于同一行内并以分号分隔。表达式语句属于简单语句。</p>
<p>表达式语句用于计算和写入值（大多是在交互模式下），或者调用一个过程 (过程就是不返回有意义结果的函数。在 Python 中，过程的返回值为 None)。</p>
<p>表达式语句会对指定的表达式进行求值。</p>
<p>在交互模式下，它会通过内置的 repr() 函数转换为一个字符串，该结果字符串将以单独一行的形式写入标准输出（例外情况是如果结果为 None，则该过程调用不产生任何输出）。</p>
<p>以下均是一个表达式语句（可包含多个表达式）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;python&#39;</span>
</span></span></code></pre></div><pre><code>'python'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(a <span style="color:#f92672">:=</span> <span style="color:#ae81ff">1</span>) <span style="color:#75715e"># 3.8 新功能，赋值表达式</span>
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;a</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>,<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;b</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span> <span style="color:#75715e"># 两个表达式</span>
</span></span></code></pre></div><pre><code>('a\n', 'b1')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">5</span>, <span style="color:#66d9ef">True</span> <span style="color:#f92672">and</span> <span style="color:#66d9ef">False</span> <span style="color:#75715e"># 两个表达式</span>
</span></span></code></pre></div><pre><code>(2.2, False)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">lambda</span> x: x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>
</span></span></code></pre></div><pre><code>&lt;function __main__.&lt;lambda&gt;(x)&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">0</span> <span style="color:#66d9ef">if</span> <span style="color:#ae81ff">2</span><span style="color:#f92672">&gt;</span><span style="color:#ae81ff">3</span> <span style="color:#66d9ef">else</span> (<span style="color:#ae81ff">1</span> <span style="color:#66d9ef">if</span> <span style="color:#ae81ff">5</span><span style="color:#f92672">&lt;</span><span style="color:#ae81ff">6</span> <span style="color:#66d9ef">else</span> <span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>] <span style="color:#f92672">+</span> [<span style="color:#ae81ff">4</span>]
</span></span></code></pre></div><pre><code>[1, 2, 3, 4]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[]<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">1</span>) <span style="color:#75715e"># 返回 None</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[]<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">1</span>) <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 返回值为 None，输出并不是表达式的值</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;非表达式的值&#39;</span>)  <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>
</span></span></code></pre></div><pre><code>非表达式的值


True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum(i <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> [<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">5</span>])
</span></span></code></pre></div><pre><code>10
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(zip(<span style="color:#e6db74">&#39;abc&#39;</span>,[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]))[<span style="color:#ae81ff">1</span>:]
</span></span></code></pre></div><pre><code>[('b', 2), ('c', 3)]
</code></pre>
<p>用分号分隔多个表达式语句，输出最后一个的值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span>; print(<span style="color:#e6db74">&#39;非表达式的值&#39;</span>); <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">5</span>, <span style="color:#66d9ef">True</span> <span style="color:#f92672">and</span> <span style="color:#66d9ef">False</span>
</span></span></code></pre></div><pre><code>非表达式的值


(2.2, False)
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/10_statement/_index.files/01_expression.ipynb">01_expression.ipynb</a> (6 KB)</li>
    <li><a href="/python/10_statement/_index.files/02_assignment.ipynb">02_assignment.ipynb</a> (8 KB)</li>
    <li><a href="/python/10_statement/_index.files/03_if.ipynb">03_if.ipynb</a> (3 KB)</li>
    <li><a href="/python/10_statement/_index.files/04_for.ipynb">04_for.ipynb</a> (3 KB)</li>
    <li><a href="/python/10_statement/_index.files/05_while.ipynb">05_while.ipynb</a> (1 KB)</li>
    <li><a href="/python/10_statement/_index.files/06_break.ipynb">06_break.ipynb</a> (4 KB)</li>
    <li><a href="/python/10_statement/_index.files/07_continue.ipynb">07_continue.ipynb</a> (3 KB)</li>
    <li><a href="/python/10_statement/_index.files/08_del.ipynb">08_del.ipynb</a> (5 KB)</li>
    <li><a href="/python/10_statement/_index.files/09_pass.ipynb">09_pass.ipynb</a> (1 KB)</li>
    <li><a href="/python/10_statement/_index.files/10_def.ipynb">10_def.ipynb</a> (3 KB)</li>
    <li><a href="/python/10_statement/_index.files/11_return.ipynb">11_return.ipynb</a> (2 KB)</li>
    <li><a href="/python/10_statement/_index.files/12_yield.ipynb">12_yield.ipynb</a> (4 KB)</li>
    <li><a href="/python/10_statement/_index.files/13_class.ipynb">13_class.ipynb</a> (3 KB)</li>
    <li><a href="/python/10_statement/_index.files/14_try.ipynb">14_try.ipynb</a> (15 KB)</li>
    <li><a href="/python/10_statement/_index.files/15_raise.ipynb">15_raise.ipynb</a> (12 KB)</li>
    <li><a href="/python/10_statement/_index.files/16_with.ipynb">16_with.ipynb</a> (4 KB)</li>
    <li><a href="/python/10_statement/_index.files/17_assert.ipynb">17_assert.ipynb</a> (3 KB)</li>
    <li><a href="/python/10_statement/_index.files/18_import.ipynb">18_import.ipynb</a> (11 KB)</li>
    <li><a href="/python/10_statement/_index.files/19_global.ipynb">19_global.ipynb</a> (3 KB)</li>
    <li><a href="/python/10_statement/_index.files/20_nonlocal.ipynb">20_nonlocal.ipynb</a> (4 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>赋值语句</h1>

<p>赋值语句用于将名称绑定或重新绑定到特定值，以及修改属性或可变对象的成员项。</p>
<p>赋值语句使用赋值操作符和增强赋值操作符。详见 操作符概述。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将值 1 绑定到变量 a</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;a =&#39;</span>, a)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 变量 a 重新绑定值 &#39;a&#39;</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;a =&#39;</span>, a)
</span></span></code></pre></div><pre><code>a = 1
a = a
</code></pre>
<p>同时进行多个值多个名称绑定，值和名称数量要相等：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 一个名称时，右边为元组</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>(1, 2, 3, 4)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 多个名称</span>
</span></span><span style="display:flex;"><span>a,b,c,d <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>,[<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>],<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">,d=</span><span style="color:#e6db74">{</span>d<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>'a=1,b=[2, 3],c=4,d=5'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可迭代对象拆包，则需要更多名称</span>
</span></span><span style="display:flex;"><span>a,b,c,d,e <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>,<span style="color:#f92672">*</span>[<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>],<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">,d=</span><span style="color:#e6db74">{</span>d<span style="color:#e6db74">}</span><span style="color:#e6db74">,e=</span><span style="color:#e6db74">{</span>e<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>'a=1,b=2,c=3,d=4,e=5'
</code></pre>
<p>赋值一般左右两边一一对应 “同时” 赋值，但赋值给变量的多项集时可能不一样（例如列表的某一项）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>i, x[i] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span> 
</span></span><span style="display:flex;"><span><span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;x=</span><span style="color:#e6db74">{</span>x<span style="color:#e6db74">}</span><span style="color:#e6db74">,i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span></code></pre></div><pre><code>'x=[0, 2],i=1'
</code></pre>
<p>修改属性或可变对象的成员项：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 新增属性</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> A()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 右边的 a.x 是访问类属性</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 左边的 a.x 是新增实例属性, 值为类属性值 + 1</span>
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>x <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> 
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>x, A<span style="color:#f92672">.</span>x
</span></span></code></pre></div><pre><code>(2, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 修改列表项</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>[[0, 1], 2, 3]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 修改或新增字典项</span>
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>}
</span></span><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;a&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;b&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>d
</span></span></code></pre></div><pre><code>{'a': 10, 'b': 2}
</code></pre>
<p>赋值操作符 <code>=</code>，可以进行连续赋值，绑定多个名称，但赋值语句非表达式语句，不能被求值，因此不能被括号包围或分隔：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> b <span style="color:#f92672">=</span> c <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>a,b,c
</span></span></code></pre></div><pre><code>(1, 1, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> (b <span style="color:#f92672">=</span> c <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>  File &quot;&lt;ipython-input-40-5dae496e91ce&gt;&quot;, line 1
    a = (b = c = 1)
           ^
SyntaxError: invalid syntax
</code></pre>
<p>不可变容器的增强赋值操作，是重新绑定对象；可变容器的增强赋值操作是增、删、改成员项：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;123&#39;</span>
</span></span><span style="display:flex;"><span>print(id(s),s)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 因为不可变，相当于新建了一个字符串 &#39;1234&#39; 重新绑定 s</span>
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">+=</span> <span style="color:#e6db74">&#39;4&#39;</span> 
</span></span><span style="display:flex;"><span>print(id(s),s)
</span></span></code></pre></div><pre><code>2371959191728 123
2371959179632 1234
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>l <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>print(id(l),l)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 可变，相当于在原列表 l 中增加元素 4</span>
</span></span><span style="display:flex;"><span>l <span style="color:#f92672">+=</span> [<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span>print(id(l),l)
</span></span></code></pre></div><pre><code>2371958877312 [1, 2, 3]
2371958877312 [1, 2, 3, 4]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>l <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>print(id(l),l)
</span></span><span style="display:flex;"><span>l <span style="color:#f92672">*=</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e"># 清空列表</span>
</span></span><span style="display:flex;"><span>print(id(l),l)
</span></span></code></pre></div><pre><code>2371958290048 [1, 2, 3]
2371958290048 []
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>}
</span></span><span style="display:flex;"><span>print(id(s),s)
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">|=</span> {<span style="color:#ae81ff">0</span>}
</span></span><span style="display:flex;"><span>print(id(s),s)
</span></span></code></pre></div><pre><code>2371958464800 {1, 2, 3}
2371958464800 {0, 1, 2, 3}
</code></pre>
<p>带标注的赋值语句。单个语句中将变量或属性标注和可选的赋值语句合为一体。标注对提高代码的可读性非常有用，看标注而不需要看代码上下文就大概知道代码的使用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 标注函数参数的类型及默认值</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(n:int<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;Hi&#39;</span><span style="color:#f92672">*</span>n)
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>HiHi
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>name: str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;小张&#39;</span>
</span></span><span style="display:flex;"><span>name
</span></span></code></pre></div><pre><code>'小张'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>if</h1>

<p>if 语句用于有条件的执行。语法如下：</p>
<pre tabindex="0"><code>if assignment_expression:
    suite
elif assignment_expression: # 可选子句
    suite
... # 可以多个 elif
else: #可选子句
    suite
</code></pre><p>对于简单语句，可以写为一行，但不推荐。</p>
<p>它通过对表达式逐个求值直至找到一个真值。然后执行该 if 语句或子句体下的代码，从而 if 语句的其他部分不会被执行或求值。</p>
<p>如果所有表达式均为假值，else 子句体如果存在就会被执行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> i <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:print(i)
</span></span></code></pre></div><pre><code>0
2
4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> i <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        print(i)
</span></span></code></pre></div><pre><code>0
2
4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>i,j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>: 
</span></span><span style="display:flex;"><span>    print(i) <span style="color:#75715e"># 不执行</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> i <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    print(i) <span style="color:#75715e"># 执行，下面的则不再执行</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> j <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>    print(j)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(i,j)
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>i,j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>: 
</span></span><span style="display:flex;"><span>    print(i) <span style="color:#75715e"># 不执行</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> i <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>    print(i) <span style="color:#75715e"># 不执行</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> j <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    print(j) <span style="color:#75715e"># 不执行</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(i,j) <span style="color:#75715e"># 执行</span>
</span></span></code></pre></div><pre><code>0 1
</code></pre>
<p>多个 if 语句连用，则分别判断，互不影响：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>i,j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>: 
</span></span><span style="display:flex;"><span>    print(i) <span style="color:#75715e"># 不执行</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(i,j) <span style="color:#75715e"># 执行</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> i <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    print(i) <span style="color:#75715e"># 执行</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> j <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>    print(j) <span style="color:#75715e"># 执行</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(i,j) <span style="color:#75715e"># 不执行</span>
</span></span></code></pre></div><pre><code>0 1
0
1
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>for</h1>

<p>for 语句用于对可迭代对象中的元素进行迭代。语法如下：</p>
<pre tabindex="0"><code>for target_list in expression_list:
    suite
else: # 可选子句
    suite
</code></pre><p>对于简单语句可以写为一行，但不推荐。</p>
<p>表达式 expression_list 被求值一次，它应该产生一个可迭代对象。系统将为 expression_list 的结果创建一个迭代器，然后每一项会按标准赋值规则（详见见 <a href="/python/10_statement/02_assignment/">赋值语句</a>）被依次赋值给 target_list，每赋值一次执行一次语句下的代码。</p>
<p>当所有项被耗尽时，else 子句如果存在将会被执行，并终止循环。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):print(i)
</span></span></code></pre></div><pre><code>0
1
2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> zip(<span style="color:#e6db74">&#39;123&#39;</span>,<span style="color:#e6db74">&#39;abc&#39;</span>):
</span></span><span style="display:flex;"><span>    print(i)
</span></span></code></pre></div><pre><code>('1', 'a')
('2', 'b')
('3', 'c')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i,j <span style="color:#f92672">in</span> zip(<span style="color:#e6db74">&#39;123&#39;</span>,<span style="color:#e6db74">&#39;abc&#39;</span>):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">-&gt;</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;end&#39;</span>)
</span></span></code></pre></div><pre><code>1-&gt;a
2-&gt;b
3-&gt;c
end
</code></pre>
<p>for 循环会对 target_list 中的变量进行赋值。这将覆盖之前对这些变量的所有赋值，包括在 for 循环体中的赋值。</p>
<p>变量在循环结束时不会被删除，但如果序列为空，则它们根本不会被循环所赋值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>i <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    print(i)
</span></span><span style="display:flex;"><span>print(i)
</span></span></code></pre></div><pre><code>0
1
2
2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>):
</span></span><span style="display:flex;"><span>    print(i)
</span></span><span style="display:flex;"><span>print(i)
</span></span></code></pre></div><pre><code>2
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>while</h1>

<p>while 语句用于在表达式保持为真的情况下重复地执行。语法如下：</p>
<pre tabindex="0"><code>while assignment_expression:
    suite
else: # 可选子句
    suite
</code></pre><p>对于简单语句可以写为一行，但不推荐。</p>
<p>这将重复地检验表达式，如果其值为真就执行其下的代码；表达式值为假则如果 else 子句存在就会被执行并终止循环。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>: print(i); i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><pre><code>0
1
2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> i <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>: 
</span></span><span style="display:flex;"><span>    print(i)
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>: <span style="color:#75715e"># i 为 3 时执行</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;end&#39;</span>)
</span></span></code></pre></div><pre><code>0
1
2
i=3
end
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>break</h1>

<p>break 在语法上只会出现于 for 或 while 循环所嵌套的代码。</p>
<p>它会终结最近的外层循环，如果循环有可选的 else 子句，也会跳过该子句。</p>
<p>如果一个 for 循环被 break 所终结，该循环的控制变量会保持其当前值。</p>
<p>当 break 将控制流传出一个带有 finally 子句的 try 语句时，该  finally 子句会先被执行然后再真正离开该循环。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">6</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">6</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> i<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> j:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">,j=</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">,j=</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)            
</span></span></code></pre></div><pre><code>i=0,j=0
i=1,j=1
i=2,j=4
i=5,j=5
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">6</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">6</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> i<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> j:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">,j=</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">,j=</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)  
</span></span></code></pre></div><pre><code>i=0,j=0
i=5,j=0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">6</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">6</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> i<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> j:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">,j=</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span> <span style="color:#75715e"># 控制内层循环</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>: <span style="color:#75715e"># 不会执行</span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">,j=</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)  
</span></span></code></pre></div><pre><code>i=0,j=0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">6</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">6</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> i<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> j:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">,j=</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>: <span style="color:#75715e"># 属于外层循环，会执行</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">,j=</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)  
</span></span></code></pre></div><pre><code>i=0,j=0
i=5,j=0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;3/i=</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">3</span><span style="color:#f92672">/</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ZeroDivisionError</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        print(e)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><pre><code>division by zero
i=0
3/i=3.0
i=1
3/i=1.5
i=2
3/i=1.0
i=3
3/i=0.75
i=4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 引发异常直接跳过 break</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 无异常则继续执行完 finally 才终止循环</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;3/i=</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">3</span><span style="color:#f92672">/</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ZeroDivisionError</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        print(e)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><pre><code>division by zero
i=0
3/i=3.0
i=1
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>continue</h1>

<p>continue 在语法上只会出现于 for 或 while 循环所嵌套的代码中。</p>
<p>它会继续执行最近的外层循环的下一个轮次，或者在没有下一轮次时转往  else 子句执行。</p>
<p>当 continue 将控制流传出一个带有 finally 子句的 try 语句时，该  finally 子句会先被执行然后再真正开始循环的下一个轮次。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> j <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">,j=</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">continue</span>
</span></span></code></pre></div><pre><code>i=0,j=1
i=1,j=1
i=2,j=1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> j <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">,j=</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>: <span style="color:#75715e"># 属于内层循环，每次内层循环结束都执行</span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;end&#39;</span>)
</span></span></code></pre></div><pre><code>i=0,j=2
end
i=1,j=2
end
i=2,j=2
end
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> j <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">,j=</span><span style="color:#e6db74">{</span>j<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>: <span style="color:#75715e"># 属于外层循环，外层循环结束才执行</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;end&#39;</span>)
</span></span></code></pre></div><pre><code>i=0,j=2
i=1,j=2
i=2,j=2
end
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 引发异常直接跳过 continue</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 无异常则继续执行完 finally 才继续下一次循环</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;3/i=</span><span style="color:#e6db74">{</span><span style="color:#ae81ff">3</span><span style="color:#f92672">/</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">continue</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ZeroDivisionError</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        print(e)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>    print(i) <span style="color:#75715e"># 无异常时被跳过</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;end&#39;</span>)
</span></span></code></pre></div><pre><code>division by zero
i=0
0
3/i=3.0
i=1
3/i=1.5
i=2
end
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>del</h1>

<p>del 语句用来删除名称的绑定，删除对象的属性引用 或 删除可抽取、切片的可变容器的元素。</p>
<p>删除名称绑定：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将值 (1,2) 绑定到名称 a, b, c</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> b <span style="color:#f92672">=</span> c <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 删除名称 b, c</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> b,c
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>(1, 2)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b <span style="color:#75715e"># 名称 b 已被删除</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-27-9185c0ba25e7&gt; in &lt;module&gt;
----&gt; 1 b # 名称 b 已被删除


NameError: name 'b' is not defined
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> y <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>x, A<span style="color:#f92672">.</span>y
</span></span></code></pre></div><pre><code>(1, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">del</span> A<span style="color:#f92672">.</span>y
</span></span><span style="display:flex;"><span>print(A<span style="color:#f92672">.</span>x)
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>y <span style="color:#75715e"># 属性名称 y 已被删除，不可引用值 1</span>
</span></span></code></pre></div><pre><code>1


---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-29-8ed1b3e470b1&gt; in &lt;module&gt;
      1 del A.y
      2 print(A.x)
----&gt; 3 A.y # 属性名称 y 已被删除，不可引用值 1


AttributeError: type object 'A' has no attribute 'y'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 删除字典元素</span>
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> d[<span style="color:#e6db74">&#39;a&#39;</span>] <span style="color:#75715e"># 删除键为 &#39;a&#39; 的元素</span>
</span></span><span style="display:flex;"><span>print(d)
</span></span><span style="display:flex;"><span>d[<span style="color:#e6db74">&#39;a&#39;</span>]
</span></span></code></pre></div><pre><code>{'b': 2}


---------------------------------------------------------------------------

KeyError                                  Traceback (most recent call last)

&lt;ipython-input-30-5d91a843f82e&gt; in &lt;module&gt;
      3 del d['a'] # 删除键为 'a' 的元素
      4 print(d)
----&gt; 5 d['a']


KeyError: 'a'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 删除列表切片</span>
</span></span><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> _list[::<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[2, 4]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 删除列表切片</span>
</span></span><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> _list[:] <span style="color:#75715e"># 相当于 _list[:] = []</span>
</span></span><span style="display:flex;"><span>_list
</span></span></code></pre></div><pre><code>[]
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>pass</h1>

<p>pass 是一个空操作 —— 当它被执行时，什么都不发生。</p>
<p>它适合当语法上需要一条语句但并不需要执行任何代码时用来临时占位，例如:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">pass</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 什么也不做的函数</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():<span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 没有任何自定义属性的类</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:<span style="color:#66d9ef">pass</span>
</span></span></code></pre></div>
            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>def</h1>

<p>def 语句是定义函数的语句。语法如下：</p>
<pre tabindex="0"><code>@assignment_expression
def funcname(parameter_list) -&gt; expression:
    suite
</code></pre><p>其中的装饰器 <code>@assignment_expression</code>，形参 <code>parameter_list</code> 和标注 <code>-&gt; expression</code> 是可选项。</p>
<p>函数定义是一条可执行语句。它执行时会将函数名称 <code>funcname</code> 绑定到一个函数对象（函数可执行代码的包装器）。</p>
<p>例如，用必选项定义一个什么也不做的函数如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f
</span></span></code></pre></div><pre><code>&lt;function __main__.f()&gt;
</code></pre>
<p>一个函数定义可以被一个或多个装饰器表达式所包装。</p>
<p>装饰器必须是可调用对象，它会以该函数对象作为唯一参数被发起调用。</p>
<p>其返回值将被绑定到函数名称。多个装饰器会以嵌套方式被应用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@str</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@type</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():<span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>f
</span></span></code></pre></div><pre><code>&quot;&lt;class 'function'&gt;&quot;
</code></pre>
<p>大致相当于：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():<span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>f <span style="color:#f92672">=</span> str(type(f))
</span></span><span style="display:flex;"><span>f
</span></span></code></pre></div><pre><code>&quot;&lt;class 'function'&gt;&quot;
</code></pre>
<p>函数形参 <code>parameter_list</code> 详见 <a href="/python/12_function/03_formal_parameter/">函数形参</a>。</p>
<p>函数标注 <code>-&gt; expression</code> 可以是任何表达式，标注对提高代码的可读性非常有用，看标注而不需要看代码上下文就大概知道代码的使用。例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 标注函数的参数和返回值类型</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(arg:int) <span style="color:#f92672">-&gt;</span> list:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> list(str(arg))
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">123</span>)
</span></span></code></pre></div><pre><code>['1', '2', '3']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>return</h1>

<p>return 在语法上只会出现于函数定义所嵌套的代码，不会出现于类定义所嵌套的代码。</p>
<p>如果提供了表达式，它将被求值，否则以 None 替代（类似省略 return 语句结果）。</p>
<p>return 会离开当前函数调用，并以表达式的值 (或 None) 作为返回值。</p>
<p>当 return 将控制流传出一个带有 finally 子句的 try 语句时，该 finally 子句会先被执行然后再真正离开该函数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f2</span>():
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>print(f2())
</span></span></code></pre></div><pre><code>None
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f1</span>():
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>print(f1())
</span></span></code></pre></div><pre><code>None
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># return 结束函数调用</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;end&#39;</span>) <span style="color:#75715e"># retrun 结束函数调用，不会被执行</span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># finally 总是被执行再结束函数调用</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">/</span>x
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ZeroDivisionError</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        print(e)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> x, x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">0</span>),f(<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>division by zero


((0, 0), (2, 4))
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>yield</h1>

<p>yield 语句，仅在定义 <a href="/python/12_function/09_generator/">生成器函数</a> 时使用，并且仅被用于生成器函数的函数体内部。语法如下：</p>
<pre tabindex="0"><code>yield from expression
</code></pre><p><code>from</code> 和表达式 <code>expression</code> 是可选的，没有表达式默认是 None。</p>
<p>yield 语句整体也是一个可被求值的表达式语句，初始值也是默认 None，可通过 send 方法设置 yield 表达式的值。</p>
<p>在函数定义中使用 yield 使得该定义创建的是生成器函数而非普通函数。当一个生成器函数被调用的时候，它返回一个生成器迭代器。</p>
<p>yield from 相当于将一个可迭代对象 “拆包”，然后逐项被生成器迭代时使用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 创建一个简单的生成器函数</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>print(f)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 调用它获得一个生成器</span>
</span></span><span style="display:flex;"><span>print(f())
</span></span><span style="display:flex;"><span><span style="color:#75715e"># next() 函数迭代生成器获取表达式的值</span>
</span></span><span style="display:flex;"><span>print(next(f()))
</span></span></code></pre></div><pre><code>&lt;function f at 0x00000157028A9598&gt;
&lt;generator object f at 0x000001570286CB88&gt;
None
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 获取并设置 yield 语句的值</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(n):
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> <span style="color:#66d9ef">yield</span> n
</span></span><span style="display:flex;"><span>    print(x)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>g <span style="color:#f92672">=</span> f(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>print(next(g))
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 迭代结束，打印出 yield 语句 x 的初始值为 None</span>
</span></span><span style="display:flex;"><span>print(next(g,<span style="color:#e6db74">&#39;end&#39;</span>))
</span></span></code></pre></div><pre><code>1
None
end
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可通过 send 方法设置当前 yield 表达式的值</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 并返回生成器产生的下一个值</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(n):
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> <span style="color:#66d9ef">yield</span> n
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;yield 表达式的值为:</span><span style="color:#e6db74">{</span>x<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> n
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>g <span style="color:#f92672">=</span> f(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>next(g), g<span style="color:#f92672">.</span>send(<span style="color:#ae81ff">10</span>)
</span></span></code></pre></div><pre><code>yield 表达式的值为:10


(0, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>args):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield from</span> args
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>g <span style="color:#f92672">=</span> f(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>next(g),next(g),next(g),next(g,<span style="color:#e6db74">&#39;end&#39;</span>)
</span></span></code></pre></div><pre><code>(1, 2, 3, 'end')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(arg):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield from</span> arg
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>g <span style="color:#f92672">=</span> f(<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span><span style="display:flex;"><span>next(g),next(g),next(g),next(g,<span style="color:#e6db74">&#39;end&#39;</span>)
</span></span></code></pre></div><pre><code>('1', '2', '3', 'end')
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>class 语句</h1>

<p>class 语句用来定义类，语法如下：</p>
<pre tabindex="0"><code>@assignment_expression
class classname(argument_list):
    suite
</code></pre><p>其中的装饰器 <code>@assignment_expression</code>，基类参数及圆括号 <code>(argument_list)</code> 是可选项。</p>
<p>类定义是一条可执行语句。它执行时会将类名称 classname 绑定到一个新建的类对象。</p>
<p>没有继承基类参数 argument_list 的类默认继承自基类 object。下列是一个必选参数定义的类，默认继承自 object:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 创建一个类名为 A 的类</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>: <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>__bases__ <span style="color:#75715e"># 查看基类</span>
</span></span></code></pre></div><pre><code>(object,)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 创建一个类 B 继承自 int 和 A</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>(int, A):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>B<span style="color:#f92672">.</span>__bases__
</span></span></code></pre></div><pre><code>(int, __main__.A)
</code></pre>
<p>类也可以被装饰，就像装饰函数一样，装饰器表达式的求值规则与函数装饰器相同（详见 <a href="/python/10_statement/10_def/">def 定义函数</a>）。结果随后会被绑定到类名称。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#a6e22e">@str</span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@type</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>: <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>C
</span></span></code></pre></div><pre><code>&quot;&lt;class 'type'&gt;&quot;
</code></pre>
<p>大致相当于：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>: <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>C <span style="color:#f92672">=</span> str(type(C))
</span></span><span style="display:flex;"><span>C
</span></span></code></pre></div><pre><code>&quot;&lt;class 'type'&gt;&quot;
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>try</h1>

<p>try 语句可为一组语句指定异常处理器和/或清理代码。语法结构有两种如下。</p>
<ul>
<li>有 try 和 except 子句（可多个），以及可选的 else 和 finally 子句：</li>
</ul>
<pre tabindex="0"><code>try:
    suite
except expression as identifier:
    suite
else: # 可选
    suite
finally: # 可选
    suite
</code></pre><ul>
<li>只有 try 和 finally 子句：</li>
</ul>
<pre tabindex="0"><code>try:
    suite
finally:
    suite
</code></pre><p>except 子句之后的表达式（通常为异常）<code>expression</code>，关键字 <code>as</code> 以及指定的别名 <code>identifier</code> 都是可选的。</p>
<p>当 try 子句中没有发生异常时，没有异常处理器会被执行。当 try 子句中发生异常时，将启动对异常处理器的搜索。此搜索会依次检查 except 子句，直至找到与该异常相匹配的子句。</p>
<p>except 子句可指定一个或多个异常，如果与发生的异常 “兼容” 则该子句将匹配该异常。</p>
<ul>
<li>指定的异常如果是发生的异常所属的类或基类，则该子句将匹配该异常；</li>
<li>指定的异常可以置于一个元组，其中包含有与发生的异常 “兼容” 的异常，该子句将匹配该异常。</li>
</ul>
<p>当一个异常完全未被处理时，解释器会终止程序的执行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#ae81ff">3</span><span style="color:#f92672">/</span>i)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> (<span style="color:#a6e22e">ZeroDivisionError</span>, <span style="color:#a6e22e">AssertionError</span>) <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        print(e)
</span></span></code></pre></div><pre><code>division by zero
3.0
1.5
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#ae81ff">3</span><span style="color:#f92672">/</span>i)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ZeroDivisionError</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;i=</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">引发异常&#39;</span>)
</span></span></code></pre></div><pre><code>i=0引发异常
3.0
1.5
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    print(<span style="color:#ae81ff">3</span><span style="color:#f92672">/</span>i)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ZeroDivisionError                         Traceback (most recent call last)

&lt;ipython-input-5-ddbcfc1a1b1b&gt; in &lt;module&gt;
      1 for i in range(3):
----&gt; 2     print(3/i)


ZeroDivisionError: division by zero
</code></pre>
<p>如果存在无表达式的 except 子句，它必须是最后一个，它将匹配任何异常：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">NameError</span> <span style="color:#66d9ef">as</span> n:
</span></span><span style="display:flex;"><span>    print(n)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span></code></pre></div><p>如果没有 except 子句与异常相匹配，则会在周边代码和发起调用栈上继续搜索异常处理器，除非存在一个finally 子句正好引发了另一个异常。新引发的异常将导致旧异常的丢失:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">NameError</span> <span style="color:#66d9ef">as</span> n:
</span></span><span style="display:flex;"><span>        print(n)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    f()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ZeroDivisionError</span> <span style="color:#66d9ef">as</span> z:
</span></span><span style="display:flex;"><span>    print(z)
</span></span></code></pre></div><pre><code>division by zero
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">NameError</span> <span style="color:#66d9ef">as</span> n:
</span></span><span style="display:flex;"><span>        print(n)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>        name1
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    f()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ZeroDivisionError</span> <span style="color:#66d9ef">as</span> z: <span style="color:#75715e"># 该异常已丢失</span>
</span></span><span style="display:flex;"><span>    print(z)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">NameError</span> <span style="color:#66d9ef">as</span> n:
</span></span><span style="display:flex;"><span>    print(n)
</span></span></code></pre></div><pre><code>name 'name1' is not defined
</code></pre>
<p>使用 as 将匹配的异常赋值给一个别名，才能在 except 子句之后引用它，并且它将在 except 子句结束时被清除：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#ae81ff">3</span><span style="color:#f92672">/</span>i)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> (<span style="color:#a6e22e">ZeroDivisionError</span>, <span style="color:#a6e22e">AssertionError</span>) <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>        print(e)
</span></span><span style="display:flex;"><span>print(e)
</span></span></code></pre></div><pre><code>division by zero
3.0
1.5


---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-16-a87e190baccb&gt; in &lt;module&gt;
      4     except (ZeroDivisionError, AssertionError) as e:
      5         print(e)
----&gt; 6 print(e)


NameError: name 'e' is not defined
</code></pre>
<p>如果控制流离开 try 子句体时没有引发异常，并且没有执行 return, continue 或 break 语句，可选的 else 子句将被执行:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;开始&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;捕获&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;结束&#39;</span>)
</span></span></code></pre></div><pre><code>开始
结束
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;开始&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;捕获&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;结束&#39;</span>)
</span></span></code></pre></div><pre><code>开始
</code></pre>
<p>如果存在 finally，它用来指定一个 “清理” 处理程序。try，except 或 else 子句中发生任何未处理的异常，会被临时保存。finally 始终被执行，被保存的异常，它会在 finally 子句执行后被重新引发：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>    name2
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>: <span style="color:#75715e"># 未被执行</span>
</span></span><span style="display:flex;"><span>    range(<span style="color:#ae81ff">3</span>)[<span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;end&#39;</span>)
</span></span></code></pre></div><pre><code>end


---------------------------------------------------------------------------

ZeroDivisionError                         Traceback (most recent call last)

&lt;ipython-input-24-7d6fe0d94043&gt; in &lt;module&gt;
      1 try:
----&gt; 2     print(3/0)
      3 except:


ZeroDivisionError: division by zero


During handling of the above exception, another exception occurred:


NameError                                 Traceback (most recent call last)

&lt;ipython-input-24-7d6fe0d94043&gt; in &lt;module&gt;
      2     print(3/0)
      3 except:
----&gt; 4     name2
      5 else: # 未被执行
      6     range(3)[5]


NameError: name 'name2' is not defined
</code></pre>
<p>如果 finally 子句引发了另一个异常，被保存的异常会被设为新异常的上下文。如果 finally 子句执行了 return, break 或 continue 语句，则被保存的异常会被丢弃:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;开始&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;捕获&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        range(<span style="color:#ae81ff">3</span>)[<span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>开始


---------------------------------------------------------------------------

IndexError                                Traceback (most recent call last)

&lt;ipython-input-25-1f272bfbd667&gt; in &lt;module&gt;
      6     else:
----&gt; 7         range(3)[5]
      8     finally:


IndexError: range object index out of range


During handling of the above exception, another exception occurred:


ZeroDivisionError                         Traceback (most recent call last)

&lt;ipython-input-25-1f272bfbd667&gt; in &lt;module&gt;
      7         range(3)[5]
      8     finally:
----&gt; 9         print(3/0)


ZeroDivisionError: division by zero
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;开始&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;捕获&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        range(<span style="color:#ae81ff">3</span>)[<span style="color:#ae81ff">5</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>
</span></span></code></pre></div><pre><code>开始
</code></pre>
<p>当 return, break 或 continue 语句在 finally 语句之前被执行时，finally 子语句也会 ‘在离开时’ 被执行:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;开始&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;捕获&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;结束&#39;</span>)
</span></span></code></pre></div><pre><code>开始
结束
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;开始&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;结束&#39;</span>)
</span></span><span style="display:flex;"><span>f() <span style="color:#75715e"># 先执行 finally 再离开函数调用</span>
</span></span></code></pre></div><pre><code>结束


'开始'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>raise</h1>

<p>raise 语句用来引发异常。语法如下：</p>
<pre tabindex="0"><code>raise expression from expression
</code></pre><p>如果不带表达式，raise 会重新引发当前作用域内最后一个激活的异常。如果当前作用域内没有激活的异常，将会引发 RuntimeError 来提示错误。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">raise</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

RuntimeError                              Traceback (most recent call last)

&lt;ipython-input-1-9c9a2cba73bf&gt; in &lt;module&gt;
----&gt; 1 raise


RuntimeError: No active exception to reraise
</code></pre>
<p>raise 会将第一个表达式求值为异常对象。它必须为 BaseException 的子类或实例。如果它是一个类，当需要时会通过不带参数地实例化该类来获得异常的实例。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(<span style="color:#a6e22e">ZeroDivisionError</span>)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ZeroDivisionError</span> <span style="color:#75715e"># 无提示信息</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ZeroDivisionError                         Traceback (most recent call last)

&lt;ipython-input-2-798b08d1683c&gt; in &lt;module&gt;
----&gt; 1 raise ZeroDivisionError # 无提示信息


ZeroDivisionError: 
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">ZeroDivisionError</span>(<span style="color:#e6db74">&#39;分母不能为 0&#39;</span>) <span style="color:#75715e"># 自定义提示信息</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ZeroDivisionError                         Traceback (most recent call last)

&lt;ipython-input-17-950b4accf1f2&gt; in &lt;module&gt;
----&gt; 1 raise ZeroDivisionError('分母不能为 0') # 自定义提示信息


ZeroDivisionError: 分母不能为 0
</code></pre>
<p>from 子句用于异常串连：如果有该子句，则第二个表达式必须为另一个异常类或实例，它将被关联到所引发的异常:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">IndexError</span>(<span style="color:#e6db74">&#34;索引错误&#34;</span>) <span style="color:#f92672">from</span> NameError(<span style="color:#e6db74">&#39;名称错误&#39;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

NameError: 名称错误


The above exception was the direct cause of the following exception:


IndexError                                Traceback (most recent call last)

&lt;ipython-input-18-124f83b49e6f&gt; in &lt;module&gt;
----&gt; 1 raise IndexError(&quot;索引错误&quot;) from NameError('名称错误')


IndexError: 索引错误
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#ae81ff">1</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">Exception</span> <span style="color:#66d9ef">as</span> e:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">RuntimeError</span>(<span style="color:#e6db74">&#34;Something bad happened&#34;</span>) <span style="color:#f92672">from</span> e
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ZeroDivisionError                         Traceback (most recent call last)

&lt;ipython-input-13-83aaca0b7e7f&gt; in &lt;module&gt;
      1 try:
----&gt; 2     print(1 / 0)
      3 except Exception as e:


ZeroDivisionError: division by zero


The above exception was the direct cause of the following exception:


RuntimeError                              Traceback (most recent call last)

&lt;ipython-input-13-83aaca0b7e7f&gt; in &lt;module&gt;
      2     print(1 / 0)
      3 except Exception as e:
----&gt; 4     raise RuntimeError(&quot;Something bad happened&quot;) from e


RuntimeError: Something bad happened
</code></pre>
<p>如果一个异常在异常处理器或 finally 中被引发，类似的机制会隐式地发挥作用：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#ae81ff">1</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">RuntimeError</span>(<span style="color:#e6db74">&#34;Something bad happened&#34;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ZeroDivisionError                         Traceback (most recent call last)

&lt;ipython-input-16-5576c5c08e42&gt; in &lt;module&gt;
      1 try:
----&gt; 2     print(1 / 0)
      3 except:


ZeroDivisionError: division by zero


During handling of the above exception, another exception occurred:


RuntimeError                              Traceback (most recent call last)

&lt;ipython-input-16-5576c5c08e42&gt; in &lt;module&gt;
      2     print(1 / 0)
      3 except:
----&gt; 4     raise RuntimeError(&quot;Something bad happened&quot;)


RuntimeError: Something bad happened
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#ae81ff">1</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">RuntimeError</span>(<span style="color:#e6db74">&#34;Something bad happened&#34;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ZeroDivisionError                         Traceback (most recent call last)

&lt;ipython-input-15-8b172672db5a&gt; in &lt;module&gt;
      1 try:
----&gt; 2     print(1 / 0)
      3 finally:


ZeroDivisionError: division by zero


During handling of the above exception, another exception occurred:


RuntimeError                              Traceback (most recent call last)

&lt;ipython-input-15-8b172672db5a&gt; in &lt;module&gt;
      2     print(1 / 0)
      3 finally:
----&gt; 4     raise RuntimeError(&quot;Something bad happened&quot;)


RuntimeError: Something bad happened
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>with</h1>

<p>with 语句用于包装代码块的执行，代码块带有使用上下文管理器定义的函数或方法。语法如下：</p>
<pre tabindex="0"><code>with expression as target, expression as target, ...:
    suite
</code></pre><p>带有一个表达式 expression 的 with 语句的执行过程如下:</p>
<ol>
<li>对上下文表达式求值以获得一个上下文管理器。</li>
<li>载入上下文管理器的 <code>__enter__()</code> 以便后续使用。</li>
<li>载入上下文管理器的 <code>__exit__()</code> 以便后续使用。</li>
<li>发起调用上下文管理器的 <code>__enter__()</code> 方法。</li>
<li>如果 with 语句中包含目标 target，来自 <code>__enter__()</code> 的返回值将被赋值给它。</li>
<li>执行语句体。</li>
<li>发起调用上下文管理器的 <code>__exit__()</code> 方法。</li>
</ol>
<p>with 语句会保证如果 <code>__enter__()</code> 方法返回时未发生错误，则 <code>__exit__()</code> 将总是被调用。因此，如果在对目标赋值期间发生错误，则会将其视为在语句体内部发生的错误。</p>
<p>如果语句体的退出是由异常导致的，则其类型、值和回溯信息将被作为参数传递给 <code>__exit__()</code>。否则的话，将提供三个 None 参数（相当于无异常地退出）。</p>
<p>如果语句体的退出是由异常导致的，并且来自 <code>__exit__()</code> 方法的返回值为真，则该异常会被抑制，并会继续执行 with 语句之后的语句。如果返回值为假，则该异常会被重新引发（<code>__exit__()</code> 方法不应该重新引发被传入的异常，这是调用者的责任）。</p>
<p>如果语句体由于异常以外的任何原因退出，则来自 <code>__exit__()</code> 的返回值会被忽略，并会在该类退出正常的发生位置继续执行。</p>
<p>以下代码:</p>
<pre tabindex="0"><code>with EXPRESSION as TARGET:
    SUITE
</code></pre><p>在语义上等价于:</p>
<pre tabindex="0"><code>manager = (EXPRESSION)
enter = type(manager).__enter__
exit = type(manager).__exit__
value = enter(manager)
hit_except = False # False 表示正常执行

try:
    TARGET = value
    SUITE
except:
    hit_except = True # 发生了异常
    # 忽略或抑制异常，继续退出；或退出并引发异常
    if not exit(manager, *sys.exc_info()):
        raise
finally:
    if not hit_except: # 正常执行
        # 正常退出
        exit(manager, None, None, None)
</code></pre><p>可见使用 with 语句，无论有没有发生异常，都会 “清理” 程序（保存和恢复各种全局状态，锁定和解锁资源，关闭打开的文件等等）。</p>
<p>有多个表达式，则会视作存在多个 with 语句嵌套来处理多个上下文管理器:</p>
<pre tabindex="0"><code>with A() as a, B() as b:
    SUITE

# 在语义上等价于:
with A() as a:
    with B() as b:
        SUITE
</code></pre><p>with 语句常用来打开文件而不需要显式地关闭文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;../11_built-in_function/test.txt&#39;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#e6db74">&#39;r&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> f:
</span></span><span style="display:flex;"><span>    print(f<span style="color:#f92672">.</span>read())
</span></span></code></pre></div><pre><code>xue.cn

自学是门手艺
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 相当于</span>
</span></span><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;../11_built-in_function/test.txt&#39;</span>,
</span></span><span style="display:flex;"><span>         <span style="color:#e6db74">&#39;r&#39;</span>, encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>print(f<span style="color:#f92672">.</span>read())
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><pre><code>xue.cn

自学是门手艺
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>assert</h1>

<p>assert 语句是在程序中插入调试性断言的简便方式。在表达式条件为 False 的时候触发异常。</p>
<p>简单形式为：<code>assert expression</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">assert</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">assert</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AssertionError                            Traceback (most recent call last)

&lt;ipython-input-2-5cd89e6dd50b&gt; in &lt;module&gt;
----&gt; 1 assert 1 + 1 != 2


AssertionError: 
</code></pre>
<p>扩展形式为：<code>assert expression1, expression2</code>。expression2 通常是提示信息。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">assert</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">!=</span> <span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;计算错误&#39;</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AssertionError                            Traceback (most recent call last)

&lt;ipython-input-7-3b85a53ff241&gt; in &lt;module&gt;
----&gt; 1 assert 1 + 1 != 2, '计算错误'


AssertionError: 计算错误
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">assert</span> i <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">是奇数&#39;</span>
</span></span><span style="display:flex;"><span>        print(i)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">AssertionError</span> <span style="color:#66d9ef">as</span> a:
</span></span><span style="display:flex;"><span>        print(a)
</span></span></code></pre></div><pre><code>0
1是奇数
2
3是奇数
4
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>import</h1>

<p>import 语句用于从模块中导入子模块，类，函数等。语法大致有三种：</p>
<pre tabindex="0"><code># 第一种
import module as name, module as name, ...

# 第二种
# import 之后可以置于一个元组
from module import identifier as name, identifier as name, ...

# 第三种
from module import *
</code></pre><p>模块 <code>module</code> 可以是高层级到低层级用属性表示法引用的模块，例如 <code>pandas.core.series</code>。</p>
<p><code>as</code> 及其后的别名 <code>name</code> 是可选的。</p>
<p>语句可以导入单个或多个对象，用逗号分隔实际是多个子句。</p>
<p>第一种导入方法，如果成功获取到模块，则可以通过以下方式之一在 import 语句所在命名空间中使用它：</p>
<ul>
<li>如果被导入模块是最高层级模块，模块名被绑定；</li>
<li>如果导入的模块不是最高层级的模块，则该模块的最高层级模块名被绑定，该模块必须使用完整限定名访问；</li>
<li>如果有 as，则 as 之后的别名被绑定，模块名不绑定。</li>
</ul>
<p>如果没有指定模块，引发 ModuleNotFoundError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas
</span></span><span style="display:flex;"><span>pandas
</span></span></code></pre></div><pre><code>&lt;module 'pandas' from 'F:\\anaconda\\lib\\site-packages\\pandas\\__init__.py'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">del</span> pandas
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas.core.series
</span></span><span style="display:flex;"><span>pandas, pandas<span style="color:#f92672">.</span>core, pandas<span style="color:#f92672">.</span>core<span style="color:#f92672">.</span>series
</span></span></code></pre></div><pre><code>(&lt;module 'pandas' from 'F:\\anaconda\\lib\\site-packages\\pandas\\__init__.py'&gt;,
 &lt;module 'pandas.core' from 'F:\\anaconda\\lib\\site-packages\\pandas\\core\\__init__.py'&gt;,
 &lt;module 'pandas.core.series' from 'F:\\anaconda\\lib\\site-packages\\pandas\\core\\series.py'&gt;)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>series <span style="color:#75715e"># 必须完成限定名访问</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-6-2859777d6f2b&gt; in &lt;module&gt;
----&gt; 1 series


NameError: name 'series' is not defined
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">del</span> pandas
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas.core.series <span style="color:#66d9ef">as</span> pds
</span></span><span style="display:flex;"><span>pds
</span></span></code></pre></div><pre><code>&lt;module 'pandas.core.series' from 'F:\\anaconda\\lib\\site-packages\\pandas\\core\\series.py'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pandas <span style="color:#75715e"># 只能使用别名访问</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-8-609b6d5922fb&gt; in &lt;module&gt;
----&gt; 1 pandas


NameError: name 'pandas' is not defined
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">import</span> pandas <span style="color:#75715e"># 局部命名空间导入</span>
</span></span><span style="display:flex;"><span>pandas <span style="color:#75715e"># 全局命名空间不能访问</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-10-0b76d1984901&gt; in &lt;module&gt;
      1 def f():
      2     import pandas # 局部命名空间导入
----&gt; 3 pandas


NameError: name 'pandas' is not defined
</code></pre>
<p>第二种导入方法，如果成功获取到模块，from 之后的模块名不会被绑定，对于 import 子句导入的属性或子模块，如果有 as 子句，则只能使用其指定的别名使用它，否则使用该属性或子模块的名称 identifier 使用它。</p>
<p>如果属性或子模块不存在，或不能导入，引发 ImportError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pandas.core <span style="color:#f92672">import</span> base
</span></span><span style="display:flex;"><span>base
</span></span></code></pre></div><pre><code>&lt;module 'pandas.core.base' from 'F:\\anaconda\\lib\\site-packages\\pandas\\core\\base.py'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pandas<span style="color:#f92672">.</span>core <span style="color:#75715e"># 只导入了该模块下的子模块 base</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-2-37462de79a89&gt; in &lt;module&gt;
----&gt; 1 pandas.core


NameError: name 'pandas' is not defined
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 导入多个可置于元组中</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> (random <span style="color:#66d9ef">as</span> r1,
</span></span><span style="display:flex;"><span>                    randint <span style="color:#66d9ef">as</span> r2,)
</span></span><span style="display:flex;"><span>r1, r2
</span></span></code></pre></div><pre><code>(&lt;function Random.random()&gt;,
 &lt;bound method Random.randint of &lt;random.Random object at 0x000001E531A14580&gt;&gt;)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># pandas 下没有 base，导入错误</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> pandas <span style="color:#f92672">import</span> base 
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ImportError                               Traceback (most recent call last)

&lt;ipython-input-7-7903c4949085&gt; in &lt;module&gt;
----&gt; 1 from pandas import base


ImportError: cannot import name 'base' from 'pandas' (F:\anaconda\lib\site-packages\pandas\__init__.py)
</code></pre>
<p>第三种导入方法，则在模块中定义的全部公有名称都将绑定到 import 语句所在的命名空间。</p>
<p>公有名称是由在模块的命名空间中检测一个名为 <code>__all__</code> 的变量来确定的；如果 <code>__all__</code> 没有被定义，则公有名称的集合将包含模块的命名空间中找到的所有不以下划线字符 <code>_</code> 打头的名称。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span>randint
</span></span></code></pre></div><pre><code>&lt;bound method Random.randint of &lt;random.Random object at 0x0000025E1DCC8180&gt;&gt;
</code></pre>
<p>当指定要导入哪个模块时，你不必指定模块的绝对名称。当一个模块或包被包含在另一个包之中时，可以在同一个最高层级包中进行相对导入，而不必提及包名称。</p>
<p>通过在 from 之后指定的模块或包中使用前缀点号，你可以在不指定确切名称的情况下指明在<strong>当前包</strong>层级结构中要上溯多少级。一个前缀点号表示是执行导入的模块所在的当前包，两个点号表示上溯一个包层级。三个点号表示上溯两级，依此类推。例如：</p>
<pre tabindex="0"><code>package/
    __init__.py
    subpackage1/
        __init__.py
        moduleX.py
        moduleY.py
    subpackage2/
        __init__.py
        moduleZ.py
    moduleA.py
</code></pre><p>假设当前位置是 <code> subpackage1/moduleX.py</code>，则：</p>
<pre tabindex="0"><code>from .moduleY import spam
from . import moduleY
from ..subpackage1 import moduleY
from ..subpackage2.moduleZ import eggs
from ..moduleA import foo
</code></pre><p>都是有效的。</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>global</h1>

<p>global 语句作用于整个当前代码块，它后面所列出的标识符将被解读为全局变量。</p>
<p>在 global 语句中列出的名称不得在同一代码块内该 global 语句之前的位置中使用。</p>
<p>当前的实现虽然并未强制要求，但在 global 语句中列出的名称不得被定义为正式形参，不也得出现于 for 循环的控制目标、class 定义、函数定义、import 语句 或 变量标注之中。</p>
<p>举例如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>f() <span style="color:#75715e"># 调用函数，对 a 赋值</span>
</span></span><span style="display:flex;"><span>a <span style="color:#75715e"># a 是局部变量，不可访问</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-5-251a24e05273&gt; in &lt;module&gt;
      3 
      4 f() # 调用函数，对 a 赋值
----&gt; 5 a # a 是局部变量，不可访问


NameError: name 'a' is not defined
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">global</span> a <span style="color:#75715e"># 将 a 声明为全局变量</span>
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>f() <span style="color:#75715e"># 调用函数，对 a 赋值</span>
</span></span><span style="display:flex;"><span>print(a) <span style="color:#75715e"># a 已经是全局变量</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> a
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e"># 同一代码块中，不可在 global 前使用</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">global</span> a <span style="color:#75715e"># 将 a 声明为全局变量</span>
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><pre><code>  File &quot;&lt;ipython-input-9-51bc7826eb42&gt;&quot;, line 3
    global a # 将 a 声明为全局变量
    ^
SyntaxError: name 'a' is assigned to before global declaration
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e"># 与 global 不在一个代码块</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">global</span> a, b <span style="color:#75715e"># 将 a, b 声明为全局变量</span>
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e"># a 被重新赋值</span>
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>f() <span style="color:#75715e"># 调用函数，对 b 赋值，对 a 重新赋值</span>
</span></span><span style="display:flex;"><span>print(a,b)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> a,b
</span></span></code></pre></div><pre><code>0 1
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>nonlocal</h1>

<p>nonlocal 语句会使得所列出的名称指向在它之前<strong>已经存在</strong>的，<strong>和它最近</strong>并且<strong>在包含它的作用域中绑定</strong>，<strong>除全局变量以外</strong>的变量。</p>
<p>这种功能很重要，因为绑定的默认行为是先搜索局部命名空间。这个语句允许被封装的代码重新绑定局部作用域以外且非全局（模块）作用域当中的变量。</p>
<p>举例如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;全局&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;f&#39;</span> <span style="color:#75715e"># f 中已经存在的 a, 包含 f2</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f1</span>():
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;f1&#39;</span> <span style="color:#75715e"># f1 中的局部变量</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f2</span>():
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">nonlocal</span> a <span style="color:#75715e"># 和他最近且包含的是 &#39;f&#39;</span>
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;f2&#39;</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f3</span>():
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">global</span> a
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;f3&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 调用 f1 不改变 a = &#39;f&#39;    </span>
</span></span><span style="display:flex;"><span>    f1() 
</span></span><span style="display:flex;"><span>    print(a)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 调用 f2, nonlocal 将 a = &#39;f&#39; 重新绑定为 a = &#39;f2&#39;</span>
</span></span><span style="display:flex;"><span>    f2() 
</span></span><span style="display:flex;"><span>    print(a)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 调用 f3, global 将 a 声明为全局变量，</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 并将 a = &#39;全局&#39; 重新绑定为 a = &#39;f3&#39; </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 但在 f 这个局部中，a 仍然是 &#39;f2&#39;</span>
</span></span><span style="display:flex;"><span>    f3()
</span></span><span style="display:flex;"><span>    print(a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f() <span style="color:#75715e"># 调用 f 使绑定都生效</span>
</span></span><span style="display:flex;"><span>print(a)
</span></span></code></pre></div><pre><code>f
f2
f2
f3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 不存在不可以绑定</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">nonlocal</span> a 
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>  File &quot;&lt;ipython-input-3-3706e217f701&gt;&quot;, line 2
    nonlocal a
    ^
SyntaxError: no binding for nonlocal 'a' found
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 不是包含它的作用域，不可以绑定</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f1</span>():
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    f1()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">nonlocal</span> a 
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>  File &quot;&lt;ipython-input-4-a036260d029b&gt;&quot;, line 5
    nonlocal a
    ^
SyntaxError: no binding for nonlocal 'a' found
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 全局变量，不可以绑定</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">nonlocal</span> a 
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>  File &quot;&lt;ipython-input-5-87297c0b0eeb&gt;&quot;, line 4
    nonlocal a
    ^
SyntaxError: no binding for nonlocal 'a' found
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>abs() 数字取绝对值</h1>

<p>内置函数 abs()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(abs)
</span></span></code></pre></div><pre><code>Help on built-in function abs in module builtins:

abs(x, /)
    Return the absolute value of the argument.
</code></pre>
<p>返回一个数的绝对值，参数可以是整数、浮点数或任何实现了 <code>__abs__()</code> 的对象。如果参数是一
个复数，则返回它的模。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>abs(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>abs(<span style="color:#f92672">-</span><span style="color:#ae81ff">3.14</span>)
</span></span></code></pre></div><pre><code>3.14
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>abs(<span style="color:#ae81ff">3</span><span style="color:#f92672">+</span><span style="color:#ae81ff">4</span>j)
</span></span></code></pre></div><pre><code>5.0
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/11_built-in_function/_index.files/01_abs.ipynb">01_abs.ipynb</a> (2 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/02_all.ipynb">02_all.ipynb</a> (2 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/03_any.ipynb">03_any.ipynb</a> (2 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/04_ascii.ipynb">04_ascii.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/05_bin.ipynb">05_bin.ipynb</a> (1 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/06_bool.ipynb">06_bool.ipynb</a> (12 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/07_bytes.ipynb">07_bytes.ipynb</a> (20 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/08_callable.ipynb">08_callable.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/09_chr.ipynb">09_chr.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/10_classmethod.ipynb">10_classmethod.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/11_compile.ipynb">11_compile.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/12_complex.ipynb">12_complex.ipynb</a> (8 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/13_delattr.ipynb">13_delattr.ipynb</a> (2 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/14_dict.ipynb">14_dict.ipynb</a> (8 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/15_dir.ipynb">15_dir.ipynb</a> (9 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/16_divmod.ipynb">16_divmod.ipynb</a> (2 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/17_enumerate.ipynb">17_enumerate.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/18_eval.ipynb">18_eval.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/19_exec.ipynb">19_exec.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/20_filter.ipynb">20_filter.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/21_float.ipynb">21_float.ipynb</a> (12 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/22_format.ipynb">22_format.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/23_frozenset.ipynb">23_frozenset.ipynb</a> (6 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/24_getattr.ipynb">24_getattr.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/25_globals.ipynb">25_globals.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/26_hasattr.ipynb">26_hasattr.ipynb</a> (2 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/27_hash.ipynb">27_hash.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/28_help.ipynb">28_help.ipynb</a> (6 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/29_hex.ipynb">29_hex.ipynb</a> (1 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/30_id.ipynb">30_id.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/31_input.ipynb">31_input.ipynb</a> (2 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/32_int.ipynb">32_int.ipynb</a> (16 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/33_isinstance.ipynb">33_isinstance.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/34_issubclass.ipynb">34_issubclass.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/35_iter.ipynb">35_iter.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/36_len.ipynb">36_len.ipynb</a> (2 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/37_list.ipynb">37_list.ipynb</a> (6 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/38_locals.ipynb">38_locals.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/39_map.ipynb">39_map.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/40_max.ipynb">40_max.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/41_min.ipynb">41_min.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/42_next.ipynb">42_next.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/43_object.ipynb">43_object.ipynb</a> (2 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/44_oct.ipynb">44_oct.ipynb</a> (2 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/45_open.ipynb">45_open.ipynb</a> (12 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/46_ord.ipynb">46_ord.ipynb</a> (1 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/47_pow.ipynb">47_pow.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/48_print.ipynb">48_print.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/49_property.ipynb">49_property.ipynb</a> (14 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/50_range.ipynb">50_range.ipynb</a> (5 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/51_repr.ipynb">51_repr.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/52_reversed.ipynb">52_reversed.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/53_round.ipynb">53_round.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/54_set.ipynb">54_set.ipynb</a> (8 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/55_setattr.ipynb">55_setattr.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/56_slice.ipynb">56_slice.ipynb</a> (5 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/57_sorted.ipynb">57_sorted.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/58_staticmethod.ipynb">58_staticmethod.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/59_str.ipynb">59_str.ipynb</a> (22 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/60_sum.ipynb">60_sum.ipynb</a> (3 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/61_super.ipynb">61_super.ipynb</a> (7 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/62_tuple.ipynb">62_tuple.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/63_type.ipynb">63_type.ipynb</a> (7 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/64_vars.ipynb">64_vars.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/65_zip.ipynb">65_zip.ipynb</a> (4 KB)</li>
    <li><a href="/python/11_built-in_function/_index.files/test.txt">test.txt</a> (26 B)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>all() 所有元素布尔值为真？</h1>

<p>内置函数 all()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(all)
</span></span></code></pre></div><pre><code>Help on built-in function all in module builtins:

all(iterable, /)
    Return True if bool(x) is True for all values x in the iterable.
    
    If the iterable is empty, return True.
</code></pre>
<p>如果可迭代对象（iterable）的所有元素均为真值（或可迭代对象为空）则返回 True 。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>all(<span style="color:#e6db74">&#39;0123&#39;</span>) <span style="color:#75715e"># 字符串 &#39;0&#39; 是真值</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>all([<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>all({})
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>all({<span style="color:#ae81ff">1</span>:[], <span style="color:#ae81ff">2</span>:<span style="color:#ae81ff">0</span> })
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>any() 有一个元素布尔值为真？</h1>

<p>内置函数 any()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(any)
</span></span></code></pre></div><pre><code>Help on built-in function any in module builtins:

any(iterable, /)
    Return True if bool(x) is True for any x in the iterable.
    
    If the iterable is empty, return False.
</code></pre>
<p>如果可迭代对象（iterable）的任一元素为真值则返回 True。如果可迭代对象为空，返回 False。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>any([<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>])
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>any((<span style="color:#66d9ef">None</span>, [], range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>)))
</span></span></code></pre></div><pre><code>False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>ascii() 返回对象的可打印字符串</h1>

<p>内置函数 ascii()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(ascii)
</span></span></code></pre></div><pre><code>Help on built-in function ascii in module builtins:

ascii(obj, /)
    Return an ASCII-only representation of an object.
    
    As repr(), return a string containing a printable representation of an
    object, but escape the non-ASCII characters in the string returned by
    repr() using \\x, \\u or \\U escapes. This generates a string similar
    to that returned by repr() in Python 2.
</code></pre>
<p>就像函数 repr()，返回一个对象可打印的字符串，但是非 ASCII 编码的字符，会使用 \x、\u 和 \U 来转义。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ascii(<span style="color:#ae81ff">123</span>)
</span></span></code></pre></div><pre><code>'123'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ascii(<span style="color:#66d9ef">None</span>)
</span></span></code></pre></div><pre><code>'None'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ascii(<span style="color:#e6db74">&#39;python&#39;</span>)
</span></span></code></pre></div><pre><code>&quot;'python'&quot;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ascii(<span style="color:#e6db74">&#39;嗨&#39;</span>)
</span></span></code></pre></div><pre><code>&quot;'\\u55e8'&quot;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>repr(<span style="color:#e6db74">&#39;嗨&#39;</span>)
</span></span></code></pre></div><pre><code>&quot;'嗨'&quot;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\u55e8</span><span style="color:#e6db74">&#39;</span> <span style="color:#75715e"># 16 位十六进制数 55e8 码位的字符</span>
</span></span></code></pre></div><pre><code>'嗨'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>bin() 整数的二进制形式</h1>

<p>内置函数 bin()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(bin)
</span></span></code></pre></div><pre><code>Help on built-in function bin in module builtins:

bin(number, /)
    Return the binary representation of an integer.
    
    &gt;&gt;&gt; bin(2796202)
    '0b1010101010101010101010'
</code></pre>
<p>返回给定整数的二进制表示形式的字符串。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>bin(<span style="color:#ae81ff">123</span>)
</span></span></code></pre></div><pre><code>'0b1111011'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">0b1111011</span>
</span></span></code></pre></div><pre><code>123
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>bool 返回对象的布尔值</h1>

<p>内置函数（类） bool，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(bool)
</span></span></code></pre></div><pre><code>Help on class bool in module builtins:

class bool(int)
 |  bool(x) -&gt; bool
 |  
 |  Returns True when the argument x is true, False otherwise.
 |  The builtins True and False are the only two instances of the class bool.
 |  The class bool is a subclass of the class int, and cannot be subclassed.
 |  
 |  Method resolution order:
 |      bool
 |      int
 |      object
 |  
</code></pre>
<p>返回对象 x 的布尔值。省略 x 则返回 False。对象的真值、假值规则如下：</p>
<p>一个对象在默认情况下均被视为真值，除非当该对象被调用时其所属类定义了 <code>__bool__()</code> 方法且返回 False 或是定义了 <code>__len__()</code> 方法且返回零。</p>
<p>下面基本完整地列出了会被视为假值的内置对象:</p>
<ul>
<li>被定义为假值的常量: None 和 False。</li>
<li>任何数值类型的零: 0, 0.0, 0j, Decimal(0), Fraction(0, 1)</li>
<li>空的序列和多项集: &lsquo;&rsquo;, (), [], {}, set(), range(0)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(bool)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>bool()
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>bool(<span style="color:#66d9ef">None</span>)
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>bool(<span style="color:#e6db74">&#39;0&#39;</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>bool(<span style="color:#e6db74">&#39; &#39;</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>bytes 创建 bytes 对象</h1>

<p>内置函数（类）bytes，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(bytes)
</span></span></code></pre></div><pre><code>Help on class bytes in module builtins:

class bytes(object)
 |  bytes(iterable_of_ints) -&gt; bytes
 |  bytes(string, encoding[, errors]) -&gt; bytes
 |  bytes(bytes_or_buffer) -&gt; immutable copy of bytes_or_buffer
 |  bytes(int) -&gt; bytes object of size given by the parameter initialized with null bytes
 |  bytes() -&gt; empty bytes object
 |  
 |  Construct an immutable array of bytes from:
 |    - an iterable yielding integers in range(256)
 |    - a text string encoded using the specified encoding
 |    - any object implementing the buffer API.
 |    - an integer
 |  
 |  Methods defined here:
 |  
</code></pre>
<p>返回一个新的二进制序列 bytes 对象。参数可以是：</p>
<ul>
<li>0~255 的整数组成的可迭代类型</li>
<li>字符串，并指定编码格式 encoding</li>
<li>与缓冲区接口一致的对象</li>
<li>整数</li>
<li>或者不传参数</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(bytes)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>bytes([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>b'\x01\x02\x03'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>bytes(<span style="color:#e6db74">&#39;嗨&#39;</span>, <span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span></code></pre></div><pre><code>b'\xe5\x97\xa8'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>bytes(<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>b'\x00\x00\x00'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>bytes()
</span></span></code></pre></div><pre><code>b''
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>callable() 是可调用对象？</h1>

<p>内置函数 callable()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(callable)
</span></span></code></pre></div><pre><code>Help on built-in function callable in module builtins:

callable(obj, /)
    Return whether the object is callable (i.e., some kind of function).
    
    Note that classes are callable, as are instances of classes with a
    __call__() method.
</code></pre>
<p>如果 obj 是可调用对象就返回 True，否则返回 False。如果返回 True，调用仍可能失败，但如果返回 False，则调用将肯定不会成功。</p>
<p>函数、方法、类以及实现了 <code>__call__()</code> 方法的类的实例是可调用的。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>callable(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>callable(int)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Myint</span>(int):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __call__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>num <span style="color:#f92672">=</span> Myint(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>num
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>callable(num)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>callable(<span style="color:#66d9ef">lambda</span>: <span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>chr() 返回 Unicode 码位值对应字符</h1>

<p>内置函数 chr()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(chr)
</span></span></code></pre></div><pre><code>Help on built-in function chr in module builtins:

chr(i, /)
    Return a Unicode string of one character with ordinal i; 0 &lt;= i &lt;= 0x10ffff.
</code></pre>
<p>返回 Unicode 码位对应的字符的字符串格式。码位范围是 0~1114111（16 进制表示是 0x10FFFF），超过这个范围，会触发 ValueError 异常。该函数是 ord() 的逆函数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>chr(<span style="color:#ae81ff">97</span>)
</span></span></code></pre></div><pre><code>'a'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ord(<span style="color:#e6db74">&#39;a&#39;</span>)
</span></span></code></pre></div><pre><code>97
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>chr(<span style="color:#ae81ff">1114111</span>)
</span></span></code></pre></div><pre><code>'\U0010ffff'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>chr(<span style="color:#ae81ff">1114112</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-5-4857faf08086&gt; in &lt;module&gt;
----&gt; 1 chr(1114112)


ValueError: chr() arg not in range(0x110000)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>classmethod 封装函数为类方法</h1>

<p>内置函数（类）classmethod，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(classmethod)
</span></span></code></pre></div><pre><code>Help on class classmethod in module builtins:

class classmethod(object)
 |  classmethod(function) -&gt; method
 |  
 |  Convert a function to be a class method.
 |  
 |  A class method receives the class as implicit first argument,
 |  just like an instance method receives the instance.
 |  To declare a class method, use this idiom:
 |  
 |    class C:
 |        @classmethod
 |        def f(cls, arg1, arg2, ...):
 |            ...
 |  
</code></pre>
<p>把一个函数封装成类方法。一个类方法把类自己作为第一个实参，就像一个实例方法把实例自己作为第一个实参。</p>
<p>可将函数作为参数来声明类方法，但请用习惯的装饰器形式（@classmethod）来声明类方法。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(classmethod)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    print_itself <span style="color:#f92672">=</span> classmethod(print)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>print_itself()
</span></span></code></pre></div><pre><code>&lt;class '__main__.A'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@classmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">print_itself</span>(cls):
</span></span><span style="display:flex;"><span>        print(cls)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>print_itself()
</span></span></code></pre></div><pre><code>&lt;class '__main__.A'&gt;
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>compile() 创建代码对象</h1>

<p>内置函数 compile()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(compile)
</span></span></code></pre></div><pre><code>Help on built-in function compile in module builtins:

compile(source, filename, mode, flags=0, dont_inherit=False, optimize=-1)
    Compile source into a code object that can be executed by exec() or eval().
    
    The source code may represent a Python module, statement or expression.
    The filename will be used for run-time error messages.
    The mode must be 'exec' to compile a module, 'single' to compile a
    single (interactive) statement, or 'eval' to compile an expression.
    The flags argument, if present, controls which future statements influence
    the compilation of the code.
    The dont_inherit argument, if true, stops the compilation inheriting
    the effects of any future statements in effect in the code calling
    compile; if absent or false these statements do influence the compilation,
    in addition to any features explicitly specified.
</code></pre>
<p>将 source 编译成代码或 AST 对象。代码对象可以被 exec() 或 eval() 执行。</p>
<p>参数说明：</p>
<ul>
<li>source，要编译的资源，可以是字符串、字节或 AST 对象。</li>
<li>filename，源所来自的文件的名称。如果代码不需要从文件中读取，可以传入一些可辨识的值（经常会使用字符串）。</li>
<li>mode，指定了编译代码必须用的模式。如果 source 是语句序列，可以是 &rsquo;exec&rsquo;；如果是单一表达式，可以是 &rsquo;eval&rsquo;；如果是单个交互式语句，可以是 &lsquo;single&rsquo;。</li>
<li>flags	和 dont-inherit，控制在编译 source 时要用到哪个 future 语句。</li>
<li>optimize，指定编译器的优化级别；默认值 -1 选择与解释器的 -O 选项相同的优化级别。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>source <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;for i in range(3):print(i)&#39;</span>
</span></span><span style="display:flex;"><span>code <span style="color:#f92672">=</span> compile(source,<span style="color:#e6db74">&#39;null&#39;</span>,<span style="color:#e6db74">&#39;exec&#39;</span>)
</span></span><span style="display:flex;"><span>code
</span></span></code></pre></div><pre><code>&lt;code object &lt;module&gt; at 0x000001E999B07780, file &quot;null&quot;, line 1&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>exec(code)
</span></span></code></pre></div><pre><code>0
1
2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>eval(code)
</span></span></code></pre></div><pre><code>0
1
2
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>complex 创建复数</h1>

<p>内置函数（类）complex，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(complex)
</span></span></code></pre></div><pre><code>Help on class complex in module builtins:

class complex(object)
 |  complex(real=0, imag=0)
 |  
 |  Create a complex number from a real part and an optional imaginary part.
 |  
 |  This is equivalent to (real + imag*1j) where imag defaults to 0.
 |  
 |  Methods defined here:
 |  
 |  __abs__(self, /)
 |      abs(self)
 |  
 |  __add__(self, value, /)
 |      Return self+value.
 |  
 |  __bool__(self, /)
 |      self != 0
 |  
 |  __divmod__(self, value, /)
 |      Return divmod(self, value).
 |  
 |  __eq__(self, value, /)
 |      Return self==value.
 |  
 |  __float__(self, /)
 |      float(self)
 |  
 |  __floordiv__(self, value, /)
 |      Return self//value.
 |  
 |  __format__(...)
 |      complex.__format__() -&gt; str
 |      
 |      Convert to a string according to format_spec.
 |  
 |  __ge__(self, value, /)
 |      Return self&gt;=value.
 |  
 |  __getattribute__(self, name, /)
 |      Return getattr(self, name).
 |  
 |  __getnewargs__(...)
 |  
 |  __gt__(self, value, /)
 |      Return self&gt;value.
 |  
 |  __hash__(self, /)
 |      Return hash(self).
 |  
 |  __int__(self, /)
 |      int(self)
 |  
 |  __le__(self, value, /)
 |      Return self&lt;=value.
 |  
 |  __lt__(self, value, /)
 |      Return self&lt;value.
 |  
 |  __mod__(self, value, /)
 |      Return self%value.
 |  
 |  __mul__(self, value, /)
 |      Return self*value.
 |  
 |  __ne__(self, value, /)
 |      Return self!=value.
 |  
 |  __neg__(self, /)
 |      -self
 |  
 |  __pos__(self, /)
 |      +self
 |  
 |  __pow__(self, value, mod=None, /)
 |      Return pow(self, value, mod).
 |  
 |  __radd__(self, value, /)
 |      Return value+self.
 |  
 |  __rdivmod__(self, value, /)
 |      Return divmod(value, self).
 |  
 |  __repr__(self, /)
 |      Return repr(self).
 |  
 |  __rfloordiv__(self, value, /)
 |      Return value//self.
 |  
 |  __rmod__(self, value, /)
 |      Return value%self.
 |  
 |  __rmul__(self, value, /)
 |      Return value*self.
 |  
 |  __rpow__(self, value, mod=None, /)
 |      Return pow(value, self, mod).
 |  
 |  __rsub__(self, value, /)
 |      Return value-self.
 |  
 |  __rtruediv__(self, value, /)
 |      Return value/self.
 |  
 |  __sub__(self, value, /)
 |      Return self-value.
 |  
 |  __truediv__(self, value, /)
 |      Return self/value.
 |  
 |  conjugate(...)
 |      complex.conjugate() -&gt; complex
 |      
 |      Return the complex conjugate of its argument. (3-4j).conjugate() == 3+4j.
 |  
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |  
 |  __new__(*args, **kwargs) from builtins.type
 |      Create and return a new object.  See help(type) for accurate signature.
 |  
 |  ----------------------------------------------------------------------
 |  Data descriptors defined here:
 |  
 |  imag
 |      the imaginary part of a complex number
 |  
 |  real
 |      the real part of a complex number
</code></pre>
<p>返回值为 real + imag*1j 的复数，或将字符串或数字转换为复数。</p>
<ul>
<li>如果第一个形参是字符串，则它被解释为一个复数，并且函数调用时必须没有第二个形参。</li>
<li>第二个形参不能是字符串。</li>
<li>每个实参都可以是任意的数值类型（包括复数）。</li>
<li>如果省略了 imag，则默认值为零，构造函数会像 int 和 float 一样进行数值转换。</li>
<li>如果两个实参都省略，则返回 0j。</li>
<li>当从字符串转换时，字符串在 + 或 - 的周围必须不能有空格。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(complex)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>complex(<span style="color:#e6db74">&#39;1&#39;</span>)
</span></span></code></pre></div><pre><code>(1+0j)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>complex(<span style="color:#e6db74">&#39;1+2j&#39;</span>)
</span></span></code></pre></div><pre><code>(1+2j)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>complex(<span style="color:#ae81ff">1</span>j, <span style="color:#ae81ff">2</span>j)
</span></span></code></pre></div><pre><code>(-2+1j)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>complex(<span style="color:#ae81ff">1</span>j)
</span></span></code></pre></div><pre><code>1j
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>complex()
</span></span></code></pre></div><pre><code>0j
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>complex(<span style="color:#e6db74">&#39;1 + 2j&#39;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-7-fd0fa4b53d7c&gt; in &lt;module&gt;
----&gt; 1 complex('1 + 2j')


ValueError: complex() arg is a malformed string
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>delattr() 删除对象属性</h1>

<p>内置函数 delattr()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(delattr)
</span></span></code></pre></div><pre><code>Help on built-in function delattr in module builtins:

delattr(obj, name, /)
    Deletes the named attribute from the given object.
    
    delattr(x, 'y') is equivalent to ``del x.y''
</code></pre>
<p>实参是一个对象和一个字符串。该字符串必须是对象的某个属性。如果对象允许，该函数将删除指定的属性。<code>delattr(x, 'y')</code> 等价于 <code>del x.y</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> A
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>y
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>delattr(x,<span style="color:#e6db74">&#39;y&#39;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x<span style="color:#f92672">.</span>y
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-12-3552434a3e61&gt; in &lt;module&gt;
----&gt; 1 x.y


AttributeError: type object 'A' has no attribute 'y'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dict 创建字典</h1>

<p>内置函数（类）dict，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dict)
</span></span></code></pre></div><pre><code>Help on class dict in module builtins:

class dict(object)
 |  dict() -&gt; new empty dictionary
 |  dict(mapping) -&gt; new dictionary initialized from a mapping object's
 |      (key, value) pairs
 |  dict(iterable) -&gt; new dictionary initialized as if via:
 |      d = {}
 |      for k, v in iterable:
 |          d[k] = v
 |  dict(**kwargs) -&gt; new dictionary initialized with the name=value pairs
 |      in the keyword argument list.  For example:  dict(one=1, two=2)
 |  
</code></pre>
<p>创建一个新字典。参数说明：</p>
<ul>
<li>不传参数创建空字典；</li>
<li>传递一个映射对象；</li>
<li>传递一个可迭代对象；</li>
<li>传递关键字参数。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(dict)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict()
</span></span></code></pre></div><pre><code>{}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict({<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>})
</span></span></code></pre></div><pre><code>{'a': 1}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> zip(<span style="color:#e6db74">&#39;abc&#39;</span>,[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span><span style="display:flex;"><span>dict(d)
</span></span></code></pre></div><pre><code>{'a': 1, 'b': 2, 'c': 3}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict([(<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>), (<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#ae81ff">2</span>)])
</span></span></code></pre></div><pre><code>{'a': 1, 'b': 2}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict(a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>{'a': 1, 'b': 2}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>dir() 返回对象属性列表</h1>

<p>内置函数 dir()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(dir)
</span></span></code></pre></div><pre><code>Help on built-in function dir in module builtins:

dir(...)
    dir([object]) -&gt; list of strings
    
    If called without an argument, return the names in the current scope.
    Else, return an alphabetized list of names comprising (some of) the attributes
    of the given object, and of attributes reachable from it.
    If the object supplies a method named __dir__, it will be used; otherwise
    the default dir() logic is used and returns:
      for a module object: the module's attributes.
      for a class object:  its attributes, and recursively the attributes
        of its bases.
      for any other object: its attributes, its class's attributes, and
        recursively the attributes of its class's base classes.
</code></pre>
<p>如果没有实参，则返回当前作用域中的名称列表。如果有实参，它会尝试返回该对象的有效属性列表。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dir()
</span></span></code></pre></div><pre><code>['In',
 'Out',
 '_',
 '__',
 '___',
 '__builtin__',
 '__builtins__',
 '__doc__',
 '__loader__',
 '__name__',
 '__package__',
 '__spec__',
 '_dh',
 '_i',
 '_i1',
 '_i2',
 '_ih',
 '_ii',
 '_iii',
 '_oh',
 'exit',
 'get_ipython',
 'quit']
</code></pre>
<p>如果对象有一个名为 <code>__dir__()</code> 的方法，那么该方法将被调用，并且必须返回一个属性列表。这允许实现自定义 dir() 来报告它的属性。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __dir__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> [<span style="color:#e6db74">&#39;area&#39;</span>, <span style="color:#e6db74">&#39;perimeter&#39;</span>, <span style="color:#e6db74">&#39;location&#39;</span>]
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> A()
</span></span><span style="display:flex;"><span>dir(a)
</span></span></code></pre></div><pre><code>['area', 'location', 'perimeter']
</code></pre>
<p>如果对象不提供 <code>__dir__()</code>，默认的 dir() 机制对不同类型的对象行为不同，它会试图返回最相关而不是最全的信息：</p>
<ul>
<li>如果对象是模块对象，则列表包含模块的属性名称;</li>
<li>如果对象是类对象，则列表包含它们的属性名称，并且递归查找所有基类的属性;</li>
<li>如果对象是实例对象，则列表包含实例的属性名称，它的类的属性名称，并且递归查找它的类的所有基类的属性。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> string
</span></span><span style="display:flex;"><span>dir(string)
</span></span></code></pre></div><pre><code>['Formatter',
 'Template',
 '_ChainMap',
 '_TemplateMetaclass',
 '__all__',
 '__builtins__',
 '__cached__',
 '__doc__',
 '__file__',
 '__loader__',
 '__name__',
 '__package__',
 '__spec__',
 '_re',
 '_string',
 'ascii_letters',
 'ascii_lowercase',
 'ascii_uppercase',
 'capwords',
 'digits',
 'hexdigits',
 'octdigits',
 'printable',
 'punctuation',
 'whitespace']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dir(int)
</span></span></code></pre></div><pre><code>['__abs__',
 '__add__',
 '__and__',
 '__bool__',
 '__ceil__',
 '__class__',
 '__delattr__',
 '__dir__',
 '__divmod__',
 '__doc__',
 '__eq__',
 '__float__',
 '__floor__',
 '__floordiv__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__getnewargs__',
 '__gt__',
 '__hash__',
 '__index__',
 '__init__',
 '__init_subclass__',
 '__int__',
 '__invert__',
 '__le__',
 '__lshift__',
 '__lt__',
 '__mod__',
 '__mul__',
 '__ne__',
 '__neg__',
 '__new__',
 '__or__',
 '__pos__',
 '__pow__',
 '__radd__',
 '__rand__',
 '__rdivmod__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__rfloordiv__',
 '__rlshift__',
 '__rmod__',
 '__rmul__',
 '__ror__',
 '__round__',
 '__rpow__',
 '__rrshift__',
 '__rshift__',
 '__rsub__',
 '__rtruediv__',
 '__rxor__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__sub__',
 '__subclasshook__',
 '__truediv__',
 '__trunc__',
 '__xor__',
 'bit_length',
 'conjugate',
 'denominator',
 'from_bytes',
 'imag',
 'numerator',
 'real',
 'to_bytes']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dir(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>['__abs__',
 '__add__',
 '__and__',
 '__bool__',
 '__ceil__',
 '__class__',
 '__delattr__',
 '__dir__',
 '__divmod__',
 '__doc__',
 '__eq__',
 '__float__',
 '__floor__',
 '__floordiv__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__getnewargs__',
 '__gt__',
 '__hash__',
 '__index__',
 '__init__',
 '__init_subclass__',
 '__int__',
 '__invert__',
 '__le__',
 '__lshift__',
 '__lt__',
 '__mod__',
 '__mul__',
 '__ne__',
 '__neg__',
 '__new__',
 '__or__',
 '__pos__',
 '__pow__',
 '__radd__',
 '__rand__',
 '__rdivmod__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__rfloordiv__',
 '__rlshift__',
 '__rmod__',
 '__rmul__',
 '__ror__',
 '__round__',
 '__rpow__',
 '__rrshift__',
 '__rshift__',
 '__rsub__',
 '__rtruediv__',
 '__rxor__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__sub__',
 '__subclasshook__',
 '__truediv__',
 '__trunc__',
 '__xor__',
 'bit_length',
 'conjugate',
 'denominator',
 'from_bytes',
 'imag',
 'numerator',
 'real',
 'to_bytes']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>divmod() 求两个数的商和余</h1>

<p>内置函数 divmod()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(divmod)
</span></span></code></pre></div><pre><code>Help on built-in function divmod in module builtins:

divmod(x, y, /)
    Return the tuple (x//y, x%y).  Invariant: div*y + mod == x.
</code></pre>
<p>它将两个（非复数）数字作为实参，返回两个数字的（商,余数）元组。对于混合操作数类型，适用二元算术运算符的规则。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>divmod(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>(0, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>divmod(<span style="color:#ae81ff">3.14</span>, <span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>(1.0, 1.1400000000000001)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>enumerate 枚举</h1>

<p>内置函数（类）enumerate，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(enumerate)
</span></span></code></pre></div><pre><code>Help on class enumerate in module builtins:

class enumerate(object)
 |  enumerate(iterable, start=0)
 |  
 |  Return an enumerate object.
 |  
 |    iterable
 |      an object supporting iteration
 |  
 |  The enumerate object yields pairs containing a count (from start, which
 |  defaults to zero) and a value yielded by the iterable argument.
 |  
 |  enumerate is useful for obtaining an indexed list:
 |      (0, seq[0]), (1, seq[1]), (2, seq[2]), ...
 |  
</code></pre>
<p>返回一个可迭代对象（iterable）的枚举对象。枚举对象是一个迭代器，迭代出来是一个个元组，里面包含一个计数值（从 start 开始，默认为 0）和通过迭代 iterable 获得的值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(enumerate)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>e <span style="color:#f92672">=</span> enumerate({<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>,<span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>})
</span></span><span style="display:flex;"><span>e
</span></span></code></pre></div><pre><code>&lt;enumerate at 0x200ccb71240&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>next(e)
</span></span></code></pre></div><pre><code>(0, 'a')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> e:
</span></span><span style="display:flex;"><span>    print(i)
</span></span></code></pre></div><pre><code>(1, 'b')
(2, 'c')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>e <span style="color:#f92672">=</span> enumerate(<span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>list(e)
</span></span></code></pre></div><pre><code>[(1, 'a'), (2, 'b'), (3, 'c')]
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>eval() 解析字符串或代码并求值</h1>

<p>内置函数 eval()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(eval)
</span></span></code></pre></div><pre><code>Help on built-in function eval in module builtins:

eval(source, globals=None, locals=None, /)
    Evaluate the given source in the context of globals and locals.
    
    The source may be a string representing a Python expression
    or a code object as returned by compile().
    The globals must be a dictionary and locals can be any mapping,
    defaulting to the current globals and locals.
    If only globals is given, locals defaults to it.
</code></pre>
<p>source 参数接受字符串（会作为一个 Python 表达式）或代码对象（可通过 compile() 创建），然后解析并求值，返回求值结果。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>eval(<span style="color:#e6db74">&#39;{1 + 1}&#39;</span>)
</span></span></code></pre></div><pre><code>{2}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;for i in range(3):print(i)&#39;</span>
</span></span><span style="display:flex;"><span>code <span style="color:#f92672">=</span> compile(s,<span style="color:#e6db74">&#39;&#39;</span>,<span style="color:#e6db74">&#39;exec&#39;</span>)
</span></span><span style="display:flex;"><span>eval(code)
</span></span></code></pre></div><pre><code>0
1
2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>eval(<span style="color:#e6db74">&#34;__import__(&#39;math&#39;).sqrt(3**2+4**2)&#34;</span>)
</span></span></code></pre></div><pre><code>5.0
</code></pre>
<p>参数 globals 和 locals 作为 source 的全局和局部命名空间。如果省略 locals 字典则其默认值为 globals 字典。如果两个字典同时省略，则表达式执行时会使用 eval() 被调用的环境中的全局和局部名称。</p>
<p>如果 globals 字典存在且不包含以 <code>__builtins__</code> 为键的值，则会在解析 source 之前插入以此为键的对内置模块 builtins 的引用。这意味着 source 通常具有对标准 builtins 模块的完全访问权限且受限的环境会被传播。</p>
<p>globals 实参必须是一个字典。locals 可以是任何映射对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>    code <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;__import__(&#39;math&#39;).sqrt(x**2+y**2)&#34;</span>
</span></span><span style="display:flex;"><span>    z <span style="color:#f92672">=</span> eval(code,{<span style="color:#e6db74">&#39;x&#39;</span>:<span style="color:#ae81ff">5</span>},{<span style="color:#e6db74">&#39;y&#39;</span>:<span style="color:#ae81ff">12</span>})
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;x=</span><span style="color:#e6db74">{</span>x<span style="color:#e6db74">}</span><span style="color:#e6db74">, y=</span><span style="color:#e6db74">{</span>y<span style="color:#e6db74">}</span><span style="color:#e6db74">, z=</span><span style="color:#e6db74">{</span>z<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>x=3, y=4, z=13.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>    code <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;__import__(&#39;math&#39;).sqrt(x**2+y**2)&#34;</span>
</span></span><span style="display:flex;"><span>    z <span style="color:#f92672">=</span> eval(code,{<span style="color:#e6db74">&#39;x&#39;</span>:<span style="color:#ae81ff">5</span>,<span style="color:#e6db74">&#39;y&#39;</span>:<span style="color:#ae81ff">12</span>})
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;x=</span><span style="color:#e6db74">{</span>x<span style="color:#e6db74">}</span><span style="color:#e6db74">, y=</span><span style="color:#e6db74">{</span>y<span style="color:#e6db74">}</span><span style="color:#e6db74">, z=</span><span style="color:#e6db74">{</span>z<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>x=3, y=4, z=13.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span>
</span></span><span style="display:flex;"><span>    code <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;__import__(&#39;math&#39;).sqrt(x**2+y**2)&#34;</span>
</span></span><span style="display:flex;"><span>    z <span style="color:#f92672">=</span> eval(code)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;x=</span><span style="color:#e6db74">{</span>x<span style="color:#e6db74">}</span><span style="color:#e6db74">, y=</span><span style="color:#e6db74">{</span>y<span style="color:#e6db74">}</span><span style="color:#e6db74">, z=</span><span style="color:#e6db74">{</span>z<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>x=3, y=4, z=5.0
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>exec() 解析字符串或代码并求值</h1>

<p>内置函数 exec()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(exec)
</span></span></code></pre></div><pre><code>Help on built-in function exec in module builtins:

exec(source, globals=None, locals=None, /)
    Execute the given source in the context of globals and locals.
    
    The source may be a string representing one or more Python statements
    or a code object as returned by compile().
    The globals must be a dictionary and locals can be any mapping,
    defaulting to the current globals and locals.
    If only globals is given, locals defaults to it.
</code></pre>
<p>这个函数支持动态执行 Python 代码。source 必须是字符串或者代码对象。</p>
<p>如果是字符串，那么该字符串将被解析为一系列 Python 语句并执行（除非发生语法错误）。</p>
<p>如果是代码对象，它将被直接执行。</p>
<p>该函数返回值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(exec(<span style="color:#e6db74">&#39;{1 + 1}&#39;</span>))
</span></span></code></pre></div><pre><code>None
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;for i in range(3):print(i)&#39;</span>
</span></span><span style="display:flex;"><span>code <span style="color:#f92672">=</span> compile(s,<span style="color:#e6db74">&#39;&#39;</span>,<span style="color:#e6db74">&#39;exec&#39;</span>)
</span></span><span style="display:flex;"><span>exec(code)
</span></span></code></pre></div><pre><code>0
1
2
</code></pre>
<p>参数 globals 和 locals 作为 source 的全局和局部命名空间。如果省略 locals 字典则其默认值为 globals 字典。如果两个字典同时省略，则表达式执行时会使用 eval() 被调用的环境中的全局和局部名称。</p>
<p>如果 globals 字典存在且不包含以 <code>__builtins__</code> 为键的值，则将为该键插入对内建 builtins 模块字典的引用。因此，在将执行的代码传递给 exec() 之前，可以通过将自己的 <code>__builtins__</code> 字典插入到 globals 中来控制可以使用哪些内置代码。</p>
<p>globals 实参必须是一个字典。locals 可以是任何映射对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    code <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;for i in range(x):print(i)&#34;</span>
</span></span><span style="display:flex;"><span>    exec(code,{<span style="color:#e6db74">&#39;x&#39;</span>:<span style="color:#ae81ff">3</span>},{<span style="color:#e6db74">&#39;x&#39;</span>:<span style="color:#ae81ff">4</span>})
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>0
1
2
3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    code <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;for i in range(x):print(i)&#34;</span>
</span></span><span style="display:flex;"><span>    exec(code,{<span style="color:#e6db74">&#39;x&#39;</span>:<span style="color:#ae81ff">3</span>})
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>0
1
2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    code <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;for i in range(x):print(i)&#34;</span>
</span></span><span style="display:flex;"><span>    exec(code)
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>0
1
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>filter 真值元素筛选</h1>

<p>内置函数（类）filter，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(filter)
</span></span></code></pre></div><pre><code>Help on class filter in module builtins:

class filter(object)
 |  filter(function or None, iterable) --&gt; filter object
 |  
 |  Return an iterator yielding those items of iterable for which function(item)
 |  is true. If function is None, return the items that are true.
 |  
</code></pre>
<p>返回可迭代对象（iterable）中那些传递给函数 function 计算之后，布尔值仍然为真的元素组成的迭代器。</p>
<p>如果 function 是 None，则会假设它是一个身份函数，即 iterable
中所有布尔值为假的元素会被移除。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(filter)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> filter(<span style="color:#66d9ef">None</span>,[<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>list(f)
</span></span></code></pre></div><pre><code>[1, 2, 1]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> filter(<span style="color:#66d9ef">lambda</span> x: x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, [<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>list(f)
</span></span></code></pre></div><pre><code>[0, 2]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(filter(<span style="color:#66d9ef">None</span>,<span style="color:#e6db74">&#39;0120&#39;</span>))
</span></span></code></pre></div><pre><code>['0', '1', '2', '0']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(filter(int,<span style="color:#e6db74">&#39;0120&#39;</span>))
</span></span></code></pre></div><pre><code>['1', '2']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>float 创建浮点数</h1>

<p>内置函数（类）float，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(float)
</span></span></code></pre></div><pre><code>Help on class float in module builtins:

class float(object)
 |  float(x=0, /)
 |  
 |  Convert a string or number to a floating point number, if possible.
 |  
</code></pre>
<p>返回从数字或字符串 x 生成的浮点数。</p>
<p>如果实参是字符串:</p>
<ul>
<li>它必须是包含十进制数字的字符串;</li>
<li>通常是 Python 整数或浮点数的字符串形式；</li>
<li>也可以是 &lsquo;NaN&rsquo;（非数字）、表示正负无穷大的字符串（&ldquo;Infinity&rdquo; 或 &ldquo;inf&rdquo;）。字母大小写随意；</li>
<li>字符串前后可以有空白字符。</li>
</ul>
<p>如果实参是整数或浮点数，则返回具有相同值（在 Python 浮点精度范围内）的浮点数。如果实参在 Python 浮点精度范围外，则会触发OverflowError。</p>
<p>如果没有实参，则返回 0.0 。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(float)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>float()
</span></span></code></pre></div><pre><code>0.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>float(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>1.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>float(<span style="color:#f92672">-</span>  <span style="color:#ae81ff">1.0</span>)
</span></span></code></pre></div><pre><code>-1.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>float(<span style="color:#e6db74">&#39; -1.0 </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><pre><code>-1.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>float(<span style="color:#e6db74">&#39; 01_2.1_4 &#39;</span>)
</span></span></code></pre></div><pre><code>12.14
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>float(<span style="color:#e6db74">&#39;0001&#39;</span>)
</span></span></code></pre></div><pre><code>1.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>float(<span style="color:#e6db74">&#39;3.14e02&#39;</span>)
</span></span></code></pre></div><pre><code>314.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>float(<span style="color:#e6db74">&#39;-naN&#39;</span>)
</span></span></code></pre></div><pre><code>nan
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>float(<span style="color:#e6db74">&#39;-inf&#39;</span>)
</span></span></code></pre></div><pre><code>-inf
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>format() 格式化</h1>

<p>内置函数 format()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(format)
</span></span></code></pre></div><pre><code>Help on built-in function format in module builtins:

format(value, format_spec='', /)
    Return value.__format__(format_spec)
    
    format_spec defaults to the empty string.
    See the Format Specification Mini-Language section of help('FORMATTING') for
    details.
</code></pre>
<p>将 value 转换为 format_spec 控制的 “格式化” 表示。format_spec 的解释取决于 value 实参的类型，但是大多数内置类型使用标准格式化语法：格式化迷你语言。详见 str.format 格式化。</p>
<p>默认的 format_spec 是一个空字符串，它通常和调用 str(value) 的结果相同。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>format(<span style="color:#e6db74">&#39;嗨&#39;</span>,<span style="color:#e6db74">&#39;&gt;10&#39;</span>)
</span></span></code></pre></div><pre><code>'         嗨'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>format(<span style="color:#e6db74">&#39;嗨&#39;</span>,<span style="color:#e6db74">&#39;~^10&#39;</span>)
</span></span></code></pre></div><pre><code>'~~~~嗨~~~~~'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>format(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;05&#39;</span>)
</span></span></code></pre></div><pre><code>'00001'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>format(<span style="color:#ae81ff">3.14</span>,<span style="color:#e6db74">&#39;.3f&#39;</span>)
</span></span></code></pre></div><pre><code>'3.140'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>format(<span style="color:#ae81ff">123456789</span>,<span style="color:#e6db74">&#39;_&#39;</span>)
</span></span></code></pre></div><pre><code>'123_456_789'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>format(<span style="color:#ae81ff">123456789</span>,<span style="color:#e6db74">&#39;.2e&#39;</span>)
</span></span></code></pre></div><pre><code>'1.23e+08'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>format(<span style="color:#ae81ff">123456789</span>)
</span></span></code></pre></div><pre><code>'123456789'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>frozenset 创建不可变集合</h1>

<p>内置函数（类）frozenset，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(frozenset)
</span></span></code></pre></div><pre><code>Help on class frozenset in module builtins:

class frozenset(object)
 |  frozenset() -&gt; empty frozenset object
 |  frozenset(iterable) -&gt; frozenset object
 |  
 |  Build an immutable unordered collection of unique elements.
 |  
</code></pre>
<p>将可迭代对象转换为集合，返回一个新的 frozenset 集合对象。可迭代对象为空，或不传参数，得到一个空集合。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(frozenset)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>frozenset()
</span></span></code></pre></div><pre><code>frozenset()
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>frozenset([])
</span></span></code></pre></div><pre><code>frozenset()
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>frozenset(<span style="color:#e6db74">&#39;0123&#39;</span>)
</span></span></code></pre></div><pre><code>frozenset({'0', '1', '2', '3'})
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>frozenset({<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>})
</span></span></code></pre></div><pre><code>frozenset({'a', 'b'})
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>getattr() 获取对象的属性</h1>

<p>内置函数 getattr()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(getattr)
</span></span></code></pre></div><pre><code>Help on built-in function getattr in module builtins:

getattr(...)
    getattr(object, name[, default]) -&gt; value
    
    Get a named attribute from an object; getattr(x, 'y') is equivalent to x.y.
    When a default argument is given, it is returned when the attribute doesn't
    exist; without it, an exception is raised in that case.
</code></pre>
<p>返回对象给定的属性名指向的值。name 必须是字符串。如果该字符串是对象的属性名称之一，则返回该属性的值。例如，<code>getattr(x, 'y')</code> 等同于 <code>x.y</code>。如果指定的属性不存在，且提供了 default 值，则返回它，否则触发 AttributeError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>getattr(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;imag&#39;</span>)
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>getattr(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;bool&#39;</span>,<span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>getattr(<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;bool&#39;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-6-524bb2b35e58&gt; in &lt;module&gt;
----&gt; 1 getattr(1,'bool')


AttributeError: 'int' object has no attribute 'bool'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> A()
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>y
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>getattr(x,<span style="color:#e6db74">&#39;y&#39;</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>globals() 返回全局变量字典</h1>

<p>内置函数 globals()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(globals)
</span></span></code></pre></div><pre><code>Help on built-in function globals in module builtins:

globals()
    Return the dictionary containing the current scope's global variables.
    
    NOTE: Updates to this dictionary *will* affect name lookups in the current
    global scope and vice-versa.
</code></pre>
<p>返回包含当前作用域的全局变量字典。这总是当前模块的字典（在函数或方法中，不是调用它的模块，而是定义它的模块）。</p>
<p>更新此字典 <em>将</em> 影响当前全局范围内的名称查找，反之亦然。</p>
<p>globals() 和 locals() 函数各自返回当前的全局和本地字典，因此可以将它们传递给 eval() 或 exec() 来使用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>globals()
</span></span></code></pre></div><pre><code>{'__name__': '__main__',
 '__doc__': 'Automatically created module for IPython interactive environment',
 '__package__': None,
 '__loader__': None,
 '__spec__': None,
 '__builtin__': &lt;module 'builtins' (built-in)&gt;,
 '__builtins__': &lt;module 'builtins' (built-in)&gt;,
 '_ih': ['', 'help(globals)', 'globals()'],
 '_oh': {},
 '_dh': ['D:\\Jupyter\\xuecn_books\\books\\xue_python_kp\\11_built-in_function'],
 'In': ['', 'help(globals)', 'globals()'],
 'Out': {},
 'get_ipython': &lt;bound method InteractiveShell.get_ipython of &lt;ipykernel.zmqshell.ZMQInteractiveShell object at 0x000001E15E70D748&gt;&gt;,
 'exit': &lt;IPython.core.autocall.ZMQExitAutocall at 0x1e160f63978&gt;,
 'quit': &lt;IPython.core.autocall.ZMQExitAutocall at 0x1e160f63978&gt;,
 '_': '',
 '__': '',
 '___': '',
 '_i': 'help(globals)',
 '_ii': '',
 '_iii': '',
 '_i1': 'help(globals)',
 '_i2': 'globals()'}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>hasattr() 是对象的属性吗？</h1>

<p>内置函数 hasattr()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(hasattr)
</span></span></code></pre></div><pre><code>Help on built-in function hasattr in module builtins:

hasattr(obj, name, /)
    Return whether the object has an attribute with the given name.
    
    This is done by calling getattr(obj, name) and catching AttributeError.
</code></pre>
<p>该函数实参是一个对象和一个字符串。如果字符串是对象的属性之一的名称，则返回 True，否则返回 False。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>hasattr(<span style="color:#e6db74">&#39;abc&#39;</span>, <span style="color:#e6db74">&#39;join&#39;</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>hasattr(A, <span style="color:#e6db74">&#39;y&#39;</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>hash() 返回对象的哈希值</h1>

<p>内置函数 hash()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(hash)
</span></span></code></pre></div><pre><code>Help on built-in function hash in module builtins:

hash(obj, /)
    Return the hash value for the given object.
    
    Two objects that compare equal must also have the same hash value, but the
    reverse is not necessarily true.
</code></pre>
<p>返回对象的哈希值（如果它有的话）。哈希值是整数。它们在集合或字典查找元素时用来快速比较集合的元素或字典的键。相同大小的数字有相同的哈希值。</p>
<p>可哈希对象必须具有相同的哈希值比较结果才会相同。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>hash(<span style="color:#ae81ff">1</span>) <span style="color:#f92672">==</span> hash(<span style="color:#ae81ff">1.0</span>) <span style="color:#f92672">==</span> hash(<span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1.0</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">True</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>hash(<span style="color:#e6db74">&#39;abc&#39;</span>)
</span></span></code></pre></div><pre><code>2812132477407752679
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>hash((<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>))
</span></span></code></pre></div><pre><code>529344067295497451
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>hash([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-5-35e31e935e9e&gt; in &lt;module&gt;
----&gt; 1 hash([1,2,3])


TypeError: unhashable type: 'list'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>hash((<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>))
</span></span></code></pre></div>
            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>help 启动帮助系统</h1>

<p>内置函数（帮助系统）help，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(help)
</span></span></code></pre></div><pre><code>Help on _Helper in module _sitebuiltins object:

class _Helper(builtins.object)
 |  Define the builtin 'help'.
 |  
 |  This is a wrapper around pydoc.help that provides a helpful message
 |  when 'help' is typed at the Python interactive prompt.
 |  
 |  Calling help() at the Python prompt starts an interactive help session.
 |  Calling help(thing) prints help for the python object 'thing'.
 |  
 |  Methods defined here:
 |  
 |  __call__(self, *args, **kwds)
 |      Call self as a function.
 |  
 |  __repr__(self)
 |      Return repr(self).
 |  
 |  ----------------------------------------------------------------------
 |  Data descriptors defined here:
 |  
 |  __dict__
 |      dictionary for instance variables (if defined)
 |  
 |  __weakref__
 |      list of weak references to the object (if defined)
</code></pre>
<p>启动内置的帮助系统（此函数主要在交互式中使用）。</p>
<p>如果没有实参，解释器控制台里会启动交互式帮助系统。</p>
<p>如果实参是一个字符串，则在模块、函数、类、方法、关键字或文档主题中搜索该字符串，并在控制台上打印帮助信息。</p>
<p>如果实参是其他任意对象，则会生成该对象的帮助页。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(help)
</span></span></code></pre></div><pre><code>_sitebuiltins._Helper
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help()
</span></span></code></pre></div><pre><code>Welcome to Python 3.8's help utility!

If this is your first time using Python, you should definitely check out
the tutorial on the Internet at https://docs.python.org/3.8/tutorial/.

Enter the name of any module, keyword, or topic to get help on writing
Python programs and using Python modules.  To quit this help utility and
return to the interpreter, just type &quot;quit&quot;.

To get a list of available modules, keywords, symbols, or topics, type
&quot;modules&quot;, &quot;keywords&quot;, &quot;symbols&quot;, or &quot;topics&quot;.  Each module also comes
with a one-line summary of what it does; to list the modules whose name
or summary contain a given string such as &quot;spam&quot;, type &quot;modules spam&quot;.



help&gt;  print


Help on built-in function print in module builtins:

print(...)
    print(value, ..., sep=' ', end='\n', file=sys.stdout, flush=False)
    
    Prints the values to a stream, or to sys.stdout by default.
    Optional keyword arguments:
    file:  a file-like object (stream); defaults to the current sys.stdout.
    sep:   string inserted between values, default a space.
    end:   string appended after the last value, default a newline.
    flush: whether to forcibly flush the stream.



help&gt;  q



You are now leaving help and returning to the Python interpreter.
If you want to ask for help on a particular object directly from the
interpreter, you can type &quot;help(object)&quot;.  Executing &quot;help('string')&quot;
has the same effect as typing a particular string at the help&gt; prompt.
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(<span style="color:#e6db74">&#39;list.append&#39;</span>)
</span></span></code></pre></div><pre><code>Help on method_descriptor in list:

list.append = append(self, object, /)
    Append object to the end of the list.
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list<span style="color:#f92672">.</span>append)
</span></span></code></pre></div><pre><code>Help on method_descriptor:

append(self, object, /)
    Append object to the end of the list.
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>hex() 整数的十六进制形式</h1>

<p>内置函数 hex()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(hex)
</span></span></code></pre></div><pre><code>Help on built-in function hex in module builtins:

hex(number, /)
    Return the hexadecimal representation of an integer.
    
    &gt;&gt;&gt; hex(12648430)
    '0xc0ffee'
</code></pre>
<p>将整数转换为以 <code>0x</code> 为前缀的小写十六进制整数的字符串形式。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>hex(<span style="color:#ae81ff">123</span>)
</span></span></code></pre></div><pre><code>'0x7b'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">0x7b</span>
</span></span></code></pre></div><pre><code>123
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>id() 返回对象的唯一标识</h1>

<p>内置函数 id()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(id)
</span></span></code></pre></div><pre><code>Help on built-in function id in module builtins:

id(obj, /)
    Return the identity of an object.
    
    This is guaranteed to be unique among simultaneously existing objects.
    (CPython uses the object's memory address.)
</code></pre>
<p>返回对象的唯一标识。该标识是一个整数，在此对象的生命周期中保证是唯一且恒定的。</p>
<p>CPython 中该标识是对象的内存地址。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>id(<span style="color:#ae81ff">1</span>), id(<span style="color:#ae81ff">1.0</span>)
</span></span></code></pre></div><pre><code>(140736642126656, 2785998726512)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1.0</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 两个变量引用了同一个值为 1 的对象</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> int(<span style="color:#e6db74">&#39;01&#39;</span>)
</span></span><span style="display:flex;"><span>id(a), id(b)
</span></span></code></pre></div><pre><code>(140736642126656, 140736642126656)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 两个值为 1000 的不同对象</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000</span>
</span></span><span style="display:flex;"><span>id(a), id(b)
</span></span></code></pre></div><pre><code>(2785998745552, 2785998745360)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可变对象改变值，还是同一个对象</span>
</span></span><span style="display:flex;"><span>_list <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>print(id(_list),_list)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> _list[:]
</span></span><span style="display:flex;"><span>print(id(_list),_list)
</span></span></code></pre></div><pre><code>2785999307336 [1, 2, 3]
2785999307336 []
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>input() 接受输入返回字符串</h1>

<p>内置函数 input()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(input)
</span></span></code></pre></div><pre><code>Help on method raw_input in module ipykernel.kernelbase:

raw_input(prompt='') method of ipykernel.ipkernel.IPythonKernel instance
    Forward raw_input to frontends
    
    Raises
    ------
    StdinNotImplentedError if active frontend doesn't support stdin.
</code></pre>
<p>如果存在 prompt 实参，则作为提示信息输出。接下来，该函数将输入转换为字符串并返回。无输入则返回空字符串。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>input(<span style="color:#e6db74">&#39;输入提示：&#39;</span>)
</span></span></code></pre></div><pre><code>输入提示： 1+1


'1+1'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>input(<span style="color:#e6db74">&#39;输入提示：&#39;</span>)
</span></span></code></pre></div><pre><code>输入提示： 


''
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>int 创建整数</h1>

<p>内置函数（类）int，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(int)
</span></span></code></pre></div><pre><code>Help on class int in module builtins:

class int(object)
 |  int([x]) -&gt; integer
 |  int(x, base=10) -&gt; integer
 |  
 |  Convert a number or string to an integer, or return 0 if no arguments
 |  are given.  If x is a number, return x.__int__().  For floating point
 |  numbers, this truncates towards zero.
 |  
 |  If x is not a number or if base is given, then x must be a string,
 |  bytes, or bytearray instance representing an integer literal in the
 |  given base.  The literal can be preceded by '+' or '-' and be surrounded
 |  by whitespace.  The base defaults to 10.  Valid bases are 0 and 2-36.
 |  Base 0 means to interpret the base from the string as an integer literal.
 |  &gt;&gt;&gt; int('0b100', base=0)
 |  4
 |  
 |  Built-in subclasses:
 |      bool
 |  
</code></pre>
<p>将一个数字，字符串或字节串转换为整数。参数说明：</p>
<ul>
<li>不给参数返回整数 0。</li>
<li>参数 x 为数字时，不能有参数 base，且数字不能是复数。浮点数将取整。</li>
<li>参数 x 为字符串或字节串，参数 base 可选，默认按十进制转换，否则按照 base 指定进制转换。</li>
<li>base 取值范围为 0 和 2~36。</li>
<li>base 取 0 将按照参数 x 的字面量来精确解释。取其他数字则需符合相应进制规则。</li>
<li>字符串或字节串不能是浮点数形式；前面可以有正负号；前后可以有空格，中间则不能有空格。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(int)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int()
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int(<span style="color:#ae81ff">3.18e01</span>), int(<span style="color:#ae81ff">10</span>), int(<span style="color:#ae81ff">0x10</span>)
</span></span></code></pre></div><pre><code>(31, 10, 16)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int(<span style="color:#e6db74">&#39; -10 &#39;</span>), int(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39; +10&#39;</span>)
</span></span></code></pre></div><pre><code>(-10, 10)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int(<span style="color:#e6db74">&#39;10&#39;</span>,<span style="color:#ae81ff">2</span>), int(<span style="color:#e6db74">&#39;10&#39;</span>,<span style="color:#ae81ff">8</span>), int(<span style="color:#e6db74">&#39;z&#39;</span>,<span style="color:#ae81ff">36</span>)
</span></span></code></pre></div><pre><code>(2, 8, 35)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int(<span style="color:#e6db74">&#39;001&#39;</span>), int(<span style="color:#e6db74">&#39;0b10&#39;</span>,<span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>(1, 2)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int(<span style="color:#e6db74">&#39;001&#39;</span>,<span style="color:#ae81ff">0</span>) <span style="color:#75715e"># 001 不是合法的整数</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-12-1cf9048a8c3e&gt; in &lt;module&gt;
----&gt; 1 int('001',0)


ValueError: invalid literal for int() with base 0: '001'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int(<span style="color:#e6db74">&#39;9&#39;</span>, <span style="color:#ae81ff">8</span>) <span style="color:#75715e"># 8 进制没有 9</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-13-3558097bd025&gt; in &lt;module&gt;
----&gt; 1 int('9', 8)


ValueError: invalid literal for int() with base 8: '9'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int(<span style="color:#e6db74">&#39;3.14&#39;</span>) <span style="color:#75715e"># 不能是浮点数形式</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-14-1456603af047&gt; in &lt;module&gt;
----&gt; 1 int('3.14')


ValueError: invalid literal for int() with base 10: '3.14'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>isinstance() 是给定类的实例？</h1>

<p>内置函数 isinstance()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(isinstance)
</span></span></code></pre></div><pre><code>Help on built-in function isinstance in module builtins:

isinstance(obj, class_or_tuple, /)
    Return whether an object is an instance of a class or of a subclass thereof.
    
    A tuple, as in ``isinstance(x, (A, B, ...))``, may be given as the target to
    check against. This is equivalent to ``isinstance(x, A) or isinstance(x, B)
    or ...`` etc.
</code></pre>
<p>如果对象 obj 是给定类的实例或者是其 (直接、间接或虚拟) 子类的实例则返回 True，不是则返回 False。给定的不是类则引发 TypeError 异常。</p>
<p>给定类可以以元组形式传参，obj 是其中任何一个类型的实例就返回 True。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>isinstance(<span style="color:#ae81ff">1</span>, int)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>isinstance(<span style="color:#e6db74">&#39;abc&#39;</span>, (float, complex))
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># bool 是 int 的子类型，但不是实例</span>
</span></span><span style="display:flex;"><span>isinstance(bool, int)
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># True 是 int 的子类的实例</span>
</span></span><span style="display:flex;"><span>isinstance(<span style="color:#66d9ef">True</span>, int)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># bool 的实例只有 True 和 False</span>
</span></span><span style="display:flex;"><span>isinstance(<span style="color:#ae81ff">1</span>, bool)
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 所有的对象都是 object 的实例</span>
</span></span><span style="display:flex;"><span>isinstance(object, object)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> random <span style="color:#75715e"># 模块</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:<span style="color:#66d9ef">pass</span> <span style="color:#75715e"># 自定义类</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>isinstance(<span style="color:#ae81ff">1</span>, object),\
</span></span><span style="display:flex;"><span>isinstance(int, object),\
</span></span><span style="display:flex;"><span>isinstance(list, object),\
</span></span><span style="display:flex;"><span>isinstance(random, object),\
</span></span><span style="display:flex;"><span>isinstance(A, object)
</span></span></code></pre></div><pre><code>(True, True, True, True, True)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>issubclass() 是给定类的子类吗？</h1>

<p>内置函数 issubclass()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(issubclass)
</span></span></code></pre></div><pre><code>Help on built-in function issubclass in module builtins:

issubclass(cls, class_or_tuple, /)
    Return whether 'cls' is a derived from another class or is the same class.
    
    A tuple, as in ``issubclass(x, (A, B, ...))``, may be given as the target to
    check against. This is equivalent to ``issubclass(x, A) or issubclass(x, B)
    or ...`` etc.
</code></pre>
<p>如果类 cls 是给定类的 (直接、间接或虚拟) 子类则返回 True，不是则返回 False。给定的不是类则引发 TypeError 异常。</p>
<p>给定类可以以元组形式传参，cls 是其中任何一个类的子类就返回 True。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>issubclass(<span style="color:#ae81ff">1</span>, int) <span style="color:#75715e"># 1 不是类</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-2-257e7a8dbb04&gt; in &lt;module&gt;
----&gt; 1 issubclass(1, int)


TypeError: issubclass() arg 1 must be a class
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>issubclass(bool, int)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>issubclass(bool, (set, str, list))
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 所有的类都是 object 的子类</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:<span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>issubclass(A, object),\
</span></span><span style="display:flex;"><span>issubclass(str, object),\
</span></span><span style="display:flex;"><span>issubclass(object, object)
</span></span></code></pre></div><pre><code>(True, True, True)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>iter() 转迭代器</h1>

<p>内置函数 iter()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(iter)
</span></span></code></pre></div><pre><code>Help on built-in function iter in module builtins:

iter(...)
    iter(iterable) -&gt; iterator
    iter(callable, sentinel) -&gt; iterator
    
    Get an iterator from an object.  In the first form, the argument must
    supply its own iterator, or be a sequence.
    In the second form, the callable is called until it returns the sentinel.
</code></pre>
<p>将一个可迭代对象（iterable）或可调用对象（callable）转换为一个迭代器。</p>
<p>当参数是可调用对象时，需要提供参数 sentinel，生成的迭代器，每次
迭代时都会不带实参地调用 callable，返回 sentinel 时则触
发 StopIteration。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> iter(<span style="color:#e6db74">&#39;abcd&#39;</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>&lt;str_iterator at 0x1c7eea4f910&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>next(a),next(a),next(a),next(a)
</span></span></code></pre></div><pre><code>('a', 'b', 'c', 'd')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> iter(int, <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">3</span>):
</span></span><span style="display:flex;"><span>    print(next(a))
</span></span></code></pre></div><pre><code>0
0
0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> iter(int, <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>next(a)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

StopIteration                             Traceback (most recent call last)

&lt;ipython-input-21-694e44f6d78c&gt; in &lt;module&gt;
      1 a = iter(int, 0)
----&gt; 2 next(a)


StopIteration: 
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>len() 返回元素个数</h1>

<p>内置函数 len()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(len)
</span></span></code></pre></div><pre><code>Help on built-in function len in module builtins:

len(obj, /)
    Return the number of items in a container.
</code></pre>
<p>返回对象的长度（元素个数）。实参可以是序列（如 str、bytes、tuple、list 或 range 等的实例），集合（set 或 frozenset 的实例），或字典（dict 的实例）等。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>len(<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span></code></pre></div><pre><code>3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>len(<span style="color:#e6db74">&#39;嗨&#39;</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>len(<span style="color:#e6db74">&#39;嗨&#39;</span><span style="color:#f92672">.</span>encode())
</span></span></code></pre></div><pre><code>3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>len([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>len({<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>})
</span></span></code></pre></div><pre><code>2
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>list 创建列表</h1>

<p>内置函数（类）list，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(list)
</span></span></code></pre></div><pre><code>Help on class list in module builtins:

class list(object)
 |  list(iterable=(), /)
 |  
 |  Built-in mutable sequence.
 |  
 |  If no argument is given, the constructor creates a new empty list.
 |  The argument must be an iterable if specified.
 |  
</code></pre>
<p>将一个可迭代对象转为列表。不传参数将得到空列表。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(list)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list()
</span></span></code></pre></div><pre><code>[]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span></code></pre></div><pre><code>['1', '2', '3']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list({<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>})
</span></span></code></pre></div><pre><code>['a', 'b']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>locals() 返回局部变量的字典</h1>

<p>内置函数 locals()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(locals)
</span></span></code></pre></div><pre><code>Help on built-in function locals in module builtins:

locals()
    Return a dictionary containing the current scope's local variables.
    
    NOTE: Whether or not updates to this dictionary will affect name lookups in
    the local scope and vice-versa is *implementation dependent* and not
    covered by any backwards compatibility guarantees.
</code></pre>
<p>返回包含当前作用域的局部变量的字典。在模块层级上，locals() 和 globals() 是同一个字典。</p>
<p>globals() 和 locals() 函数各自返回当前的全局和本地字典，因此可以将它们传递给 eval() 或 exec() 来使用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>locals()
</span></span></code></pre></div><pre><code>{'__name__': '__main__',
 '__doc__': 'Automatically created module for IPython interactive environment',
 '__package__': None,
 '__loader__': None,
 '__spec__': None,
 '__builtin__': &lt;module 'builtins' (built-in)&gt;,
 '__builtins__': &lt;module 'builtins' (built-in)&gt;,
 '_ih': ['', 'help(locals)', 'locals()'],
 '_oh': {},
 '_dh': ['D:\\Jupyter\\xuecn_books\\books\\xue_python_kp\\11_built-in_function'],
 'In': ['', 'help(locals)', 'locals()'],
 'Out': {},
 'get_ipython': &lt;bound method InteractiveShell.get_ipython of &lt;ipykernel.zmqshell.ZMQInteractiveShell object at 0x0000023E24AE89B0&gt;&gt;,
 'exit': &lt;IPython.core.autocall.ZMQExitAutocall at 0x23e27368898&gt;,
 'quit': &lt;IPython.core.autocall.ZMQExitAutocall at 0x23e27368898&gt;,
 '_': '',
 '__': '',
 '___': '',
 '_i': 'help(locals)',
 '_ii': '',
 '_iii': '',
 '_i1': 'help(locals)',
 '_i2': 'locals()'}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    print(locals())
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>{'a': 1}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>map 以给定函数转换元素</h1>

<p>内置函数（类）map，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(map)
</span></span></code></pre></div><pre><code>Help on class map in module builtins:

class map(object)
 |  map(func, *iterables) --&gt; map object
 |  
 |  Make an iterator that computes the function using arguments from
 |  each of the iterables.  Stops when the shortest iterable is exhausted.
 |  
 |  Methods defined here:
 |  
 |  __getattribute__(self, name, /)
 |      Return getattr(self, name).
 |  
 |  __iter__(self, /)
 |      Implement iter(self).
 |  
 |  __next__(self, /)
 |      Implement next(self).
 |  
 |  __reduce__(...)
 |      Return state information for pickling.
 |  
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |  
 |  __new__(*args, **kwargs) from builtins.type
 |      Create and return a new object.  See help(type) for accurate signature.
</code></pre>
<p>返回一个将函数 func 应用于 iterable 中每一项并输出其结果的迭代器。</p>
<p>如果传入了额外的 iterable 参数，func 必须接受相同个数的实参并被应用于从所有可迭代对象中并行获取的项。</p>
<p>当有多个可迭代对象时，最短的可迭代对象耗尽则整个迭代就将结束。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(map)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> map(int, <span style="color:#e6db74">&#39;1234&#39;</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>&lt;map at 0x16048be3828&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(a)
</span></span></code></pre></div><pre><code>[1, 2, 3, 4]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>m <span style="color:#f92672">=</span> map(int,<span style="color:#e6db74">&#39;abc&#39;</span>,(<span style="color:#ae81ff">16</span>,<span style="color:#ae81ff">16</span>))
</span></span><span style="display:flex;"><span>list(m)
</span></span></code></pre></div><pre><code>[10, 11]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x,y):
</span></span><span style="display:flex;"><span>    d <span style="color:#f92672">=</span> {}
</span></span><span style="display:flex;"><span>    d[x] <span style="color:#f92672">=</span> y
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> d
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>m <span style="color:#f92672">=</span> map(f,<span style="color:#e6db74">&#39;abc&#39;</span>,(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>))
</span></span><span style="display:flex;"><span>list(m)
</span></span></code></pre></div><pre><code>[{'a': 1}, {'b': 2}]
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>max() 求最大项</h1>

<p>内置函数 max()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(max)
</span></span></code></pre></div><pre><code>Help on built-in function max in module builtins:

max(...)
    max(iterable, *[, default=obj, key=func]) -&gt; value
    max(arg1, arg2, *args, *[, key=func]) -&gt; value
    
    With a single iterable argument, return its biggest item. The
    default keyword-only argument specifies an object to return if
    the provided iterable is empty.
    With two or more arguments, return the largest argument.
</code></pre>
<p>返回可迭代对象中最大的元素，或多个实参中最大的项。参数说明：</p>
<ul>
<li>如果只提供了一个位置参数，它必须是可迭代对象（iterable），返回 iterable 中最大的元素，iterable 为空，返回 default。</li>
<li>如果提供了两个及以上的位置参数，则返回最大的位置参数。</li>
<li>如果有多个最大元素，则此函数将返回第一个找到的。</li>
<li>参数 key（可选）指定排序函数，将排序的项都经此函数计算，按计算值取最大的项。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>max(<span style="color:#e6db74">&#39;3142&#39;</span>)
</span></span></code></pre></div><pre><code>'4'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>max([], default<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>max(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>)
</span></span></code></pre></div><pre><code>4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>max([<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>],[<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>])
</span></span></code></pre></div><pre><code>[2, 1, 1]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>max((<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;ab&#39;</span>,<span style="color:#e6db74">&#39;bcd&#39;</span>),key<span style="color:#f92672">=</span>len)
</span></span></code></pre></div><pre><code>'bcd'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>min() 求最小项</h1>

<p>内置函数 min()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(min)
</span></span></code></pre></div><pre><code>Help on built-in function min in module builtins:

min(...)
    min(iterable, *[, default=obj, key=func]) -&gt; value
    min(arg1, arg2, *args, *[, key=func]) -&gt; value
    
    With a single iterable argument, return its smallest item. The
    default keyword-only argument specifies an object to return if
    the provided iterable is empty.
    With two or more arguments, return the smallest argument.
</code></pre>
<p>返回可迭代对象中最小的元素，或多个实参中最小的项。参数说明：</p>
<ul>
<li>如果只提供了一个位置参数，它必须是可迭代对象（iterable），返回 iterable 中最小的元素，iterable 为空，返回 default。</li>
<li>如果提供了两个及以上的位置参数，则返回最小的位置参数。</li>
<li>如果有多个最小元素，则此函数将返回第一个找到的。</li>
<li>参数 key（可选）指定排序函数，将排序的项都经此函数计算，按计算值取最小的项。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>min(<span style="color:#e6db74">&#39;3142&#39;</span>)
</span></span></code></pre></div><pre><code>'1'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>min([], default<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>min(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">4</span>)
</span></span></code></pre></div><pre><code>2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>min([<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>],[<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>])
</span></span></code></pre></div><pre><code>[2, 1]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>min((<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;ab&#39;</span>,<span style="color:#e6db74">&#39;bcd&#39;</span>),key<span style="color:#f92672">=</span>len)
</span></span></code></pre></div><pre><code>'a'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>next() 返回迭代器下一个元素</h1>

<p>内置函数 next()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(next)
</span></span></code></pre></div><pre><code>Help on built-in function next in module builtins:

next(...)
    next(iterator[, default])
    
    Return the next item from the iterator. If default is given and the iterator
    is exhausted, it is returned instead of raising StopIteration.
</code></pre>
<p>返回迭代器（iterator）的下一个元素。如果迭代器耗尽，则返回给定的 default，如果没有默认值则触发 StopIteration。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>i <span style="color:#f92672">=</span> iter(<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span><span style="display:flex;"><span>next(i,<span style="color:#e6db74">&#39;迭代结束&#39;</span>)
</span></span></code></pre></div><pre><code>'1'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>next(i,<span style="color:#e6db74">&#39;迭代结束&#39;</span>)
</span></span></code></pre></div><pre><code>'2'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>next(i,<span style="color:#e6db74">&#39;迭代结束&#39;</span>)
</span></span></code></pre></div><pre><code>'3'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>next(i,<span style="color:#e6db74">&#39;迭代结束&#39;</span>)
</span></span></code></pre></div><pre><code>'迭代结束'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>next(i,<span style="color:#e6db74">&#39;迭代结束&#39;</span>)
</span></span></code></pre></div><pre><code>'迭代结束'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>object 所有类的基类</h1>

<p>内置函数（类）object，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(object)
</span></span></code></pre></div><pre><code>Help on class object in module builtins:

class object
 |  The most base type
</code></pre>
<p>当被调用时，它不接受任何参数，并返回一个新的无特性实例，并且不能给定任何实例属性。</p>
<p>object 是所有类的基类。它具有所有 Python 类实例的通用方法。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(object)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>object()
</span></span></code></pre></div><pre><code>&lt;object at 0x1de8bc75170&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dir(object)
</span></span></code></pre></div><pre><code>['__class__',
 '__delattr__',
 '__dir__',
 '__doc__',
 '__eq__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__gt__',
 '__hash__',
 '__init__',
 '__init_subclass__',
 '__le__',
 '__lt__',
 '__ne__',
 '__new__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__subclasshook__']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>oct() 整数的八进制形式</h1>

<p>内置函数 oct()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(oct)
</span></span></code></pre></div><pre><code>Help on built-in function oct in module builtins:

oct(number, /)
    Return the octal representation of an integer.
    
    &gt;&gt;&gt; oct(342391)
    '0o1234567'
</code></pre>
<p>将一个整数转换为八进制整数的字符串形式。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>oct(<span style="color:#ae81ff">123</span>)
</span></span></code></pre></div><pre><code>'0o173'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">0o173</span>
</span></span></code></pre></div><pre><code>123
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>oct(<span style="color:#ae81ff">0x12</span>)
</span></span></code></pre></div><pre><code>'0o22'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">0x12</span>, <span style="color:#ae81ff">0o22</span>
</span></span></code></pre></div><pre><code>(18, 18)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>open() 打开文件</h1>

<p>内置函数 open()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(open)
</span></span></code></pre></div><pre><code>Help on built-in function open in module io:

open(file, mode='r', buffering=-1, encoding=None, errors=None, newline=None, closefd=True, opener=None)
    Open file and return a stream.  Raise OSError upon failure.
    
    file is either a text or byte string giving the name (and the path
    if the file isn't in the current working directory) of the file to
    be opened or an integer file descriptor of the file to be
    wrapped. (If a file descriptor is given, it is closed when the
    returned I/O object is closed, unless closefd is set to False.)
    
    mode is an optional string that specifies the mode in which the file
    is opened. It defaults to 'r' which means open for reading in text
    mode.  Other common values are 'w' for writing (truncating the file if
    it already exists), 'x' for creating and writing to a new file, and
    'a' for appending (which on some Unix systems, means that all writes
    append to the end of the file regardless of the current seek position).
    In text mode, if encoding is not specified the encoding used is platform
    dependent: locale.getpreferredencoding(False) is called to get the
    current locale encoding. (For reading and writing raw bytes use binary
    mode and leave encoding unspecified.) The available modes are:
    
    ========= ===============================================================
    Character Meaning
    --------- ---------------------------------------------------------------
    'r'       open for reading (default)
    'w'       open for writing, truncating the file first
    'x'       create a new file and open it for writing
    'a'       open for writing, appending to the end of the file if it exists
    'b'       binary mode
    't'       text mode (default)
    '+'       open a disk file for updating (reading and writing)
    'U'       universal newline mode (deprecated)
    ========= ===============================================================
    
    The default mode is 'rt' (open for reading text). For binary random
    access, the mode 'w+b' opens and truncates the file to 0 bytes, while
    'r+b' opens the file without truncation. The 'x' mode implies 'w' and
    raises an `FileExistsError` if the file already exists.
    
    Python distinguishes between files opened in binary and text modes,
    even when the underlying operating system doesn't. Files opened in
    binary mode (appending 'b' to the mode argument) return contents as
    bytes objects without any decoding. In text mode (the default, or when
    't' is appended to the mode argument), the contents of the file are
    returned as strings, the bytes having been first decoded using a
    platform-dependent encoding or using the specified encoding if given.
    
    'U' mode is deprecated and will raise an exception in future versions
    of Python.  It has no effect in Python 3.  Use newline to control
    universal newlines mode.
    
    buffering is an optional integer used to set the buffering policy.
    Pass 0 to switch buffering off (only allowed in binary mode), 1 to select
    line buffering (only usable in text mode), and an integer &gt; 1 to indicate
    the size of a fixed-size chunk buffer.  When no buffering argument is
    given, the default buffering policy works as follows:
    
    * Binary files are buffered in fixed-size chunks; the size of the buffer
      is chosen using a heuristic trying to determine the underlying device's
      &quot;block size&quot; and falling back on `io.DEFAULT_BUFFER_SIZE`.
      On many systems, the buffer will typically be 4096 or 8192 bytes long.
    
    * &quot;Interactive&quot; text files (files for which isatty() returns True)
      use line buffering.  Other text files use the policy described above
      for binary files.
    
    encoding is the name of the encoding used to decode or encode the
    file. This should only be used in text mode. The default encoding is
    platform dependent, but any encoding supported by Python can be
    passed.  See the codecs module for the list of supported encodings.
    
    errors is an optional string that specifies how encoding errors are to
    be handled---this argument should not be used in binary mode. Pass
    'strict' to raise a ValueError exception if there is an encoding error
    (the default of None has the same effect), or pass 'ignore' to ignore
    errors. (Note that ignoring encoding errors can lead to data loss.)
    See the documentation for codecs.register or run 'help(codecs.Codec)'
    for a list of the permitted encoding error strings.
    
    newline controls how universal newlines works (it only applies to text
    mode). It can be None, '', '\n', '\r', and '\r\n'.  It works as
    follows:
    
    * On input, if newline is None, universal newlines mode is
      enabled. Lines in the input can end in '\n', '\r', or '\r\n', and
      these are translated into '\n' before being returned to the
      caller. If it is '', universal newline mode is enabled, but line
      endings are returned to the caller untranslated. If it has any of
      the other legal values, input lines are only terminated by the given
      string, and the line ending is returned to the caller untranslated.
    
    * On output, if newline is None, any '\n' characters written are
      translated to the system default line separator, os.linesep. If
      newline is '' or '\n', no translation takes place. If newline is any
      of the other legal values, any '\n' characters written are translated
      to the given string.
    
    If closefd is False, the underlying file descriptor will be kept open
    when the file is closed. This does not work when a file name is given
    and must be True in that case.
    
    A custom opener can be used by passing a callable as *opener*. The
    underlying file descriptor for the file object is then obtained by
    calling *opener* with (*file*, *flags*). *opener* must return an open
    file descriptor (passing os.open as *opener* results in functionality
    similar to passing None).
    
    open() returns a file object whose type depends on the mode, and
    through which the standard file operations such as reading and writing
    are performed. When open() is used to open a file in a text mode ('w',
    'r', 'wt', 'rt', etc.), it returns a TextIOWrapper. When used to open
    a file in a binary mode, the returned class varies: in read binary
    mode, it returns a BufferedReader; in write binary and append binary
    modes, it returns a BufferedWriter, and in read/write mode, it returns
    a BufferedRandom.
    
    It is also possible to use a string or bytearray as a file for both
    reading and writing. For strings StringIO can be used like a file
    opened in a text mode, and for bytes a BytesIO can be used like a file
    opened in a binary mode.
</code></pre>
<p>打开文件 file 并返回对应的文件对象（file object）。</p>
<p>参数说明：</p>
<p>1，file 是将要打开的文件的路径（绝对路径或者当前工作目录的相对路径），也可以是要被封装的整数类型文件描述符。（如果是文件描述符，它会随着返回的 I/O 对象关闭而关闭，除非 closefd 被设为 False ）。</p>
<p>2，mode 是一个可选字符串，用于指定打开文件的模式。默认值是 &lsquo;r&rsquo; ，这意味着它以文本模式打开并读取。在文本模式，如果 encoding 没有指定，则根据平台来决定使用的编码（要读取和写入原始字节，请使用二进制模式并不要指定 encoding）。可用的模式有：</p>
<ul>
<li>&lsquo;r&rsquo; 读取（默认）</li>
<li>&lsquo;w&rsquo; 写入，并先截断文件（会删除原内容），文件不存在则创建</li>
<li>&lsquo;x&rsquo; 排它性创建，如果文件已存在则失败</li>
<li>&lsquo;a&rsquo; 写入，如果文件存在则在末尾追加，不存在则创建</li>
<li>&lsquo;b&rsquo; 二进制模式</li>
<li>&rsquo;t&rsquo; 文本模式（默认）</li>
<li>&lsquo;+&rsquo; 打开用于更新（读取与写入）</li>
</ul>
<p>模式 &lsquo;r&rsquo;，&lsquo;w&rsquo;，&lsquo;x&rsquo;，&lsquo;a&rsquo; 可以单独使用，也可与 &lsquo;b&rsquo; 或 &lsquo;+&rsquo;，或两者同时组合使用。&lsquo;b&rsquo;，&rsquo;t&rsquo; 和 &lsquo;+&rsquo; 不能单独使用。&lsquo;b&rsquo; 和 &rsquo;t&rsquo; 互斥，&rsquo;t&rsquo; 默认省略。</p>
<p>默认模式为 &lsquo;r&rsquo; (打开用于读取文本，与 &lsquo;rt&rsquo; 同义)。模式 &lsquo;w+&rsquo; 与 &lsquo;w+b&rsquo; 打开文件并清空内容。模式 &lsquo;r+&rsquo; 与 &lsquo;r+b&rsquo; 打开文件并不清空内容。</p>
<p>以二进制模式打开的文件返回的内容为字节串，不进行任何解码。在文本模式下打开时，文件内容返回为字符串，首先使用指定的 encoding （如果给定）或者使用平台默认的的字节编码解码。</p>
<p>3，buffering 是一个可选的整数，用于设置缓冲策略。</p>
<p>4，encoding 是用于解码或编码文件的编码的名称。这应该只在文本模式下使用。</p>
<p>5，errors 是一个可选的字符串参数，用于指定如何处理编码和解码错误。这不能在二进制模式下使用。</p>
<p>6，newline 控制通用换行模式如何生效（它仅适用于文本模式）。</p>
<p>7，如果 closefd 是 False 并且打开文件给出了文件描述符而不是文件名，那么当文件关闭时，底层文件描述符将保持打开状态。如果给出文件名则 closefd 必须为 True （默认值），否则将引发错误。</p>
<p>8，可以通过传递可调用的 opener 来使用自定义开启器。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>) <span style="color:#66d9ef">as</span> f:
</span></span><span style="display:flex;"><span>    print(f)
</span></span></code></pre></div><pre><code>&lt;_io.TextIOWrapper name='test.txt' mode='r' encoding='cp936'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> f:
</span></span><span style="display:flex;"><span>    print(f<span style="color:#f92672">.</span>read())
</span></span></code></pre></div><pre><code>xue.cn

自学是门手艺
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>,<span style="color:#e6db74">&#39;rb&#39;</span>) <span style="color:#66d9ef">as</span> f:
</span></span><span style="display:flex;"><span>    print(f<span style="color:#f92672">.</span>read())
</span></span></code></pre></div><pre><code>b'xue.cn\r\n\r\n\xe8\x87\xaa\xe5\xad\xa6\xe6\x98\xaf\xe9\x97\xa8\xe6\x89\x8b\xe8\x89\xba'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>ord() 返回单个字符 Unicode 码位值</h1>

<p>内置函数 ord()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(ord)
</span></span></code></pre></div><pre><code>Help on built-in function ord in module builtins:

ord(c, /)
    Return the Unicode code point for a one-character string.
</code></pre>
<p>返回单个字符 Unicode 码点的整数。这是 chr() 的逆函数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ord(<span style="color:#e6db74">&#39;a&#39;</span>)
</span></span></code></pre></div><pre><code>97
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>chr(<span style="color:#ae81ff">97</span>)
</span></span></code></pre></div><pre><code>'a'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>pow() 幂运算并取余</h1>

<p>内置函数 pow()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(pow)
</span></span></code></pre></div><pre><code>Help on built-in function pow in module builtins:

pow(base, exp, mod=None)
    Equivalent to base**exp with 2 arguments or base**exp % mod with 3 arguments
    
    Some types, such as ints, are able to use a more efficient algorithm when
    invoked using the three argument form.
</code></pre>
<p>返回 base 的 exp 次幂；如果 mod 存在，则返回 base 的 exp 次幂对 mod 取余（比 <code>pow(base, exp) % mod</code> 更高效）。</p>
<p>对于混用的操作数类型，则将应用双目算术运算符的类型强制转换规则。
对于 int 操作数，结果具有与操作数相同的类型（强制转换后），除非第二个参数为负值；在这种情况下，所有参数将被转换为浮点数并输出浮点数结果。</p>
<p>对于 int 操作数 base 和 exp，如果给出 mod，则 mod 必须为整数类型并且 mod 必须不为零。如果给出 mod 并且 exp 为负值，则 base 必须相对于 mod 不可整除。在这种情况下，将会返回 <code>pow(inv_base, -exp, mod)</code>，其中 inv_base 为 base 的倒数对 mod 取余。</p>
<p>在 3.8 版更改: 对于 int 操作数，三参数形式的 pow 现在允许第二个参数为负值，即可以计算倒数的余数；允许关键字参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pow(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>)
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pow(<span style="color:#ae81ff">2.0</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>8.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pow(<span style="color:#ae81ff">2</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>0.5
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pow(<span style="color:#ae81ff">38</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">97</span>) <span style="color:#75715e">#  38 的倒数对 97 取余为 23</span>
</span></span></code></pre></div><pre><code>23
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#ae81ff">23</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">38</span> <span style="color:#f92672">%</span> <span style="color:#ae81ff">97</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pow(<span style="color:#ae81ff">38</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">97</span>), pow(<span style="color:#ae81ff">23</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">97</span>)
</span></span></code></pre></div><pre><code>(44, 44)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>print()</h1>

<p>内置函数 print()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(print)
</span></span></code></pre></div><pre><code>Help on built-in function print in module builtins:

print(...)
    print(value, ..., sep=' ', end='\n', file=sys.stdout, flush=False)
    
    Prints the values to a stream, or to sys.stdout by default.
    Optional keyword arguments:
    file:  a file-like object (stream); defaults to the current sys.stdout.
    sep:   string inserted between values, default a space.
    end:   string appended after the last value, default a newline.
    flush: whether to forcibly flush the stream.
</code></pre>
<p>将 value &hellip; 打印到 file 指定的文本流，以 sep 分隔并在末尾加上 end。sep, end, file 和 flush 如果存在，它们必须以关键字参数的形式给出。</p>
<p>所有非关键字参数都会被转换为字符串，就像是执行了 str() 一样，并会被写入到流。sep 和 end 都必须为字符串。sep 默认为一个空格 &rsquo; &lsquo;，end 默认为换行 &lsquo;\n&rsquo;。</p>
<p>如果没有给出 value &hellip;，则 print() 将只打印 end。</p>
<p>file 参数必须是一个具有 <code>write(string)</code> 方法的对象。如果参数不指定，则将使用解释器用于标准输出的文件对象 sys.stdout。</p>
<p>输出是否被缓存通常决定于 file，但如果 flush 关键字参数为真值，流会被强制刷新。</p>
<p>该函数返回值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>)
</span></span></code></pre></div><pre><code>2
a b
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#ae81ff">1</span>,int, sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;-&#39;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;end&#39;</span>)
</span></span></code></pre></div><pre><code>a-1-&lt;class 'int'&gt;end
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(end<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;end&#39;</span>)
</span></span></code></pre></div><pre><code>end
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>p <span style="color:#f92672">=</span> print(<span style="color:#e6db74">&#39;end&#39;</span>)
</span></span><span style="display:flex;"><span>print(p)
</span></span></code></pre></div><pre><code>end
None
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>property 返回 property 属性</h1>

<p>内置函数（类）property，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(property)
</span></span></code></pre></div><pre><code>Help on class property in module builtins:

class property(object)
 |  property(fget=None, fset=None, fdel=None, doc=None)
 |  
 |  Property attribute.
 |  
 |    fget
 |      function to be used for getting an attribute value
 |    fset
 |      function to be used for setting an attribute value
 |    fdel
 |      function to be used for del'ing an attribute
 |    doc
 |      docstring
 |  
 |  Typical use is to define a managed attribute x:
 |  
 |  class C(object):
 |      def getx(self): return self._x
 |      def setx(self, value): self._x = value
 |      def delx(self): del self._x
 |      x = property(getx, setx, delx, &quot;I'm the 'x' property.&quot;)
 |  
 |  Decorators make defining new properties or modifying existing ones easy:
 |  
 |  class C(object):
 |      @property
 |      def x(self):
 |          &quot;I am the 'x' property.&quot;
 |          return self._x
 |      @x.setter
 |      def x(self, value):
 |          self._x = value
 |      @x.deleter
 |      def x(self):
 |          del self._x
 |  
</code></pre>
<p>返回 property 属性。</p>
<p>fget 是获取属性值的函数。fset 是用于设置属性值的函数。fdel 是用于删除属性值的函数，doc 为属性对象创建文档字符串。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(property)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dir(property)
</span></span></code></pre></div><pre><code>['__class__',
 '__delattr__',
 '__delete__',
 '__dir__',
 '__doc__',
 '__eq__',
 '__format__',
 '__ge__',
 '__get__',
 '__getattribute__',
 '__gt__',
 '__hash__',
 '__init__',
 '__init_subclass__',
 '__isabstractmethod__',
 '__le__',
 '__lt__',
 '__ne__',
 '__new__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__set__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__subclasshook__',
 'deleter',
 'fdel',
 'fget',
 'fset',
 'getter',
 'setter']
</code></pre>
<p>一个典型的用法是定义一个托管属性 x:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 列一</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self,value):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_x <span style="color:#f92672">=</span> value
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">getx</span>(self): 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_x
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">setx</span>(self, value): 
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_x <span style="color:#f92672">=</span> value
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">delx</span>(self): 
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">del</span> self<span style="color:#f92672">.</span>_x
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> property(getx, setx, delx, <span style="color:#e6db74">&#34;I&#39;m the &#39;x&#39; property.&#34;</span>)
</span></span></code></pre></div><p>如果 c 是 C 的实例，<code>c.x</code> 将调用 getter，<code>c.x = value</code> 将调用 setter，<code>del c.x</code> 将调用 deleter。</p>
<p>如果给出，doc 将成为该 property 属性的文档字符串。否则该 property 将拷贝 fget 的文档字符串（如果存在）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c <span style="color:#f92672">=</span> C(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>c<span style="color:#f92672">.</span>x
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c<span style="color:#f92672">.</span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>c<span style="color:#f92672">.</span>x
</span></span></code></pre></div><pre><code>2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">del</span> c<span style="color:#f92672">.</span>x
</span></span><span style="display:flex;"><span>c<span style="color:#f92672">.</span>x
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-16-d32ce31f0255&gt; in &lt;module&gt;
      1 del c.x
----&gt; 2 c.x


&lt;ipython-input-10-eaaa1d84111b&gt; in getx(self)
      4 
      5     def getx(self):
----&gt; 6         return self._x
      7 
      8     def setx(self, value):


AttributeError: 'C' object has no attribute '_x'
</code></pre>
<p>这令使用 property() 作为装饰器来创建只读的特征属性可以很容易地实现:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Parrot</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_voltage <span style="color:#f92672">=</span> <span style="color:#ae81ff">100000</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">voltage</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;Get the current voltage.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_voltage
</span></span></code></pre></div><p>以上 @property 装饰器会将 voltage() 方法转化为一个具有相同名称的只读属性的 getter，并将 voltage 的文档字符串设置为 ‘Get the current voltage.’</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>p <span style="color:#f92672">=</span> Parrot()
</span></span><span style="display:flex;"><span>p<span style="color:#f92672">.</span>voltage
</span></span></code></pre></div><pre><code>100000
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>p<span style="color:#f92672">.</span>voltage <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-20-50ba7917c8b5&gt; in &lt;module&gt;
----&gt; 1 p.voltage = 100


AttributeError: can't set attribute
</code></pre>
<p>特征属性对象具有 getter, setter 以及 deleter 方法，它们可用作装饰器来创建该特征属性的副本，并将相应的访问函数设为所装饰的函数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self,value):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_x <span style="color:#f92672">=</span> value
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">x</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#34;&#34;&#34;I&#39;m the &#39;x&#39; property.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>_x
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@x</span><span style="color:#f92672">.</span>setter
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">x</span>(self, value):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>_x <span style="color:#f92672">=</span> value
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@x</span><span style="color:#f92672">.</span>deleter
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">x</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">del</span> self<span style="color:#f92672">.</span>_x
</span></span></code></pre></div><p>上述代码与 例一 完全等价。注意一定要给附加函数与原始的特征属性相同的名称。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c <span style="color:#f92672">=</span> C(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>c<span style="color:#f92672">.</span>x
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c<span style="color:#f92672">.</span>x <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>c<span style="color:#f92672">.</span>x
</span></span></code></pre></div><pre><code>2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">del</span> c<span style="color:#f92672">.</span>x
</span></span><span style="display:flex;"><span>c<span style="color:#f92672">.</span>x
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-7-d32ce31f0255&gt; in &lt;module&gt;
      1 del c.x
----&gt; 2 c.x


&lt;ipython-input-4-356a299284e7&gt; in x(self)
      6     def x(self):
      7         &quot;&quot;&quot;I'm the 'x' property.&quot;&quot;&quot;
----&gt; 8         return self._x
      9 
     10     @x.setter


AttributeError: 'C' object has no attribute '_x'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>range 创建 range 序列</h1>

<p>内置函数（类）range，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(range)
</span></span></code></pre></div><pre><code>Help on class range in module builtins:

class range(object)
 |  range(stop) -&gt; range object
 |  range(start, stop[, step]) -&gt; range object
 |  
 |  Return an object that produces a sequence of integers from start (inclusive)
 |  to stop (exclusive) by step.  range(i, j) produces i, i+1, i+2, ..., j-1.
 |  start defaults to 0, and stop is omitted!  range(4) produces 0, 1, 2, 3.
 |  These are exactly the valid indices for a list of 4 elements.
 |  When step is given, it specifies the increment (or decrement).
 |  
 |  Methods defined here:
 |  
 |  __bool__(self, /)
 |      self != 0
 |  
 |  __contains__(self, key, /)
 |      Return key in self.
 |  
 |  __eq__(self, value, /)
 |      Return self==value.
 |  
 |  __ge__(self, value, /)
 |      Return self&gt;=value.
 |  
 |  __getattribute__(self, name, /)
 |      Return getattr(self, name).
 |  
 |  __getitem__(self, key, /)
 |      Return self[key].
 |  
 |  __gt__(self, value, /)
 |      Return self&gt;value.
 |  
 |  __hash__(self, /)
 |      Return hash(self).
 |  
 |  __iter__(self, /)
 |      Implement iter(self).
 |  
 |  __le__(self, value, /)
 |      Return self&lt;=value.
 |  
 |  __len__(self, /)
 |      Return len(self).
 |  
 |  __lt__(self, value, /)
 |      Return self&lt;value.
 |  
 |  __ne__(self, value, /)
 |      Return self!=value.
 |  
 |  __reduce__(...)
 |      Helper for pickle.
 |  
 |  __repr__(self, /)
 |      Return repr(self).
 |  
 |  __reversed__(...)
 |      Return a reverse iterator.
 |  
 |  count(...)
 |      rangeobject.count(value) -&gt; integer -- return number of occurrences of value
 |  
 |  index(...)
 |      rangeobject.index(value, [start, [stop]]) -&gt; integer -- return index of value.
 |      Raise ValueError if the value is not present.
 |  
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |  
 |  __new__(*args, **kwargs) from builtins.type
 |      Create and return a new object.  See help(type) for accurate signature.
 |  
 |  ----------------------------------------------------------------------
 |  Data descriptors defined here:
 |  
 |  start
 |  
 |  step
 |  
 |  stop
</code></pre>
<p>虽然被称为函数，但 range 实际上是一个不可变的序列类型，参见 <a href="https://xue.cn/hub/reader?bookId=64&amp;path=xue_python_kp/05_sequence/02_range">range 对象</a>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(range)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(range(<span style="color:#ae81ff">3</span>))
</span></span></code></pre></div><pre><code>[0, 1, 2]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(range(<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>))
</span></span></code></pre></div><pre><code>[]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">5</span>,<span style="color:#ae81ff">2</span>))
</span></span></code></pre></div><pre><code>[1, 3]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(range(<span style="color:#ae81ff">0</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>))
</span></span></code></pre></div><pre><code>[0, -1, -2, -3, -4]
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>repr() 返回对象的可打印字符串</h1>

<p>内置函数 repr()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(repr)
</span></span></code></pre></div><pre><code>Help on built-in function repr in module builtins:

repr(obj, /)
    Return the canonical string representation of the object.
    
    For many object types, including most builtins, eval(repr(obj)) == obj.
</code></pre>
<p>返回包含一个对象的可打印表示形式的字符串。</p>
<p>对于许多类型来说，该函数会尝试返回的字符串将会与该对象被传递给 eval() 时所生成的对象具有相同的值，在其他情况下表示形式会是一个括在尖括号中的字符串，其中包含对象类型的名称与通常包括对象名称和地址的附加信息。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>repr(<span style="color:#ae81ff">1</span><span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>'2'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>repr(int)
</span></span></code></pre></div><pre><code>&quot;&lt;class 'int'&gt;&quot;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str(<span style="color:#e6db74">&#39;python</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><pre><code>'python\n'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>repr(<span style="color:#e6db74">&#39;python</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><pre><code>&quot;'python\\n'&quot;
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>reversed 序列逆置</h1>

<p>内置函数（类）reversed，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(reversed)
</span></span></code></pre></div><pre><code>Help on class reversed in module builtins:

class reversed(object)
 |  reversed(sequence, /)
 |  
 |  Return a reverse iterator over the values of the given sequence.
 |  
 |  Methods defined here:
 |  
 |  __getattribute__(self, name, /)
 |      Return getattr(self, name).
 |  
 |  __iter__(self, /)
 |      Implement iter(self).
 |  
 |  __length_hint__(...)
 |      Private method returning an estimate of len(list(it)).
 |  
 |  __next__(self, /)
 |      Implement next(self).
 |  
 |  __reduce__(...)
 |      Return state information for pickling.
 |  
 |  __setstate__(...)
 |      Set state information for unpickling.
 |  
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |  
 |  __new__(*args, **kwargs) from builtins.type
 |      Create and return a new object.  See help(type) for accurate signature.
</code></pre>
<p>返回给定的序列逆置之后的迭代器。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(reversed)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>reversed(<span style="color:#e6db74">&#39;1234&#39;</span>)
</span></span></code></pre></div><pre><code>&lt;reversed at 0x14b684fe460&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(reversed(<span style="color:#e6db74">&#39;1234&#39;</span>))
</span></span></code></pre></div><pre><code>['4', '3', '2', '1']
</code></pre>
<p>因为字典顺序会确保为插入顺序，字典和字典视图都是可逆的。3.8 新版可以返回一个逆序获取字典键的迭代器。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> reversed({<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">2</span>,<span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>})
</span></span><span style="display:flex;"><span>list(d)
</span></span></code></pre></div><pre><code>['c', 'b', 'a']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>round() 数字舍入</h1>

<p>内置函数 round()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(round)
</span></span></code></pre></div><pre><code>Help on built-in function round in module builtins:

round(number, ndigits=None)
    Round a number to a given precision in decimal digits.
    
    The return value is an integer if ndigits is omitted or None.  Otherwise
    the return value has the same type as the number.  ndigits may be negative.
</code></pre>
<p>返回 number 舍入到小数点后 ndigits 位精度的值。如果 ndigits 被省略或为 None，则返回最接近输入值的整数。</p>
<p>对于支持 round() 的内置类型，值会被舍入到最接近的 10 的负 ndigits 次幂的倍数；如果与两个倍数的距离相等，则选择偶数。</p>
<p>任何整数值都可作为有效的 ndigits (正数、零或负数)。如果 ndigits 被省略或为 None 则返回值将为整数。否则返回值与 number 的类型相同。</p>
<p>由于大多数十进制小数实际上都不能以浮点数精确地表示。返回值可能会不是预期的四舍五入结果。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>round(<span style="color:#ae81ff">3.14</span>)
</span></span></code></pre></div><pre><code>3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>round(<span style="color:#ae81ff">3.14</span>, <span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>3.14
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>round(<span style="color:#ae81ff">3.14</span>, <span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>3.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>round(<span style="color:#ae81ff">13.14</span>,<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>10.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>round(<span style="color:#ae81ff">2.5</span>), round(<span style="color:#f92672">-</span><span style="color:#ae81ff">2.5</span>)
</span></span></code></pre></div><pre><code>(2, -2)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>round(<span style="color:#ae81ff">1.5</span>), round(<span style="color:#f92672">-</span><span style="color:#ae81ff">1.5</span>)
</span></span></code></pre></div><pre><code>(2, -2)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>round(<span style="color:#ae81ff">2.675</span>, <span style="color:#ae81ff">2</span>), round(<span style="color:#ae81ff">2.665</span>, <span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>(2.67, 2.67)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>set 创建集合</h1>

<p>内置函数（类）set，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(set)
</span></span></code></pre></div><pre><code>Help on class set in module builtins:

class set(object)
 |  set() -&gt; new empty set object
 |  set(iterable) -&gt; new set object
 |  
 |  Build an unordered collection of unique elements.
 |  
</code></pre>
<p>将一个可迭代对象转换为集合。可迭代对象为空，或不传参数，将得到空集合。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(set)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>set([])
</span></span></code></pre></div><pre><code>set()
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>set()
</span></span></code></pre></div><pre><code>set()
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>set(<span style="color:#e6db74">&#39;1231&#39;</span>)
</span></span></code></pre></div><pre><code>{'1', '2', '3'}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>set({<span style="color:#e6db74">&#39;1&#39;</span>:<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;2&#39;</span>:<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;3&#39;</span>:<span style="color:#ae81ff">3</span>})
</span></span></code></pre></div><pre><code>{'1', '2', '3'}
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>setattr() 设置或新增属性</h1>

<p>内置函数 setattr()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(setattr)
</span></span></code></pre></div><pre><code>Help on built-in function setattr in module builtins:

setattr(obj, name, value, /)
    Sets the named attribute on the given object to the specified value.
    
    setattr(x, 'y', v) is equivalent to ``x.y = v''
</code></pre>
<p>参数为一个对象、一个字符串和一个任意值。字符串指定一个现有属性或者新增属性。函数会将值赋给该属性，只要对象允许这种操作。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> A()
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>y
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 为实例 x 新增属性</span>
</span></span><span style="display:flex;"><span>setattr(x, <span style="color:#e6db74">&#39;y&#39;</span>, <span style="color:#ae81ff">10</span>)
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">.</span>y
</span></span></code></pre></div><pre><code>10
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>A<span style="color:#f92672">.</span>y
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 修改类 A 的 y 属性</span>
</span></span><span style="display:flex;"><span>setattr(A, <span style="color:#e6db74">&#39;y&#39;</span>, <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>y
</span></span></code></pre></div><pre><code>100
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x<span style="color:#f92672">.</span>y
</span></span></code></pre></div><pre><code>10
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>slice 创建切片对象</h1>

<p>内置函数（类）slice，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(slice)
</span></span></code></pre></div><pre><code>Help on class slice in module builtins:

class slice(object)
 |  slice(stop)
 |  slice(start, stop[, step])
 |  
 |  Create a slice object.  This is used for extended slicing (e.g. a[0:10:2]).
 |  
</code></pre>
<p>返回一个表示由 range(start, stop, step) 指定索引集的 slice 对象。其中 start 和 step 参数默认为 None。</p>
<p>切片对象具有仅会返回对应参数值（或其默认值）的只读数据属性 start, stop 和 step。它们没有其他的显式功能。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(slice)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> slice(<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>slice(None, 3, None)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> list(range(<span style="color:#ae81ff">5</span>))
</span></span><span style="display:flex;"><span>a[s]
</span></span></code></pre></div><pre><code>[0, 1, 2]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>slice(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>slice(2, 8, 2)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(range(<span style="color:#ae81ff">10</span>)[slice(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">2</span>)])
</span></span></code></pre></div><pre><code>[2, 4, 6]
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>sorted() 返回排序列表</h1>

<p>内置函数 sorted()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(sorted)
</span></span></code></pre></div><pre><code>Help on built-in function sorted in module builtins:

sorted(iterable, /, *, key=None, reverse=False)
    Return a new list containing all items from the iterable in ascending order.
    
    A custom key function can be supplied to customize the sort order, and the
    reverse flag can be set to request the result in descending order.
</code></pre>
<p>根据 iterable 中的项返回一个新的已排序列表。</p>
<p>具有两个可选参数，它们都必须指定为关键字参数。</p>
<p>key 指定带有单个参数的函数，应用于 iterable 中的每个元素，将计算结果用来对原 iterable 排序。默认值为 None (直接比较)。</p>
<p>reverse 为一个布尔值。如果设为 True，则每个列表元素将按反向顺序比较进行排序。</p>
<p>sorted() 排序确保是稳定的。如果一个排序确保不会改变比较结果相等的元素的相对顺序就称其为稳定的 &mdash; 这有利于进行多重排序。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sorted({<span style="color:#e6db74">&#39;b&#39;</span>:<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">3</span>,<span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">2</span>})
</span></span></code></pre></div><pre><code>['a', 'b', 'c']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> [{<span style="color:#e6db74">&#39;age&#39;</span>:<span style="color:#ae81ff">18</span>},{<span style="color:#e6db74">&#39;age&#39;</span>:<span style="color:#ae81ff">30</span>},{<span style="color:#e6db74">&#39;age&#39;</span>:<span style="color:#ae81ff">26</span>}]
</span></span><span style="display:flex;"><span>sorted(d,key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> x:x[<span style="color:#e6db74">&#39;age&#39;</span>])
</span></span></code></pre></div><pre><code>[{'age': 18}, {'age': 26}, {'age': 30}]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sorted([<span style="color:#ae81ff">1.5</span>,<span style="color:#e6db74">&#39;2.0&#39;</span>,<span style="color:#e6db74">&#39;1.5&#39;</span>,<span style="color:#ae81ff">3.14</span>], key<span style="color:#f92672">=</span>float)
</span></span></code></pre></div><pre><code>[1.5, '1.5', '2.0', 3.14]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sorted(<span style="color:#e6db74">&#39;3123&#39;</span>, reverse<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><pre><code>['3', '3', '2', '1']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>staticmethod 封装函数为静态方法</h1>

<p>内置函数（类）staticmethod，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(staticmethod)
</span></span></code></pre></div><pre><code>Help on class staticmethod in module builtins:

class staticmethod(object)
 |  staticmethod(function) -&gt; method
 |  
 |  Convert a function to be a static method.
 |  
 |  A static method does not receive an implicit first argument.
 |  To declare a static method, use this idiom:
 |  
 |       class C:
 |           @staticmethod
 |           def f(arg1, arg2, ...):
 |               ...
 |  
 |  It can be called either on the class (e.g. C.f()) or on an instance
 |  (e.g. C().f()).  The instance is ignored except for its class.
 |  
 |  Static methods in Python are similar to those found in Java or C++.
 |  For a more advanced concept, see the classmethod builtin.
 |  
</code></pre>
<p>将函数转换为静态方法。</p>
<p>静态方法不会接收隐式的第一个参数。可以传递一个函数作为参数定义为静态方法，也可以使用装饰器的形式将一个自定义函数定义为静态方法。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(staticmethod)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    in_print <span style="color:#f92672">=</span> staticmethod(print)
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> A()
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>in_print(<span style="color:#e6db74">&#39;静态方法&#39;</span>)
</span></span></code></pre></div><pre><code>静态方法
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@staticmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">in_print</span>(value):
</span></span><span style="display:flex;"><span>        print(value)
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> A()
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>in_print(<span style="color:#e6db74">&#39;静态方法&#39;</span>)
</span></span></code></pre></div><pre><code>静态方法
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>str 创建字符串</h1>

<p>内置函数（类）str，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(str)
</span></span></code></pre></div><pre><code>Help on class str in module builtins:

class str(object)
 |  str(object='') -&gt; str
 |  str(bytes_or_buffer[, encoding[, errors]]) -&gt; str
 |  
 |  Create a new string object from the given object. If encoding or
 |  errors is specified, then the object must expose a data buffer
 |  that will be decoded using the given encoding and error handler.
 |  Otherwise, returns the result of object.__str__() (if defined)
 |  or repr(object).
 |  encoding defaults to sys.getdefaultencoding().
 |  errors defaults to 'strict'.
 |  
</code></pre>
<p>返回对象 object 的字符串形式。如果未提供 object 则返回空字符串。</p>
<p>如果 encoding 或 errors 至少给出其中之一，则 bytes_or_buffer 应该是一个 bytes-like object (例如字节串或字节数组)。在此情况下，如果是一个字节串 (或字节数组) 对象，则 <code>str(bytes, encoding, errors)</code> 等价于 <code>bytes.decode(encoding, errors)</code>。否则的话，会在调用 <code>bytes.decode()</code> 之前获取缓冲区对象下层的 bytes 对象。</p>
<p>将一个 bytes 对象传入 str() 而不给出 encoding 或 errors 参数，将直接转 bytes 对象为字符串。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(str)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str()
</span></span></code></pre></div><pre><code>''
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str(int)
</span></span></code></pre></div><pre><code>&quot;&lt;class 'int'&gt;&quot;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>'[1, 2, 3]'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\xe8\x87\xaa\xe5\xad\xa6</span><span style="color:#e6db74">&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span></code></pre></div><pre><code>'自学'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\xe8\x87\xaa\xe5\xad\xa6</span><span style="color:#e6db74">&#39;</span><span style="color:#f92672">.</span>decode(encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span></code></pre></div><pre><code>'自学'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\xe8\x87\xaa\xe5\xad\xa6</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><pre><code>&quot;b'\\xe8\\x87\\xaa\\xe5\\xad\\xa6'&quot;
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>sum() 数字求和或序列拼接</h1>

<p>内置函数 sum()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(sum)
</span></span></code></pre></div><pre><code>Help on built-in function sum in module builtins:

sum(iterable, start=0, /)
    Return the sum of a 'start' value (default: 0) plus an iterable of numbers
    
    When the iterable is empty, return the start value.
    This function is intended specifically for use with numeric values and may
    reject non-numeric types.
</code></pre>
<p>通常对一个以数字为元素的可迭代对象求和并返回和。如果指定 start 参数，和需要加上 start。</p>
<p>start 不能为字符串，拼接字符串 sum() 不支持，更好更快的方式是 str.join() 方法。</p>
<p>sum() 还支持其他序列（列表和元组）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum(range(<span style="color:#ae81ff">4</span>), <span style="color:#ae81ff">10</span>)
</span></span></code></pre></div><pre><code>16
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum([(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>),(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>)], (<span style="color:#ae81ff">5</span>,))
</span></span></code></pre></div><pre><code>(5, 1, 2, 3, 4)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum([[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>],[<span style="color:#ae81ff">3</span>]],[<span style="color:#ae81ff">0</span>])
</span></span></code></pre></div><pre><code>[0, 1, 2, 3]
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>super 调用委托给父类或兄弟类</h1>

<p>内置函数（类）super，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(super)
</span></span></code></pre></div><pre><code>Help on class super in module builtins:

class super(object)
 |  super() -&gt; same as super(__class__, &lt;first argument&gt;)
 |  super(type) -&gt; unbound super object
 |  super(type, obj) -&gt; bound super object; requires isinstance(obj, type)
 |  super(type, type2) -&gt; bound super object; requires issubclass(type2, type)
 |  Typical use to call a cooperative superclass method:
 |  class C(B):
 |      def meth(self, arg):
 |          super().meth(arg)
 |  This works for class methods too:
 |  class C(B):
 |      @classmethod
 |      def cmeth(cls, arg):
 |          super().cmeth(arg)
 |  
</code></pre>
<p>返回一个代理对象，它会将方法调用委托给类 type 的父类或兄弟类。这对于访问已在类中被重载的继承方法很有用。</p>
<ul>
<li><code>super()</code> 和 <code>super(__class__, &lt;first argument&gt;)</code> 一样。</li>
<li>如果省略第二个参数，则返回的超类对象是未绑定的。</li>
<li>如果第二个参数为一个对象，则 isinstance(obj, type) 必须为真值。</li>
<li>如果第二个参数为一个类型，则 issubclass(type2, type) 必须为真值（这适用于类方法）。</li>
</ul>
<p>super 有两个典型用例：</p>
<ul>
<li>在具有单继承的类层级结构中，super 可用来引用父类而不必显式地指定它们的名称，从而令代码更易维护。</li>
<li>第二个用例是在动态执行环境中支持协作多重继承。此用例为 Python 所独有。这使得实现 “菱形图” 成为可能，在这时会有多个基类实现相同的方法。好的设计强制要求这种方法在每个情况下具有相同的调用签名（因为调用顺序是在运行时确定的，也因为该顺序要适应类层级结构的更改，还因为该顺序可能包含在运行时之前未知的兄弟类）。</li>
</ul>
<p>类或方法的 <code>__mro__</code> 属性列出了 getattr() 和 super() 所共同使用的方法解析顺序（MRO）。该属性是动态的，可以在任何继承层级结构发生更新的时候被改变。</p>
<p>除了方法查找之外，super() 也可用于属性查找。一个可能的应用场合是在上级或同级类中调用描述器。</p>
<p>请注意 super() 是作为显式加点属性查找的绑定过程的一部分来实现的，例如 <code>super().__getitem__(name)</code>。它做到这一点是通过实现自己的 <code>__getattribute__()</code> 方法，这样就能以可预测的顺序搜索类，并且支持协作多重继承。</p>
<p>还要注意的是，除了零个参数的形式以外，super() 并不限于在方法内部使用。两个参数的形式明确指定参数并进行相应的引用。零个参数的形式仅适用于类定义内部，因为编译器需要填入必要的细节以正确地检索到被定义的类，还需要让普通方法访问当前实例。</p>
<p>方法调用委托给父类：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(super)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(self, x):
</span></span><span style="display:flex;"><span>        y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> x
</span></span><span style="display:flex;"><span>        print(y)
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>(A):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(self, x):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span>add(x) <span style="color:#75715e"># super() 等价于 super(B,self)</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> B()
</span></span><span style="display:flex;"><span>b<span style="color:#f92672">.</span>add(<span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>10
</code></pre>
<p>初始化委托给父类：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;父类A&#39;</span>
</span></span><span style="display:flex;"><span>        print (<span style="color:#e6db74">&#39;A&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">print_msg</span>(self,a):
</span></span><span style="display:flex;"><span>        print (<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">来自A&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>(A):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># super(B, self) 可写为 super()</span>
</span></span><span style="display:flex;"><span>        super(B, self)<span style="color:#f92672">.</span>__init__() 
</span></span><span style="display:flex;"><span>        print (<span style="color:#e6db74">&#39;B&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">print_msg</span>(self,b):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span>print_msg(b)
</span></span><span style="display:flex;"><span>        print (<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">来自B&#39;</span>)
</span></span><span style="display:flex;"><span>        print (self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> B()
</span></span><span style="display:flex;"><span>b<span style="color:#f92672">.</span>print_msg(<span style="color:#e6db74">&#39;HelloWorld&#39;</span>)
</span></span></code></pre></div><pre><code>A
B
HelloWorld来自A
HelloWorld来自B
父类A
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>tuple 创建元组</h1>

<p>内置函数（类）tuple，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(tuple)
</span></span></code></pre></div><pre><code>Help on class tuple in module builtins:

class tuple(object)
 |  tuple(iterable=(), /)
 |  
 |  Built-in immutable sequence.
 |  
 |  If no argument is given, the constructor returns an empty tuple.
 |  If iterable is specified the tuple is initialized from iterable's items.
 |  
 |  If the argument is a tuple, the return value is the same object.
 |  
</code></pre>
<p>将可迭代对象转换为元组。可迭代对象为空或不传参数，返回空元组。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(tuple)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>tuple(<span style="color:#e6db74">&#39;&#39;</span>)
</span></span></code></pre></div><pre><code>()
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>tuple(<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span></code></pre></div><pre><code>('1', '2', '3')
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>type 判断类型或创建类</h1>

<p>内置函数（类）type，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(type)
</span></span></code></pre></div><pre><code>Help on class type in module builtins:

class type(object)
 |  type(object_or_name, bases, dict)
 |  type(object) -&gt; the object's type
 |  type(name, bases, dict) -&gt; a new type
 |  
</code></pre>
<p>传入一个参数时，返回对象的类型。推荐使用 isinstance() 内置函数来检测对象的类型，因为它会考虑子类的情况。</p>
<p>传入三个参数时，返回一个新的 type 对象。这在本质上是 class 语句的一种动态形式。name 参数是字符串即类名并且会成为 <code>__name__</code> 属性；bases 元组列出基类并且会成为 <code>__bases__</code> 属性；而 dict 字典为包含类主体定义的命名空间并且会被复制到一个标准字典成为 <code>__dict__</code> 属性。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(type)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(int), type(object)
</span></span></code></pre></div><pre><code>(type, type)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>isinstance(int, object)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>__name__, A<span style="color:#f92672">.</span>__bases__, A<span style="color:#f92672">.</span>__dict__
</span></span></code></pre></div><pre><code>('A',
 (object,),
 mappingproxy({'__module__': '__main__',
               'a': 1,
               '__dict__': &lt;attribute '__dict__' of 'A' objects&gt;,
               '__weakref__': &lt;attribute '__weakref__' of 'A' objects&gt;,
               '__doc__': None}))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>A <span style="color:#f92672">=</span> type(<span style="color:#e6db74">&#39;A&#39;</span>, (object,), dict(a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>__name__, A<span style="color:#f92672">.</span>__bases__, A<span style="color:#f92672">.</span>__dict__
</span></span></code></pre></div><pre><code>('A',
 (object,),
 mappingproxy({'a': 1,
               '__module__': '__main__',
               '__dict__': &lt;attribute '__dict__' of 'A' objects&gt;,
               '__weakref__': &lt;attribute '__weakref__' of 'A' objects&gt;,
               '__doc__': None}))
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>vars() 返回对象的变量字典</h1>

<p>内置函数 vars()，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(vars)
</span></span></code></pre></div><pre><code>Help on built-in function vars in module builtins:

vars(...)
    vars([object]) -&gt; dictionary
    
    Without arguments, equivalent to locals().
    With an argument, equivalent to object.__dict__.
</code></pre>
<p>返回模块、类、实例或任何其它具有 <code>__dict__</code> 属性的对象的 <code>__dict__</code> 属性。</p>
<p>模块和实例这样的对象具有可更新的 <code>__dict__</code> 属性；但是，其它对象的 <code>__dict__</code> 属性可能会设为限制写入（例如，类会使用<code>types.MappingProxyType</code> 来防止直接更新字典）。</p>
<p>不带参数时，vars() 的行为类似 locals()。请注意，locals 字典仅对于读取起作用，因为对 locals 字典的更新会被忽略。</p>
<p>如果指定了一个对象但它没有 <code>__dict__</code> 属性则会引发TypeError 异常。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>vars()
</span></span></code></pre></div><pre><code>{'__name__': '__main__',
 '__doc__': 'Automatically created module for IPython interactive environment',
 '__package__': None,
 '__loader__': None,
 '__spec__': None,
 '__builtin__': &lt;module 'builtins' (built-in)&gt;,
 '__builtins__': &lt;module 'builtins' (built-in)&gt;,
 '_ih': ['', &quot;get_ipython().run_line_magic('pinfo', 'vars')&quot;, 'vars()'],
 '_oh': {},
 '_dh': ['E:\\xue\\脚本\\kp_book\\11_built-in_function'],
 'In': ['', &quot;get_ipython().run_line_magic('pinfo', 'vars')&quot;, 'vars()'],
 'Out': {},
 'get_ipython': &lt;bound method InteractiveShell.get_ipython of &lt;ipykernel.zmqshell.ZMQInteractiveShell object at 0x00000189A6512310&gt;&gt;,
 'exit': &lt;IPython.core.autocall.ZMQExitAutocall at 0x189a65b32e0&gt;,
 'quit': &lt;IPython.core.autocall.ZMQExitAutocall at 0x189a65b32e0&gt;,
 '_': '',
 '__': '',
 '___': '',
 '_i': 'vars?',
 '_ii': '',
 '_iii': '',
 '_i1': 'vars?',
 '_i2': 'vars()'}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():<span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>vars(f)
</span></span></code></pre></div><pre><code>{}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>__dict__[<span style="color:#e6db74">&#39;a&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>a
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>vars(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-9-3391faf83557&gt; in &lt;module&gt;
----&gt; 1 vars(1)


TypeError: vars() argument must have __dict__ attribute
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>zip 重组可迭代对象</h1>

<p>内置函数（类）zip，Python 官方文档描述如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(zip)
</span></span></code></pre></div><pre><code>Help on class zip in module builtins:

class zip(object)
 |  zip(iter1 [,iter2 [...]]) --&gt; zip object
 |  
 |  Return a zip object whose .__next__() method returns a tuple where
 |  the i-th element comes from the i-th iterable argument.  The .__next__()
 |  method continues until the shortest iterable in the argument sequence
 |  is exhausted and then it raises StopIteration.
 |  
 |  Methods defined here:
 |  
 |  __getattribute__(self, name, /)
 |      Return getattr(self, name).
 |  
 |  __iter__(self, /)
 |      Implement iter(self).
 |  
 |  __next__(self, /)
 |      Implement next(self).
 |  
 |  __reduce__(...)
 |      Return state information for pickling.
 |  
 |  ----------------------------------------------------------------------
 |  Static methods defined here:
 |  
 |  __new__(*args, **kwargs) from builtins.type
 |      Create and return a new object.  See help(type) for accurate signature.
</code></pre>
<p>创建一个聚合了来自每个可迭代对象中的元素的迭代器。</p>
<p>返回一个元组的迭代器，其中的第 i 个元组包含来自每个可迭代对象的第 i 个元素。</p>
<p>当所输入可迭代对象中最短的一个被耗尽时，迭代器将停止迭代。</p>
<p>当只有一个可迭代对象参数时，它将返回一个单元组的迭代器。</p>
<p>不带参数时，它将返回一个空迭代器。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(zip)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>zip()
</span></span></code></pre></div><pre><code>&lt;zip at 0x2ac600edac8&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(zip(<span style="color:#e6db74">&#39;123&#39;</span>))
</span></span></code></pre></div><pre><code>[('1',), ('2',), ('3',)]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(zip(<span style="color:#e6db74">&#39;123&#39;</span>,{<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>}))
</span></span></code></pre></div><pre><code>[('1', 1), ('2', 2), ('3', 3)]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(zip([<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>],(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>),<span style="color:#e6db74">&#39;12&#39;</span>))
</span></span></code></pre></div><pre><code>[(3, 1, '1'), (2, 2, '2')]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(zip(<span style="color:#f92672">*</span>[<span style="color:#e6db74">&#39;abc&#39;</span>,<span style="color:#e6db74">&#39;123&#39;</span>]))
</span></span></code></pre></div><pre><code>[('a', '1'), ('b', '2'), ('c', '3')]
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>函数概述</h1>

<p>函数是组织好的，可重复使用的，用来实现单一，或相关联功能的代码段。是可以向调用者返回某个值（至少是 None）的一组语句。</p>
<p>函数使代码的组织模块化，提供了代码的利用率。例如 print() 函数实现打印功能，input() 函数实现输入功能，需要它们的地方，都可以使用。</p>
<p>函数通过函数名称来使用它，传入零个或多个参数，并在函数体执行中被使用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 函数 abs() 返回一个数的绝对值</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> abs(<span style="color:#f92672">-</span><span style="color:#ae81ff">3.14</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>3.14
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># print() 函数打印传入的参数值，返回 None</span>
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">=</span> print(<span style="color:#e6db74">&#39;hello, world&#39;</span>)
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>
</span></span></code></pre></div><pre><code>hello, world


True
</code></pre>
<p>按照上述定义，类也被称作函数（例如内置函数 int，list 等）。</p>
<p>我们通常所说的函数，是指使用 def 语句和 lambda 表达式定义的函数。</p>
<p>而在类内部定义，使用属性表示法来调用的函数，我们习惯称作方法。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># int 类实例化返回整数对象</span>
</span></span><span style="display:flex;"><span>int(<span style="color:#e6db74">&#39;1&#39;</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>isinstance(<span style="color:#ae81ff">1</span>, int)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># list 类的方法 append 将一个对象加入列表中，返回值为 None</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> list<span style="color:#f92672">.</span>append(a,<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span><span style="display:flex;"><span>a, b <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>
</span></span></code></pre></div><pre><code>(['123'], True)
</code></pre>
<p>函数有内置函数和内置方法，用户也可以自定义函数和方法。定义了一个函数，即创建了一个函数对象，可以通过函数名和必要的参数调用它。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">my_sum</span>(lst):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;将列表中的字符串数字转为数字求和&#39;</span> <span style="color:#75715e"># 函数文档说明</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    rlt <span style="color:#f92672">=</span> sum(map(float,lst)) <span style="color:#75715e"># 调用内置函数求值</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> rlt <span style="color:#75715e"># 返回结果</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>my_sum([<span style="color:#e6db74">&#39;1&#39;</span>,<span style="color:#e6db74">&#39;3.14&#39;</span>,<span style="color:#ae81ff">2</span>]) <span style="color:#75715e"># 调用自定义函数</span>
</span></span></code></pre></div><pre><code>6.140000000000001
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/12_function/_index.files/01_function_summary.ipynb">01_function_summary.ipynb</a> (4 KB)</li>
    <li><a href="/python/12_function/_index.files/02_function_definition.ipynb">02_function_definition.ipynb</a> (5 KB)</li>
    <li><a href="/python/12_function/_index.files/03_formal_parameter.ipynb">03_formal_parameter.ipynb</a> (10 KB)</li>
    <li><a href="/python/12_function/_index.files/04_return_value.ipynb">04_return_value.ipynb</a> (4 KB)</li>
    <li><a href="/python/12_function/_index.files/05_recursion.ipynb">05_recursion.ipynb</a> (1 KB)</li>
    <li><a href="/python/12_function/_index.files/06_doc.ipynb">06_doc.ipynb</a> (4 KB)</li>
    <li><a href="/python/12_function/_index.files/07_function_call.ipynb">07_function_call.ipynb</a> (7 KB)</li>
    <li><a href="/python/12_function/_index.files/08_lambda.ipynb">08_lambda.ipynb</a> (4 KB)</li>
    <li><a href="/python/12_function/_index.files/09_generator.ipynb">09_generator.ipynb</a> (6 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>函数定义</h1>

<p>函数定义有两种方式，def 语句定义有名字的函数（详见 <a href="/python/10_statement/10_def/">def 定义函数</a>），lambda 表达式定义匿名函数（详见 <a href="/python/12_function/08_lambda/">lambda 函数</a>）。</p>
<p>定义一个函数，即是创建了一个函数可执行代码的包装器，他将函数想要实现的功能包装起来。然后通过调用它来实现其功能。def 语句 详细介绍了定义函数的语法规则，下面看看如何将一个功能包装起来。</p>
<p>例如下列函数，实现了将列表中的 字符串整数 以及 整数 相加求和的功能，以后只要遇到这种情况，都可以用它来求和：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sumpro([<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;2&#39;</span>,<span style="color:#e6db74">&#39;3&#39;</span>])
</span></span></code></pre></div><pre><code>6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># def 定义</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">sumpro</span>(lst):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> sum(int(i) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> lst)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sumpro([<span style="color:#e6db74">&#39;1 &#39;</span>,<span style="color:#e6db74">&#39; 2&#39;</span>,<span style="color:#ae81ff">3</span>])
</span></span></code></pre></div><pre><code>6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># lambda 表达式定义</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">lambda</span> lst: sum(int(i) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> lst)
</span></span></code></pre></div><pre><code>&lt;function __main__.&lt;lambda&gt;(lst)&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>lst <span style="color:#f92672">=</span> [[<span style="color:#e6db74">&#39;2&#39;</span>,<span style="color:#e6db74">&#39;8&#39;</span>],[<span style="color:#e6db74">&#39;3&#39;</span>,<span style="color:#e6db74">&#39;4&#39;</span>]]
</span></span><span style="display:flex;"><span>sorted(lst,key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> lst: sum(int(i) <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> lst))
</span></span></code></pre></div><pre><code>[['3', '4'], ['2', '8']]
</code></pre>
<p>函数定义，也可以定义为实现功能，但没有返回值（默认返回 None）的过程。</p>
<p>例如下列函数，实现了将列表中的字符串整数都转换为整数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">convert_to_numb</span>(lst):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(lst)):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> type(lst[i]) <span style="color:#f92672">!=</span> int:
</span></span><span style="display:flex;"><span>            lst[i] <span style="color:#f92672">=</span> int(lst[i])
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>lst <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;1&#39;</span>,<span style="color:#ae81ff">2</span>,<span style="color:#e6db74">&#39;3&#39;</span>]
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">=</span> convert_to_numb(lst)
</span></span><span style="display:flex;"><span>lst, n <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>
</span></span></code></pre></div><pre><code>([1, 2, 3], True)
</code></pre>
<p>函数定义所使用的函数名称，不能与当前作用域中以定义的名称相同，这会屏蔽掉已存在的名称，或将自定义的函数对象重新赋值给了该名称。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>str(<span style="color:#ae81ff">123</span>)
</span></span></code></pre></div><pre><code>'123'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">str</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;x=</span><span style="color:#e6db74">{</span>x<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>str(<span style="color:#ae81ff">123</span>) <span style="color:#75715e"># 屏蔽掉了内置名称 str</span>
</span></span></code></pre></div><pre><code>'x=123'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>f <span style="color:#75715e"># f 被重新赋值</span>
</span></span></code></pre></div><pre><code>&lt;function __main__.f()&gt;
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>函数形参</h1>

<p>形参是函数定义中指定的参数名称。指定某个参数的形式，决定了该形参在函数调用时，可以接受实参的方式。关于实参详见 <a href="/python/12_function/07_function_call/">函数调用</a>。</p>
<p>因而形参分为五种：</p>
<ul>
<li>位置或关键字：指定一个可以作为 位置参数 传入也可以作为 关键字参数 传入的实参。这是默认的形参类型，但有默认值的形参必须置于无默认值的形参之后。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 位置实参传入</span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 关键字实参传入</span>
</span></span><span style="display:flex;"><span>f(b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>a=1,b=2
a=1,b=2
</code></pre>
<ul>
<li>仅限位置：指定一个只能通过位置传入的参数。仅限位置形参通过在函数定义的形参之后包含一个 <code>/</code> 字符来定义。<code>/</code> 之前的参数为仅限位置形参，之后的形参为默认形参类型。有默认值的形参也必须置于无默认值的形参之后。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,<span style="color:#f92672">/</span>,c<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>): <span style="color:#75715e"># 因为 b 有默认值，c 必须要有默认值</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 按位置传参调用</span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 关键字传参则不允许</span>
</span></span><span style="display:flex;"><span>f(a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>a=1,b=2,c=3


---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-6-52b3afdaad4c&gt; in &lt;module&gt;
      4 f(1,2,c=3)
      5 # 关键字传参则不允许
----&gt; 6 f(a=1,b=2)


TypeError: f() got some positional-only arguments passed as keyword arguments: 'a, b'
</code></pre>
<ul>
<li>仅限关键字：指定一个只能通过关键字传入的参数。仅限关键字形参可通过在函数定义的形参中包含单个 可变位置形参 或者在形参之前放一个 <code>*</code> 来定义。可变位置形参 或 <code>*</code> 之后的参数为仅限关键字形参。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>a,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,c<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>): <span style="color:#75715e"># b 和 c 必须有默认值</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 位置传参将被解读为可变位置参数</span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 关键字传参</span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>a=(1, 2, 3),b=None,c=None
a=(1,),b=2,c=3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>,a,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,c):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 关键字传参</span>
</span></span><span style="display:flex;"><span>f(b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 位置传参不允许</span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>a=1,b=2,c=3


---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-1-9d584fa28622&gt; in &lt;module&gt;
      4 f(b=2,a=1,c=3)
      5 # 位置传参不允许
----&gt; 6 f(1,2,3)


TypeError: f() takes 0 positional arguments but 3 were given
</code></pre>
<ul>
<li>可变位置：指定一个可以接受任意数量的位置参数传入的参数。这种形参可通过在形参名称前加缀 <code>*</code> 来定义，并将接受到的参数封装成一个元组。该参数如果接受到了实参，它前面的参数必须为仅限位置参数。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,<span style="color:#f92672">*</span>c):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># c 没有接受参数</span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>); f(b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># c 接受到了参数</span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>a=1,b=None,c=()
a=1,b=2,c=()
a=1,b=2,c=(3, 4, 5)
</code></pre>
<ul>
<li>可变关键字：指定一个可以接受任意数量的关键字参数的参数。这种形参可通过在形参名称前加缀 <code>**</code> 来定义，并将接受到的参数封装成一个字典。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,<span style="color:#f92672">**</span>c):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>,d<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>f(d<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>a=1,b=2,c={'c': 3, 'd': 4}
a=1,b=2,c={'d': 4, 'c': 3}
</code></pre>
<p>带默认值的参数，可变位置参数和可变关键字参数，调用函数时可以不传参。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,<span style="color:#f92672">*</span>b,c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>,<span style="color:#f92672">**</span>d):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">,d=</span><span style="color:#e6db74">{</span>d<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>a=1,b=(),c=3,d={}
</code></pre>
<p>默认值只会执行一次，这条规则很重要。如果参数有默认值且为可变对象，则需要做必要的限制：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a<span style="color:#f92672">=</span>[]):
</span></span><span style="display:flex;"><span>    print(id(a))
</span></span><span style="display:flex;"><span>    a<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    print(a)
</span></span><span style="display:flex;"><span>f() <span style="color:#75715e"># 多次调用会引用参数指向的同一个对象</span>
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>2399568560064
[1]
2399568560064
[1, 1]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以拷贝一个副本</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a<span style="color:#f92672">=</span>[]):
</span></span><span style="display:flex;"><span>    b <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>copy()
</span></span><span style="display:flex;"><span>    b<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    print(b)
</span></span><span style="display:flex;"><span>f()
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>[1]
[1]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 或者修改参数</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> a <span style="color:#f92672">==</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>        a<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        a<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    print(a)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>f()
</span></span><span style="display:flex;"><span>f([])
</span></span></code></pre></div><pre><code>[1]
[1]
</code></pre>
<p>函数的形参可以使用标注，标注的语法是参数后面接一个冒号 <code>:</code>，然后接一个表达式（任意表达式），通常用来指明应该（不是必须）传递什么类型的参数等。标注提高了代码的可读性：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># a 标注为字符串类型，b 标注为整数，并设置默认值 2</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a:str,b:int<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a<span style="color:#f92672">*</span>b
</span></span><span style="display:flex;"><span>f(<span style="color:#e6db74">&#39;Hi&#39;</span>,<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>'HiHiHi'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a:<span style="color:#e6db74">&#39;字符串&#39;</span>,b:<span style="color:#e6db74">&#39;整数&#39;</span><span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> a<span style="color:#f92672">*</span>b
</span></span><span style="display:flex;"><span>f(<span style="color:#e6db74">&#39;Hi&#39;</span>)
</span></span></code></pre></div><pre><code>'HiHi'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>函数返回值</h1>

<p>函数返回值通过 <a href="/python/10_statement/11_return/">return 语句</a> 来实现，调用函数时，返回 return 语句之后表达式的值，没有 return 语句或 return 语句之后为空的函数，调用函数默认返回 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f() <span style="color:#f92672">is</span> <span style="color:#66d9ef">None</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>函数执行到 return 语句，则结束当前函数的调用，可以通过条件判断，返回特定结果：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x <span style="color:#f92672">==</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span> <span style="color:#75715e"># 使用默认值调用函数，接下来的代码将不被执行</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;x=</span><span style="color:#e6db74">{</span>x<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>) 
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x <span style="color:#f92672">!=</span> <span style="color:#66d9ef">None</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;x²=</span><span style="color:#e6db74">{</span>x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f(<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>x=2


'x²=4'
</code></pre>
<p>return 之后的表达式可以是多个表达式用逗号隔开（其实是一个元组），可用赋值语句分别接收返回值：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> sum(x), max(x), min(x)
</span></span><span style="display:flex;"><span>f([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span></code></pre></div><pre><code>(10, 4, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sum_x, max_x, min_x <span style="color:#f92672">=</span> f([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span><span style="display:flex;"><span>sum_x, max_x, min_x
</span></span></code></pre></div><pre><code>(10, 4, 1)
</code></pre>
<p>返回值可以是任何值。如果 return 之后的表达式中包含函数自身的调用，则该函数称为递归函数。详见 <a href="/python/12_function/05_recursion/">递归函数</a>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 返回函数自身</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    print(x)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> f
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>)(<span style="color:#ae81ff">2</span>)(<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>1
2
3


&lt;function __main__.f(x)&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 返回函数自身的调用</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        print(x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> f(x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>2
1
0


0
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>递归函数</h1>

<p>函数 return 语句的表达式中包含函数自身的调用，则称该函数为递归函数。</p>
<p>递归函数必须设定退出条件，并且调用过程能够逐步达到退出条件，否则将引发 RecursionError。</p>
<p>例如定义一个计算阶乘的函数：</p>
<p>上述函数的退出条件是 <code>x == 0</code>，并且 return 语句中函数调用的参数是 <code>x-1</code>，第一层调用函数的参数 <code>x</code> 为 5，return 语句进入第二层调用，就变成了 <code>x-1</code> 为 4，依此类推，最终以 0 调用函数，达到了退出条件，但是值还没有最终返回，以退出条件下的返回值层层向上返回，最终得到结果。详情查看 <a href="https://xue.cn/hub/reader?bookId=1&amp;path=the-craft-of-selfteaching/Part.2.D.4-recursion">递归函数</a>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> f(x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">*</span>x
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>120
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>函数文档</h1>

<p>关键字 def 引入一个函数定义。构成函数体的语句从下一行开始，并且必须缩进。</p>
<p>函数体的第一个语句可以是字符串文字（可选的），这个字符串文字即是函数的文档字符串。有些工具使用文档字符串自动生成在线或印刷文档，或者让用户以交互式的形式浏览代码。在你编写的代码中包含文档字符串是一种很好的做法，所以要养成习惯。</p>
<p>文档字符串的内容和格式的约定：</p>
<ul>
<li>
<p>第一行应该是函数目的的简要概述。为简洁起见，它不应显式声明对象的名称或类型，因为这些可通过其他方式获得（除非名称恰好是描述函数操作的动词）。这一行应以大写字母开头，以句点结尾。</p>
</li>
<li>
<p>如果文档字符串中有更多行，则第二行应为空白，从而在视觉上将摘要与其余描述分开。后面几行应该是一个或多个段落，描述对象的调用约定，它的副作用等。</p>
</li>
</ul>
<p>可以使用函数的 <code>__doc__</code> 属性或 help() 函数查看函数文档。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(my_function)
</span></span></code></pre></div><pre><code>Help on function my_function in module __main__:

my_function()
    Do nothing, but document it.
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">my_function</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;Do nothing, but document it.&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>my_function<span style="color:#f92672">.</span>__doc__
</span></span></code></pre></div><pre><code>'Do nothing, but document it.'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 多行的函数文档</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">my_func</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Do nothing, but document it.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    No, really, it doesn&#39;t do anything.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>print(my_func<span style="color:#f92672">.</span>__doc__)
</span></span></code></pre></div><pre><code>Do nothing, but document it.

    No, really, it doesn't do anything.
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(my_func)
</span></span></code></pre></div><pre><code>Help on function my_func in module __main__:

my_func()
    Do nothing, but document it.
    
    No, really, it doesn't do anything.
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(print<span style="color:#f92672">.</span>__doc__)
</span></span></code></pre></div><pre><code>print(value, ..., sep=' ', end='\n', file=sys.stdout, flush=False)

Prints the values to a stream, or to sys.stdout by default.
Optional keyword arguments:
file:  a file-like object (stream); defaults to the current sys.stdout.
sep:   string inserted between values, default a space.
end:   string appended after the last value, default a newline.
flush: whether to forcibly flush the stream.
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>函数调用</h1>

<p>函数名之后带一个圆括号，圆括号内，根据形参的类型（详见<a href="/python/12_function/03_formal_parameter/">函数形参</a>），给函数传递相应的实参，即可调用函数，执行函数体中的代码。</p>
<p>函数调用传递的实参分为：<strong>位置参数</strong>和<strong>关键字参数</strong>。</p>
<ul>
<li>位置参数: 调用函数时，不带标识符（例如 name=）直接按形参位置传递给函数的参数。位置参数可使用 <code>*</code> 将可迭代对象的元素拆包传入函数，但元素个数不能多于可接收位置参数的形参个数，除非有接收多个位置参数的可变位置形参。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,<span style="color:#f92672">*</span>c,d<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">,d=</span><span style="color:#e6db74">{</span>d<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>f(<span style="color:#f92672">*</span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>,<span style="color:#ae81ff">5</span>]) <span style="color:#75715e"># d 只能接收关键字参数</span>
</span></span></code></pre></div><pre><code>a=1,b=2,c=(3, 4, 5),d=None
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,<span style="color:#f92672">*</span>,c<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>) <span style="color:#75715e"># c 只能接收关键字参数</span>
</span></span></code></pre></div><pre><code>a=1,b=2,c=None


---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-2-9cc318bcfef7&gt; in &lt;module&gt;
      2     print(f'a={a},b={b},c={c}')
      3 f(1,2)
----&gt; 4 f(1,2,3)


TypeError: f() takes from 1 to 2 positional arguments but 3 were given
</code></pre>
<ul>
<li>关键字参数: 函数调用中前面带有标识符（例如 name=）传递给函数的参数。关键字参数可以使用 <code>**</code> 将字典里的元素传入函数，但元素个数不能多于可接收关键字参数的形参个数。关键字参数的标识符或字典的键，必须与可接收关键字参数的形参的名称相同，除非有可接收任意关键字参数的可变关键字形参。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a,<span style="color:#f92672">/</span>,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,<span style="color:#f92672">*</span>,c<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>) <span style="color:#75715e"># a 仅限位置传参</span>
</span></span><span style="display:flex;"><span>f(a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>a=1,b=2,c=3


---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-7-3c39aaeac558&gt; in &lt;module&gt;
      3 
      4 f(1,c=3,b=2) # a 仅限位置传参
----&gt; 5 f(a=1,c=3,b=2)


TypeError: f() got some positional-only arguments passed as keyword arguments: 'a'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a,<span style="color:#f92672">/</span>,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,<span style="color:#f92672">**</span>c):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># a 仅限位置，b 没有对应的名称，因此全部传给 c</span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,<span style="color:#f92672">**</span>{<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;d&#39;</span>:<span style="color:#ae81ff">4</span>,<span style="color:#e6db74">&#39;c&#39;</span>:<span style="color:#ae81ff">3</span>})
</span></span></code></pre></div><pre><code>a=1,b=None,c={'a': 1, 'd': 4, 'c': 3}
</code></pre>
<p>位置参数必须在关键字参数前面：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,<span style="color:#f92672">**</span>c):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f(b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>  File &quot;&lt;ipython-input-13-59f3b615f9f3&gt;&quot;, line 4
    f(b=2,1)
          ^
SyntaxError: positional argument follows keyword argument
</code></pre>
<p>位置参数的位置不能传错，关键字参数的则可以任意位置：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a,b<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,<span style="color:#f92672">/</span>,c<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,<span style="color:#f92672">**</span>d):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;a=</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">,b=</span><span style="color:#e6db74">{</span>b<span style="color:#e6db74">}</span><span style="color:#e6db74">,c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">,d=</span><span style="color:#e6db74">{</span>d<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>,d<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>)
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>,d<span style="color:#f92672">=</span><span style="color:#ae81ff">4</span>,c<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>,e<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><pre><code>a=1,b=2,c=3,d={'d': 4}
a=2,b=1,c=3,d={'d': 4, 'e': 5}
</code></pre>
<p>标注并不影响传参规则，但按照标注传参是更明智的做法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(a:int,b:str<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;b&#39;</span>)<span style="color:#f92672">-&gt;</span> str:
</span></span><span style="display:flex;"><span>    print(a<span style="color:#f92672">*</span>b)
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">2</span>,<span style="color:#e6db74">&#39;hi&#39;</span>)
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>hihi
6
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>lambda 函数</h1>

<p>lambda 函数由 lambda 表达式创建，表达式的语法为：</p>
<pre tabindex="0"><code> lambda parameters: expression
</code></pre><p>形参 <code>parameters</code> 是可选的，表达式 <code>expression</code> 会在函数调用时被求值并作为返回值返回。</p>
<p>表达式必须显示地确定为一个表达式，而不能像 return 语句那样返回多个表达式（默认为一个元组）。</p>
<p>lambda 表达式会创建一个没有名字的函数，函数不能包含语句或标注，可以像调用函数一样直接调用它。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#66d9ef">lambda</span> x,y: x<span style="color:#f92672">**</span>y)(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">lambda</span> x,y: x<span style="color:#f92672">**</span>y
</span></span></code></pre></div><pre><code>&lt;function __main__.&lt;lambda&gt;(x, y)&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 返回值必须显示地确定为一个表达式</span>
</span></span><span style="display:flex;"><span>f <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> x: sum(x),max(x),min(x)
</span></span><span style="display:flex;"><span>f([<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-5-1652333b2bc4&gt; in &lt;module&gt;
      1 # 必须显示地确定为一个表达式
----&gt; 2 f = lambda x: sum(x),max(x),min(x)
      3 f([2,3,4])


NameError: name 'x' is not defined
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> x: (sum(x),max(x),min(x))
</span></span><span style="display:flex;"><span>f([<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span></code></pre></div><pre><code>(9, 4, 2)
</code></pre>
<p>lambda 函数通常在以函数作为参数的高阶函数中使用，没有名称，用完即弃。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;2  2&#39;</span>, <span style="color:#e6db74">&#39;2 1 &#39;</span>,<span style="color:#e6db74">&#39;2  3&#39;</span>]
</span></span><span style="display:flex;"><span>sorted(a,key<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> x:<span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(x<span style="color:#f92672">.</span>split()))
</span></span></code></pre></div><pre><code>['2 1 ', '2  2', '2  3']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(map(<span style="color:#66d9ef">lambda</span> x:<span style="color:#e6db74">&#39;&#39;</span><span style="color:#f92672">.</span>join(x<span style="color:#f92672">.</span>split()), a))
</span></span></code></pre></div><pre><code>['22', '21', '23']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>生成器函数</h1>

<p>函数定义中使用了 <a href="/python/10_statement/12_yield/">yield 语句</a>，该定义创建的函数是生成器函数。生成器函数通常也直接叫生成器。</p>
<p>当一个生成器函数被调用的时候，它返回一个迭代器，也称为生成器（全称是生成器迭代器，下面所说生成器均指生成器迭代器）。然后通过这个生成器来控制生成器函数的执行。</p>
<p>生成器是一个迭代器，也是一个可迭代对象。但一个生成器生成的 “元素” 只能被使用一次，原因如下：</p>
<ul>
<li>
<p>迭代生成器的时候，生成器函数开始执行，执行到 yield，然后执行被挂起，给生成器的调用者返回 yield 之后的表达式的值。挂起后，所有局部状态都被保留下来，包括局部变量的当前绑定，指令指针，内部求值栈和任何异常处理的状态。</p>
</li>
<li>
<p>继续迭代生成器，生成器函数从挂起状态继续执行，执行到 yield，然后执行又被挂起，给生成器的调用者返回 yield 之后的表达式的值。</p>
</li>
<li>
<p>生成器迭代完成时，引发 StopIteration。</p>
</li>
</ul>
<p>在一个生成器函数中，return 语句表示生成器已完成并将导致 StopIteration 被引发。返回值（如果有的话）会被当作一个参数用来构建 StopIteration 并成为 StopIteration.value 属性。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>next(g)
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(n):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> n
</span></span><span style="display:flex;"><span>g <span style="color:#f92672">=</span> f(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>print(f)
</span></span><span style="display:flex;"><span>print(g)
</span></span></code></pre></div><pre><code>&lt;function f at 0x000002480120ACA0&gt;
&lt;generator object f at 0x000002480122E040&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>next(g) <span style="color:#75715e"># 迭代结束</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

StopIteration                             Traceback (most recent call last)

&lt;ipython-input-3-c91425ed1388&gt; in &lt;module&gt;
----&gt; 1 next(g) # 迭代结束


StopIteration: 
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(n):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> n
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> n
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> n
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 生成器已完成，后面的不被执行</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;end&#39;</span>
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> n
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>g <span style="color:#f92672">=</span> f(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        print(next(g))
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">StopIteration</span> <span style="color:#66d9ef">as</span> s:
</span></span><span style="display:flex;"><span>        print(s<span style="color:#f92672">.</span>value) <span style="color:#75715e"># StopIteration.value 属性</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 迭代结束，不能再次迭代生成器</span>
</span></span><span style="display:flex;"><span>next(g)
</span></span></code></pre></div><pre><code>0
1
2
end


---------------------------------------------------------------------------

StopIteration                             Traceback (most recent call last)

&lt;ipython-input-10-3ebb4e469fc1&gt; in &lt;module&gt;
     19         break
     20 # 迭代结束，不能再次迭代生成器
---&gt; 21 next(g)


StopIteration: 
</code></pre>
<p><code>yield from</code> 将可迭代对象中的每一项作为生成器的迭代项：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(<span style="color:#f92672">*</span>args):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield from</span> args
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>g <span style="color:#f92672">=</span> f(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>next(g),list(g)
</span></span></code></pre></div><pre><code>(1, [2, 3])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(arg):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield from</span> arg
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>g <span style="color:#f92672">=</span> f(<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span><span style="display:flex;"><span>print(list(g))
</span></span><span style="display:flex;"><span><span style="color:#75715e"># g 使用结束，再次使用什么也没有，创建了一个空列表</span>
</span></span><span style="display:flex;"><span>print(list(g))
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 如要再次使用可再创建一个生成器</span>
</span></span><span style="display:flex;"><span>list(f(<span style="color:#e6db74">&#39;123&#39;</span>))
</span></span></code></pre></div><pre><code>['1', '2', '3']
[]


['1', '2', '3']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>错误和异常</h1>

<p>异常中断代码块的正常控制流程以便处理 <strong>错误</strong> 或 <strong>其他异常条件</strong> 。它是 Python 中的一类对象。一个异常表示一个或一类错误。</p>
<p>异常会在错误被检测到的位置引发，它可以被 <strong>当前包围发生错误的代码块</strong> 或是 <strong>任何直接或间接调用发生错误的代码块的其他代码块</strong> 所处理。</p>
<p>Python 解析器会在检测到代码运行错误的时候引发异常。也可以通过 raise 语句显式地引发异常。</p>
<p>异常处理通过 <a href="../10_statement/14_try">try 语句</a> 来指定。该语句的 finally 子句可被用来指定清理代码，它并不处理异常，而是无论之前的代码是否发生异常都会被执行。</p>
<p>Python 的错误处理采用的是 “终止” 模型：异常处理器可以找出发生了什么问题，并在外层继续执行，但它不能修复错误的根源并重试失败的操作（除非通过从顶层重新进入出错的代码片段）。</p>
<p>当一个异常完全未被处理时，解释器会终止程序的执行，或者返回交互模式。无论是哪种情况，它都会打印栈回溯信息，除非是当异常为 SystemExit 的时候。</p>
<p>异常是通过类实例来标识的。except 子句必须引用实例的类或是其所属的基类。实例可通过处理器被接收，并可携带有关异常条件的附加信息。</p>
<p>在 Python 中，所有异常必须为一个派生自 BaseException 的类的实例。</p>
<p>内置异常类可以被子类化以定义新的异常。鼓励从 Exception 类或它的某个子类而不是从 BaseException 来派生新的异常。</p>
<p>内置异常的类层级结构如下：</p>
<pre tabindex="0"><code>BaseException
+-- SystemExit
+-- KeyboardInterrupt
+-- GeneratorExit
+-- Exception
      +-- StopIteration
      +-- StopAsyncIteration
      +-- ArithmeticError
      | +-- FloatingPointError
      | +-- OverflowError
      | +-- ZeroDivisionError
      +-- AssertionError
      +-- AttributeError
      +-- BufferError
      +-- EOFError
      +-- ImportError
      | +-- ModuleNotFoundError
      +-- LookupError
      | +-- IndexError
      | +-- KeyError
      +-- MemoryError
      +-- NameError
      | +-- UnboundLocalError
      +-- OSError
      | +-- BlockingIOError
      | +-- ChildProcessError
      | +-- ConnectionError
      | | +-- BrokenPipeError
      | | +-- ConnectionAbortedError
      | | +-- ConnectionRefusedError
      | | +-- ConnectionResetError
      | +-- FileExistsError
      | +-- FileNotFoundError
      | +-- InterruptedError
      | +-- IsADirectoryError
      | +-- NotADirectoryError
      | +-- PermissionError
      | +-- ProcessLookupError
      | +-- TimeoutError
      +-- ReferenceError
      +-- RuntimeError
      | +-- NotImplementedError
      | +-- RecursionError
      +-- SyntaxError
      | +-- IndentationError
      | +-- TabError
      +-- SystemError
      +-- TypeError
      +-- ValueError
      | +-- UnicodeError
      | +-- UnicodeDecodeError
      | +-- UnicodeEncodeError
      | +-- UnicodeTranslateError
      +-- Warning
           +-- DeprecationWarning
           +-- PendingDeprecationWarning
           +-- RuntimeWarning
           +-- SyntaxWarning
           +-- UserWarning
           +-- FutureWarning
           +-- ImportWarning
           +-- UnicodeWarning
           +-- BytesWarning
           +-- ResourceWarning
</code></pre>
<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/13_exception/_index.files/01_ex_summary.ipynb">01_ex_summary.ipynb</a> (4 KB)</li>
    <li><a href="/python/13_exception/_index.files/02_handling.ipynb">02_handling.ipynb</a> (7 KB)</li>
    <li><a href="/python/13_exception/_index.files/03_raising.ipynb">03_raising.ipynb</a> (3 KB)</li>
    <li><a href="/python/13_exception/_index.files/04_user_defined.ipynb">04_user_defined.ipynb</a> (3 KB)</li>
    <li><a href="/python/13_exception/_index.files/05_finally.ipynb">05_finally.ipynb</a> (5 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>处理异常</h1>

<p>异常处理通过 try 语句（详细语法及使用规则见 <a href="/python/10_statement/14_try/">try 语句</a>）来实现。</p>
<p>通过 try 语句处理程序已经出现或可能出现异常，使代码能够继续执行，否则异常未被处理，程序终止执行。</p>
<p>例如下列代码要求用户输入有效的整数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        x <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;Please enter a number: &#34;</span>))
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ValueError</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;Oops! That was no valid number. Try again...&#34;</span>)
</span></span></code></pre></div><pre><code>Please enter a number:  3.14


Oops! That was no valid number. Try again...


Please enter a number:  314
</code></pre>
<p>try 语句的工作原理如下：</p>
<ul>
<li>
<p>首先执行 try 子句；</p>
</li>
<li>
<p>如果没有异常发生，则跳过 except 子句并完成 try 语句的执行；</p>
</li>
<li>
<p>如果在执行 try 子句时发生了异常，则跳过该子句中剩下的部分。然后，如果异常的类型和 except 关键字后面的异常匹配，则执行 except 子句，然后继续执行 try 语句之后的代码；</p>
</li>
<li>
<p>如果发生的异常和 except 子句中指定的异常不匹配，则将其传递到外部的 try 语句中；如果没有找到处理程序，则它是一个未处理异常，执行将停止并显示异常信息。</p>
</li>
</ul>
<p>一个 try 语句可能有多个 except 子句，以指定不同异常的处理程序，但最多会执行一个处理程序。</p>
<p>处理程序只处理相应的 try 子句中发生的异常。如果发生的异常和 except 子句中的类是同一个类或者是它的基类，则异常和 except 子句中的类是兼容的。如果首先处理了基类，子类不再被处理（子类也被基类处理了）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>(<span style="color:#a6e22e">Exception</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>(B):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">D</span>(C):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> cls <span style="color:#f92672">in</span> [B, C, D]:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> cls()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> D:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;D&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> C:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;C&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> B:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;B&#34;</span>)
</span></span></code></pre></div><pre><code>B
C
D
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>(<span style="color:#a6e22e">Exception</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>(B):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">D</span>(C):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> cls <span style="color:#f92672">in</span> [B, C, D]:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">raise</span> cls()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> B: <span style="color:#75715e"># 下列都是 B 的子类，不再被处理</span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;B&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> C:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;C&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> D:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;D&#34;</span>)
</span></span></code></pre></div><pre><code>B
B
B
</code></pre>
<p>最后的 except 子句可以省略异常名，以用作通配符。但请谨慎使用，因为以这种方式很容易掩盖真正的编程错误！它还可用于打印错误消息，然后重新引发异常:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ValueError</span> <span style="color:#66d9ef">as</span> v:
</span></span><span style="display:flex;"><span>    print(v)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;Unexpected error:&#34;</span>, sys<span style="color:#f92672">.</span>exc_info()[<span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span>
</span></span></code></pre></div><pre><code>Unexpected error: &lt;class 'ZeroDivisionError'&gt;


---------------------------------------------------------------------------

ZeroDivisionError                         Traceback (most recent call last)

&lt;ipython-input-13-f0b3e840c5ab&gt; in &lt;module&gt;
      2 
      3 try:
----&gt; 4     3/0
      5 except ValueError as v:
      6     print(v)


ZeroDivisionError: division by zero
</code></pre>
<p>可选的 else 子句，在使用时必须放在所有的 except 子句后面。对于在 try 子句不引发异常时必须执行的代码来说很有用：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;../11_built-in_function/test.txt&#39;</span>,
</span></span><span style="display:flex;"><span>             <span style="color:#e6db74">&#39;r&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">OSError</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;cannot open&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(len(f<span style="color:#f92672">.</span>readlines()), <span style="color:#e6db74">&#39;lines&#39;</span>)
</span></span><span style="display:flex;"><span>    f<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><pre><code>3 lines
</code></pre>
<p>异常处理程序不仅处理 try 子句中遇到的异常，还处理 try 子句中调用（即使是间接地）的函数内部发生的异常。</p>
<p>如果 try 子句中有多个可能的异常，只处理最先引发的：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    f() <span style="color:#f92672">*</span> int(<span style="color:#e6db74">&#39;a&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">ValueError</span> <span style="color:#66d9ef">as</span> v:
</span></span><span style="display:flex;"><span>    print(v)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span>  <span style="color:#a6e22e">ZeroDivisionError</span> <span style="color:#66d9ef">as</span> z:
</span></span><span style="display:flex;"><span>    print(z)
</span></span></code></pre></div><pre><code>division by zero
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>抛出异常</h1>

<p><a href="/python/10_statement/15_raise/">raise 语句</a> 允许强制发生指定的异常。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">NameError</span>(<span style="color:#e6db74">&#39;HiThere&#39;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-1-72c183edb298&gt; in &lt;module&gt;
----&gt; 1 raise NameError('HiThere')


NameError: HiThere
</code></pre>
<p>如果你需要确定是否引发了异常但不打算处理它，则可以使用更简单的 raise 语句形式重新引发异常:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span> <span style="color:#a6e22e">NameError</span>(<span style="color:#e6db74">&#39;HiThere&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">except</span> <span style="color:#a6e22e">NameError</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;An exception flew by!&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">raise</span>
</span></span></code></pre></div><pre><code>An exception flew by!


---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-2-bf6ef4926f8c&gt; in &lt;module&gt;
      1 try:
----&gt; 2     raise NameError('HiThere')
      3 except NameError:
      4     print('An exception flew by!')
      5     raise


NameError: HiThere
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>自定义异常</h1>

<p>可以通过创建新的异常类来自定义代码执行错误引发的异常。许多标准模块定义了它们自己的异常，以报告它们定义的函数中可能出现的错误。</p>
<p>异常通常应该直接或间接地从 Exception 类派生。定义的异常类，可以执行任何其他类可以执行的任何操作，但通常保持简单，只提供一些属性，这
些属性允许处理程序为异常提取有关错误的信息。</p>
<p>在创建可能引发多个不同错误的模块时，通常的做法是为该模块定义的异常创建基类，并为不同错误条件创建特定异常类的子类。大多数异常都定义为名称以 <code>Error</code> 结尾，类似于标准异常的命名:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Error</span>(<span style="color:#a6e22e">Exception</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Base class for exceptions in this module.&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">InputError</span>(Error):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Exception raised for errors in the input.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Attributes:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        expression -- input expression in which the error occurred
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        message -- explanation of the error
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, expression, message):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>expression <span style="color:#f92672">=</span> expression
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>message <span style="color:#f92672">=</span> message
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">TransitionError</span>(Error):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;Raised when an operation attempts a state transition that&#39;s not allowed.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    Attributes:
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        previous -- state at beginning of transition
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        next -- attempted new state
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        message -- explanation of why the specific transition is not allowed
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, previous, next, message):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>previous <span style="color:#f92672">=</span> previous
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>next <span style="color:#f92672">=</span> next
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>message <span style="color:#f92672">=</span> message
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">raise</span> InputError(<span style="color:#ae81ff">3</span><span style="color:#f92672">/</span><span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;分母不能为 1&#39;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

InputError                                Traceback (most recent call last)

&lt;ipython-input-2-d0c6938bc1c4&gt; in &lt;module&gt;
     29         self.message = message
     30 
---&gt; 31 raise InputError(3/1,'分母不能为 1')


InputError: (3.0, '分母不能为 1')
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>finally 清理操作</h1>

<p>try 语句有另一个可选子句 finally，用于定义必须在所有情况下执行的清理操作（详见 <a href="/python/10_statement/14_try/">try 语句</a>）。</p>
<p>例如，在 finally 子句中关闭打开的文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_file</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;../11_built-in_function/test.txt&#39;</span>,
</span></span><span style="display:flex;"><span>                encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> f<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">OSError</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;不能打开&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;执行清理操作&#39;</span>)
</span></span><span style="display:flex;"><span>        f<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>read_file() <span style="color:#75715e"># 先执行关闭，在执行返回</span>
</span></span></code></pre></div><pre><code>执行清理操作


'xue.cn\n\n自学是门手艺'
</code></pre>
<p>如果 finally 子句中引发了新的异常，清理操作本身无效，则达不到清理目的：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_file</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">try</span>:
</span></span><span style="display:flex;"><span>        f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;../11_built-in_function/test.txt&#39;</span>,
</span></span><span style="display:flex;"><span>                encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> f<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">except</span> <span style="color:#a6e22e">OSError</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;不能打开&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">finally</span>:
</span></span><span style="display:flex;"><span>        print(执行清理操作) <span style="color:#75715e"># 清理操作引发异常</span>
</span></span><span style="display:flex;"><span>        f<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>read_file() 
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-13-af7cdb6d88f0&gt; in &lt;module&gt;
     10         f.close()
     11 
---&gt; 12 read_file() # 先执行关闭，在执行返回


&lt;ipython-input-13-af7cdb6d88f0&gt; in read_file()
      7         print('不能打开')
      8     finally:
----&gt; 9         print(执行清理操作) # 清理操作引发异常
     10         f.close()
     11 


NameError: name '执行清理操作' is not defined
</code></pre>
<p>某些对象（例如文件对象）定义了在不再需要该对象时，要执行的标准清理操作，无论使用该对象的操作是成功还是失败，清理操作都会被执行。此时使用 with 语句允许像文件这样的对象能够以一种确保它们得到及时和正确的清理的方式使用。</p>
<p>with 语句相当于将引发异常情况下的清理操作放到了 except 子句中，正常情况下的清理操作放到了 finally 子句中。详情见 <a href="/python/10_statement/16_with/">with 语句</a>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">read_file</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">with</span> open(<span style="color:#e6db74">&#39;../11_built-in_function/test.txt&#39;</span>,
</span></span><span style="display:flex;"><span>                encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>) <span style="color:#66d9ef">as</span> f:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> f<span style="color:#f92672">.</span>read()
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>read_file()
</span></span></code></pre></div><pre><code>'xue.cn\n\n自学是门手艺'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>文件对象概述</h1>

<p>文件对象是指对外提供面向文件 API 以使用下层资源的对象（带有 read() 或 write() 这样的方法），也被称作<strong>流</strong>或<strong>文件类对象</strong>。</p>
<p>有三种类别的文件对象: 原始二进制文件, 缓冲二进制文件 以及
文本文件。三种类别下还有子类别，因创建方式的不同得到不同类别文件对象。它们的接口定义均在 io 模块中。创建文件对象的规范方式是使用 <a href="../11_built-in_function/45_open">open() 函数</a>。</p>
<p>用户代码直接操作原始流的用法非常罕见。不过，可以通过在禁用缓冲的情况下以二进制模式打开文件来创建原始流：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#34;test.txt&#34;</span>,<span style="color:#e6db74">&#34;rb&#34;</span>, buffering<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>f
</span></span></code></pre></div><pre><code>&lt;_io.FileIO name='test.txt' mode='rb' closefd=True&gt;
</code></pre>
<p>缓冲二进制流不执行编码、解码或换行转换。这种类型的流可以用于所有类型的非文本数据（例如图片，视频），并且还可以在需要手动控制文本数据的处理时使用。创建缓冲二进制流的最简单方法是使用 open()，并在模式中指定 &lsquo;b&rsquo;：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#34;test.txt&#34;</span>,<span style="color:#e6db74">&#34;rb&#34;</span>)
</span></span><span style="display:flex;"><span>f
</span></span></code></pre></div><pre><code>&lt;_io.BufferedReader name='test.txt'&gt;
</code></pre>
<p>文本流生成 str 对象。这意味着，无论何时后台存储是由字节组成的，数据的编码和解码都是透明的，并且可以选择转换特定于平台的换行符。创建文本流的最简单方法是使用 open()，可以选择指定编码：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#34;test.txt&#34;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>)
</span></span><span style="display:flex;"><span>f
</span></span></code></pre></div><pre><code>&lt;_io.TextIOWrapper name='test.txt' mode='r' encoding='utf-8'&gt;
</code></pre>
<p>所有流对提供给它们的数据类型都很敏感。例如将 str 对象给二进制流的 write() 方法会引发 TypeError。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#34;test.txt&#34;</span>,<span style="color:#e6db74">&#34;ab&#34;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;写入内容&#39;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-19-a9efd264aca2&gt; in &lt;module&gt;
      1 f = open(&quot;test.txt&quot;,&quot;ab&quot;)
----&gt; 2 f.write('写入内容')


TypeError: a bytes-like object is required, not 'str'
</code></pre>
<p>内存中的流也可以作为文件对象使用：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> io
</span></span><span style="display:flex;"><span>f <span style="color:#f92672">=</span> io<span style="color:#f92672">.</span>StringIO(<span style="color:#e6db74">&#34;some initial text data&#34;</span>)
</span></span><span style="display:flex;"><span>print(f)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>read()
</span></span></code></pre></div><pre><code>&lt;_io.StringIO object at 0x000001BE348D2040&gt;


'some initial text data'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> io<span style="color:#f92672">.</span>BytesIO(<span style="color:#e6db74">b</span><span style="color:#e6db74">&#34;some initial binary data: </span><span style="color:#ae81ff">\x00\x01</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(f)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>read()
</span></span></code></pre></div><pre><code>&lt;_io.BytesIO object at 0x000001BE348D3310&gt;


b'some initial binary data: \x00\x01'
</code></pre>
<p>open() 函数打开文件，创建流后，会使文件在一段不确定的时间内处于打开状态。这在简单脚本中不是问题，但对于较大的应用程序来说可能是个问题。此时用 close() 方法刷新并关闭流（或直接使用 with 语句打开）是明智的做法。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#34;test.txt&#34;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span>)
</span></span><span style="display:flex;"><span>print(f<span style="color:#f92672">.</span>read())
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><pre><code>为什么要掌握自学能力？
未来还很长。
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/14_file/_index.files/01_file_summary.ipynb">01_file_summary.ipynb</a> (6 KB)</li>
    <li><a href="/python/14_file/_index.files/02_read.ipynb">02_read.ipynb</a> (8 KB)</li>
    <li><a href="/python/14_file/_index.files/03_write.ipynb">03_write.ipynb</a> (6 KB)</li>
    <li><a href="/python/14_file/_index.files/test.txt">test.txt</a> (137 B)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>读取文件内容</h1>

<p>打开方式不同，会创建不同类型的文件对象（流），不同类型的文件对象，可能有不同的属性或方法。</p>
<p>下列检查或读取内容的属性或方法，是多数文件对象通用的：</p>
<ul>
<li>readable() 如果可以读取流，则返回 True 。否则为 False ，且 read() 将引发 OSError 错误。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>readable()
</span></span></code></pre></div><pre><code>True
</code></pre>
<ul>
<li>
<p>read(size=-1) 从对象中读取 size 个字节并将其返回。作为一个便捷选项，如果 size 未指定或为 -1，则返回所有字节直到 EOF。流的位置与读取内容同步，不重设流的位置，内容只能被读取一次。</p>
</li>
<li>
<p>tell() 返回当前流的位置。</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>read()
</span></span></code></pre></div><pre><code>'为什么一定要掌握自学能力？\n未来的日子还很长，\n这世界进步得太快，\n没有自学能力，\n没有未来。'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>read(<span style="color:#ae81ff">12</span>)
</span></span></code></pre></div><pre><code>'为什么一定要掌握自学能力'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>tell()
</span></span></code></pre></div><pre><code>36
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>read() <span style="color:#75715e"># 再次读取，将读取剩下未读部分</span>
</span></span></code></pre></div><pre><code>'？\n未来的日子还很长，\n这世界进步得太快，\n没有自学能力，\n没有未来。'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>read() <span style="color:#75715e"># 已经没有内容</span>
</span></span></code></pre></div><pre><code>''
</code></pre>
<ul>
<li>seek(offset, whence=0) 将流位置修改到给定的字节 offset。返回新的绝对位置。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>seek(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>read() <span style="color:#75715e"># 从新位置读取</span>
</span></span></code></pre></div><pre><code>'为什么一定要掌握自学能力？\n未来的日子还很长，\n这世界进步得太快，\n没有自学能力，\n没有未来。'
</code></pre>
<ul>
<li>readline(size=-1) 从流中读取并返回一行。如果指定了 size，将至多读取 size 个字节。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>readline()
</span></span></code></pre></div><pre><code>'为什么一定要掌握自学能力？\n'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>readline(<span style="color:#ae81ff">2</span>) <span style="color:#75715e"># 再次读取，将读取剩下未读部分</span>
</span></span></code></pre></div><pre><code>'未来'
</code></pre>
<ul>
<li>readlines(hint=-1) 从流中读取并返回包含多行的列表。可以指定 hint 来控制要读取的行数。指定行数可以多于实际。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>readlines(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>['为什么一定要掌握自学能力？\n']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>readlines(<span style="color:#ae81ff">10</span>) <span style="color:#75715e"># 再次读取，将读取剩下未读部分</span>
</span></span></code></pre></div><pre><code>['未来的日子还很长，\n', '这世界进步得太快，\n']
</code></pre>
<ul>
<li>使用 <code>for line in file: ...</code> 就足够对文件对象进行迭代了，可以不必调用 file.readlines()。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> line <span style="color:#f92672">in</span> f:
</span></span><span style="display:flex;"><span>    print(line)
</span></span></code></pre></div><pre><code>为什么一定要掌握自学能力？

未来的日子还很长，

这世界进步得太快，

没有自学能力，

没有未来。
</code></pre>
<ul>
<li>closed 如果流已关闭，则返回 True。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>closed
</span></span></code></pre></div><pre><code>False
</code></pre>
<ul>
<li>close() 刷新并关闭此流。无论读写操作，最后都应该关闭流。如果文件已经关闭，则此方法无效。文件关闭后，对文件的任何操作（例如读取或写入）都会引发 ValueError 。为方便起见，允许多次调用此方法。但是，只有第一个调用才会生效。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>closed
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>文件写入内容</h1>

<p>打开方式不同，会创建不同类型的文件对象（流），不同类型的文件对象，可能有不同的属性或方法。</p>
<p>打开模式不同，写入内容的方式也会不同，详见 <a href="/python/11_built-in_function/45_open/">open() 打开文件</a>。</p>
<p>下列检查或写入内容的属性或方法，是多数文件对象通用的：</p>
<ul>
<li>writable() 如果流支持写入则返回 True。如为 False，则 write() 将引发 OSError。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>,<span style="color:#e6db74">&#39;a&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>writable()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>writable()
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;这世界进步得太快，&#39;</span>)
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

UnsupportedOperation                      Traceback (most recent call last)

&lt;ipython-input-1-7bf449cf8958&gt; in &lt;module&gt;
      1 f = open('test.txt')
      2 f.writable()
----&gt; 3 f.write('这世界进步得太快，')


UnsupportedOperation: not writable
</code></pre>
<ul>
<li>write() 将字符串或字节串写入到流并返回写入的字符或字节数。对于阻塞流（需要刷新才能将内容写入文件），写入内容在缓冲区（打开文件看不到写入的内容）。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>,<span style="color:#e6db74">&#39;a+&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">这世界进步得太快，&#39;</span>)
</span></span></code></pre></div><pre><code>10
</code></pre>
<ul>
<li>flush() 刷新流的写入缓冲区（打开文件将看到写入的内容）。这对只读和非阻塞流不起作用。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>flush()
</span></span></code></pre></div><ul>
<li>writelines(lines) 将行列表写入到流。不会添加行分隔符，因此通常所提供的每一行都带有末尾行分隔符。对于阻塞流，写入内容在缓冲区。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;test.txt&#39;</span>,<span style="color:#e6db74">&#39;a+&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>writelines([<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">没有自学能力，</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>, <span style="color:#e6db74">&#39;没有未来。&#39;</span>])
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>tell() <span style="color:#75715e"># 流的位置在末尾</span>
</span></span></code></pre></div><pre><code>137
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>read() <span style="color:#75715e"># 从末尾读取内容为空</span>
</span></span></code></pre></div><pre><code>''
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>seek(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>) <span style="color:#75715e"># 重设流的位置为开头</span>
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>read()
</span></span></code></pre></div><pre><code>'为什么一定要掌握自学能力？\n未来的日子还很长，\n这世界进步得太快，\n没有自学能力，\n没有未来。'
</code></pre>
<ul>
<li>closed 如果流已关闭，则返回 True。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>closed
</span></span></code></pre></div><pre><code>False
</code></pre>
<ul>
<li>close() 刷新并关闭此流。无论读写操作，最后都应该关闭流。如果文件已经关闭，则此方法无效。文件关闭后，对文件的任何操作（例如读取或写入）都会引发 ValueError 。为方便起见，允许多次调用此方法。但是，只有第一个调用才会生效。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>closed
</span></span></code></pre></div><pre><code>True
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>模块概述</h1>

<p>模块是 Python 代码的一种组织单位，也是一种对象。各模块具有独立的命名空间，可包含任意 Python 对象。</p>
<p>一个 <code>.py</code> 文件是一个模块；一个文件夹是一个模块（包）；文件夹（包）中还可以再有 <code>.py</code> 文件（子模块）和文件夹（子包）。例如 内置模块 random，和第三方包 pandas。</p>
<p>文件夹中包含一个 <code>__init__.py</code> 文件的包是常规包；无 <code>__init__.py</code> 文件的是命名空间包，仅被用作子包的容器。</p>
<p>模块无论是用 Python、C 还是别的语言实现均可。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> random<span style="color:#f92672">,</span> pandas
</span></span><span style="display:flex;"><span>type(random), type(pandas)
</span></span></code></pre></div><pre><code>(module, module)
</code></pre>
<p>所有包都是模块，但并非所有模块都是包。或者换句话说，包只是一种特殊的模块。</p>
<p>可以使用属性 <code>__packge__</code> 查看包名，如果只是模块不是包，该属性为空字符串。</p>
<p><code>__name__</code> 属性是模块的名字。</p>
<p>特别地，主模块（你正在运行代码的当前模块）的 <code>__packge__</code> 属性总是 None；<code>__name__</code> 属性总是 <code>'__main__'</code> （<code>__main__</code> 是一个在解释器启动时直接初始化的特殊模块），这可以控制当前模块能够执行，而导入到其他模块不能被执行的代码，然后用来测试当前模块。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>random<span style="color:#f92672">.</span>__package__, pandas<span style="color:#f92672">.</span>__package__
</span></span></code></pre></div><pre><code>('', 'pandas')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(__package__)
</span></span></code></pre></div><pre><code>None
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>random<span style="color:#f92672">.</span>__name__, pandas<span style="color:#f92672">.</span>__name__
</span></span></code></pre></div><pre><code>('random', 'pandas')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>__name__
</span></span></code></pre></div><pre><code>'__main__'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    print(a<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>print(a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 以下代码导入其他模块不会执行</span>
</span></span><span style="display:flex;"><span>    print(a <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>0
True
</code></pre>
<p>使用 import 语句将其他模块导入当前模块；使用属性表示法调用模块中的属性。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>core
</span></span></code></pre></div><pre><code>&lt;module 'pandas.core' from 'C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pandas\\core\\__init__.py'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>core<span style="color:#f92672">.</span>series<span style="color:#f92672">.</span>Series
</span></span></code></pre></div><pre><code>pandas.core.series.Series
</code></pre>
<p>还可以以脚本的方式执行不属于包的模块（此时 <code>__name__</code> 属性为 <code>&quot;__main__&quot;</code>）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> this
</span></span><span style="display:flex;"><span>this
</span></span></code></pre></div><pre><code>The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!


&lt;module 'this' from 'C:\\ProgramData\\Anaconda3\\lib\\this.py'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># %run 是 jupyter 的魔法命令，在终端使用 python 命令</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># F:\anaconda\lib\this.py 根据自己电脑的路径调整</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">%</span>run F:\anaconda\lib\this<span style="color:#f92672">.</span>py
</span></span></code></pre></div><pre><code>The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/15_module/_index.files/__init__.py">__init__.py</a> (26 B)</li>
    <li><a href="/python/15_module/_index.files/01_module_summary.ipynb">01_module_summary.ipynb</a> (8 KB)</li>
    <li><a href="/python/15_module/_index.files/02_create_module.ipynb">02_create_module.ipynb</a> (5 KB)</li>
    <li><a href="/python/15_module/_index.files/04_executable_file.ipynb">04_executable_file.ipynb</a> (5 KB)</li>
    <li><a href="/python/15_module/_index.files/05_import_code.ipynb">05_import_code.ipynb</a> (12 KB)</li>
    <li><a href="/python/15_module/_index.files/mycode.py">mycode.py</a> (195 B)</li>
    <li><a href="/python/15_module/_index.files/space.py">space.py</a> (0 B)</li>
    <li><a href="/python/15_module/_index.files/test.py">test.py</a> (51 B)</li>
    <li><a href="/python/15_module/_index.files/xue.py">xue.py</a> (26 B)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>创建模块</h1>

<p>创建一个模块非常简单，有两种方式：</p>
<ul>
<li>
<p>创建一个 <code>.py</code> 文件，即可创建一个模块；</p>
</li>
<li>
<p>创建一个文件夹，则该文件夹也是一个模块（包）。</p>
</li>
</ul>
<p>模块中可以无任何内容。但模块是用来组织代码，实现处理各类问题或完成各种功能的，这更便于应用或开发。例如正则模块 re，科学计算库 pandas 等。</p>
<p>创建一个文件夹，如果文件夹中包含一个 <code>__init__.py</code> 模块，则该文件夹是一个常规包；否则是一个命名空间包。包中还可以再创建子包或子模块。</p>
<p><code>__init__.py</code> 文件中可以无任何内容，但因为当一个常规包被导入时，这个 <code>__init__.py</code> 文件会隐式地被执行，所以通常用来写入一些导入包即可执行的代码，或导入子包，或导入子包中模块的属性等，从而可以直接调用某些属性，例如 pandas 包的文档描述属性 <code>__doc__</code> 和 DataFrame 数据结构。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> folder <span style="color:#75715e"># 创建的空文件夹</span>
</span></span><span style="display:flex;"><span>folder
</span></span></code></pre></div><pre><code>&lt;module 'folder' (namespace)&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>__doc__)
</span></span></code></pre></div><pre><code>pandas - a powerful data analysis and manipulation library for Python
=====================================================================

**pandas** is a Python package providing fast, flexible, and expressive data
structures designed to make working with &quot;relational&quot; or &quot;labeled&quot; data both
easy and intuitive. It aims to be the fundamental high-level building block for
doing practical, **real world** data analysis in Python. Additionally, it has
the broader goal of becoming **the most powerful and flexible open source data
analysis / manipulation tool available in any language**. It is already well on
its way toward this goal.

Main Features
-------------
Here are just a few of the things that pandas does well:

  - Easy handling of missing data in floating point as well as non-floating
    point data.
  - Size mutability: columns can be inserted and deleted from DataFrame and
    higher dimensional objects
  - Automatic and explicit data alignment: objects can be explicitly aligned
    to a set of labels, or the user can simply ignore the labels and let
    `Series`, `DataFrame`, etc. automatically align the data for you in
    computations.
  - Powerful, flexible group by functionality to perform split-apply-combine
    operations on data sets, for both aggregating and transforming data.
  - Make it easy to convert ragged, differently-indexed data in other Python
    and NumPy data structures into DataFrame objects.
  - Intelligent label-based slicing, fancy indexing, and subsetting of large
    data sets.
  - Intuitive merging and joining data sets.
  - Flexible reshaping and pivoting of data sets.
  - Hierarchical labeling of axes (possible to have multiple labels per tick).
  - Robust IO tools for loading data from flat files (CSV and delimited),
    Excel files, databases, and saving/loading data from the ultrafast HDF5
    format.
  - Time series-specific functionality: date range generation and frequency
    conversion, moving window statistics, date shifting and lagging.
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 直接调用子包 core 中模块 frame 的属性 DataFrame</span>
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>DataFrame
</span></span></code></pre></div><pre><code>pandas.core.frame.DataFrame
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>可执行文件</h1>

<p>每一个 <code>.py</code> 文件模块，都是 Python 的可执行文件。文件内容可以为空，但执行什么也不发生。</p>
<p>你可以在某些编辑工具里打开文件执行，也可以在命令行使用 <code>python 文件路径</code> 或 <code>python -m 模块</code> 的方式执行。这些方式都是主模块中直接执行文件。</p>
<p>主模块（你正在运行代码的当前模块）的 <code>__name__</code> 属性总是 <code>'__main__'</code> （<code>__main__</code> 是一个在解释器启动时直接初始化的特殊模块），因此直接执行文件，<code>if __name__ == '__main__':</code> 语句下的代码一定会被执行，而如果导入到其他模块则不会。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>__name__
</span></span></code></pre></div><pre><code>'__main__'
</code></pre>
<p>下面举例说明：</p>
<p>当前文件路径下，有一个 <code>myfile</code> 的包，包里有 <code>space.py</code> 和 <code>mycode.py</code> 模块，内容如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># space.py 为空</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># mycode.py 的内容, 在此源码直接执行</span>
</span></span><span style="display:flex;"><span>_a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;自学&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__f</span>():
</span></span><span style="display:flex;"><span>    print(_a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>msg1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是mycode模块中的代码&#39;</span>
</span></span><span style="display:flex;"><span>print(msg1)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    msg2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是导入其他模块不会执行的代码&#39;</span>
</span></span><span style="display:flex;"><span>    print(msg2)
</span></span></code></pre></div><pre><code>我是mycode模块中的代码
我是导入其他模块不会执行的代码
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 导入不会执行 __name__ == &#39;__main__&#39; 下面的代码</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> myfile <span style="color:#f92672">import</span> mycode
</span></span><span style="display:flex;"><span>print(mycode<span style="color:#f92672">.</span>msg1)
</span></span><span style="display:flex;"><span>mycode<span style="color:#f92672">.</span>msg2
</span></span></code></pre></div><pre><code>我是mycode模块中的代码
我是mycode模块中的代码


---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

~\AppData\Local\Temp/ipykernel_21344/86150704.py in &lt;module&gt;
      2 from myfile import mycode
      3 print(mycode.msg1)
----&gt; 4 mycode.msg2


AttributeError: module 'myfile.mycode' has no attribute 'msg2'
</code></pre>
<p>命令行直接执行模块效果同上。下面使用命令执行（<code>%run</code> 是 jupyter 的魔法命令，终端请改为 <code>python</code>）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 文件路径必须带 .py，可以是相对或绝对路径</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">%</span>run myfile<span style="color:#f92672">/</span>space<span style="color:#f92672">.</span>py 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">%</span>run myfile<span style="color:#f92672">/</span>mycode<span style="color:#f92672">.</span>py
</span></span></code></pre></div><pre><code>我是mycode模块中的代码
我是导入其他模块不会执行的代码
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> warnings <span style="color:#75715e"># 忽略警告</span>
</span></span><span style="display:flex;"><span>warnings<span style="color:#f92672">.</span>filterwarnings(<span style="color:#e6db74">&#34;ignore&#34;</span>) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 模块可以使用属性表示法，但不能有 .py</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">%</span>run <span style="color:#f92672">-</span>m myfile<span style="color:#f92672">.</span>mycode 
</span></span></code></pre></div><pre><code>我是mycode模块中的代码
我是导入其他模块不会执行的代码
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>导入操作</h1>

<p>导入操作使用 import 语句，详细的语法规则查看 <a href="/python/10_statement/18_import/">import 导入语句</a>。</p>
<ul>
<li><code>import ...</code> 只能导入模块：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> random <span style="color:#66d9ef">as</span> r<span style="color:#f92672">,</span> pandas.core <span style="color:#66d9ef">as</span> pc
</span></span><span style="display:flex;"><span>r, pc
</span></span></code></pre></div><pre><code>(&lt;module 'random' from 'F:\\anaconda\\lib\\random.py'&gt;,
 &lt;module 'pandas.core' from 'F:\\anaconda\\lib\\site-packages\\pandas\\core\\__init__.py'&gt;)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 导入方法报错</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> random.randint
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

ModuleNotFoundError                       Traceback (most recent call last)

&lt;ipython-input-2-8d4ecd1fe339&gt; in &lt;module&gt;
      1 # 导入方法报错
----&gt; 2 import random.randint


ModuleNotFoundError: No module named 'random.randint'; 'random' is not a package
</code></pre>
<ul>
<li><code>from ... import ...</code> 从模块中导入子模块，类，函数等：</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pandas <span style="color:#f92672">import</span> core
</span></span><span style="display:flex;"><span>core
</span></span></code></pre></div><pre><code>&lt;module 'pandas.core' from 'F:\\anaconda\\lib\\site-packages\\pandas\\core\\__init__.py'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> pandas <span style="color:#f92672">import</span> DataFrame <span style="color:#66d9ef">as</span> df
</span></span><span style="display:flex;"><span>df
</span></span></code></pre></div><pre><code>pandas.core.frame.DataFrame
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> randint
</span></span><span style="display:flex;"><span>randint
</span></span></code></pre></div><pre><code>&lt;bound method Random.randint of &lt;random.Random object at 0x000001E44ED52020&gt;&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> math <span style="color:#f92672">import</span> pi
</span></span><span style="display:flex;"><span>pi
</span></span></code></pre></div><pre><code>3.141592653589793
</code></pre>
<ul>
<li><code>from ... import *</code> 将导入模块中所有的公有属性：</li>
</ul>
<p>当前文件路径下，有一个 <code>myfile</code> 的包，包里有 <code>space.py</code>，<code>mycode.py</code> 和 <code>__init__.py</code> 等模块，<code>__init__.py</code> 内容为空，则 <code>myfile</code> 包里的模块都不是它的属性，无法导入</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> myfile
</span></span><span style="display:flex;"><span>dir(myfile)
</span></span></code></pre></div><pre><code>['__builtins__',
 '__cached__',
 '__doc__',
 '__file__',
 '__loader__',
 '__name__',
 '__package__',
 '__path__',
 '__spec__']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> myfile <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span>mycode
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

~\AppData\Local\Temp/ipykernel_21108/1508979804.py in &lt;module&gt;
      1 from myfile import *
----&gt; 2 mycode


NameError: name 'mycode' is not defined
</code></pre>
<p>如果在文件 <code>__init__.py</code> 中我们定义了属性 <code>__all__</code> ，从包 <code>myfile</code> 导入则只能导入该属性中的列出名称。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 修改 myfile/__init__.py</span>
</span></span><span style="display:flex;"><span>__all__ <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;mycode&#39;</span>,<span style="color:#e6db74">&#39;xue&#39;</span>]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> myfile <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span>mycode
</span></span></code></pre></div><pre><code>我是mycode模块中的代码


&lt;module 'myfile.mycode' from 'D:\\Jupyter\\jupyter\\jupyter-python\\15_module\\myfile\\mycode.py'&gt;
</code></pre>
<p>在文件 <code>myfile/mycode.py</code> 中，以下划线打头的属性名，从模块 <code>mycode.mycode</code> 导入时都不可导入。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># myfile/mycode.py</span>
</span></span><span style="display:flex;"><span>_a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;自学&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__f</span>():
</span></span><span style="display:flex;"><span>    print(_a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>msg1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是mycode模块中的代码&#39;</span>
</span></span><span style="display:flex;"><span>print(msg1)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    msg2 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;我是导入其他模块不会执行的代码&#39;</span>
</span></span><span style="display:flex;"><span>    print(msg2)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> myfile.mycode <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span>_a
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

~\AppData\Local\Temp/ipykernel_9512/1217097939.py in &lt;module&gt;
      1 from myfile.mycode import *
----&gt; 2 _a


NameError: name '_a' is not defined
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>__f
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

~\AppData\Local\Temp/ipykernel_9512/3733874203.py in &lt;module&gt;
----&gt; 1 __f


NameError: name '__f' is not defined
</code></pre>
<p>通常情况下不应使用这个功能，因为它在解释器中引入了一组未知的名称，而它们很可能会覆盖一些你已经定义过的名称。而且会导致代码的可读性很差。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 其他方式则可以导入</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> myfile.mycode <span style="color:#f92672">import</span> __f
</span></span><span style="display:flex;"><span>print(__f)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> __f
</span></span></code></pre></div><pre><code>&lt;function __f at 0x00000157E4BA53A0&gt;
</code></pre>
<ul>
<li>相对导入：</li>
</ul>
<p>存在相对导入代码的模块，通常是不能直接执行的。因为直接执行，解释器认为该模块即为顶级模块，属性 <code>__package__</code> 的值为 None。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(__package__)
</span></span></code></pre></div><pre><code>None
</code></pre>
<p>但可以使用 <code>python -m 模块</code> 命令直接执行。</p>
<p>例如，当前文件路径下，文件 <code>myfile/test.py</code> 中相对导入的代码可以使用 <code>python -m 模块</code> 命令直接执行，因为该命令将属性 <code>__package__</code> 重新设置为顶级模块的名称：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># xue.py 模块在 myfile 包中，内容是 “msg = &#39;自学是门手艺&#39;”</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># myfile/test.py 的内容</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> . <span style="color:#f92672">import</span> xue
</span></span><span style="display:flex;"><span>print(xue<span style="color:#f92672">.</span>msg)
</span></span><span style="display:flex;"><span>print(__package__)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">%</span>run <span style="color:#f92672">-</span>m myfile<span style="color:#f92672">.</span>test
</span></span></code></pre></div><pre><code>自学是门手艺
myfile
</code></pre>
<p>模块导入之后，即可使用属性表示法调用模块中属性：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> random<span style="color:#f92672">,</span> math
</span></span><span style="display:flex;"><span>random<span style="color:#f92672">.</span>randint, math<span style="color:#f92672">.</span>pi
</span></span></code></pre></div><pre><code>(&lt;bound method Random.randint of &lt;random.Random object at 0x000002811CF98C80&gt;&gt;,
 3.141592653589793)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          <article class="default">
<h1>面向对象概述</h1>

<h2 id="面向对象概述">面向对象概述</h2>
<p>面向对象是一种对现实世界理解和抽象的方法，是计算机编程技术发展到一定阶段后的产物。它把相关的数据和方法组织为一个整体来看待，从更高的层次来进行系统建模，更贴近事物的自然运行模式。</p>
<p>例如生活中我们会遇到各种数字及其运算，于是计算机科学家们就把数字抽象出来，成为一类对象。它们有别于其他事物（例如文字，图像）的特征，有自己的一套运算、操作方法。</p>
<p>Python 中的数字当然非常类似数学中的数字，但也受限于计算机中的数字表示方法。</p>
<p>为了方便，又把数字这一类对象，基本分成了整数，浮点数，复数三类对象。这对应 Python 中的 int，float，comlex 三种数字类型，三种数字类型下具体的整数，浮点数，复数也是对象。它们有共同的特征和计算方法，也有各自特有的特征和方法。例如都可以进行加减乘除，只有整数有按位运算。</p>
<p>整数中，0 和 1 的特殊性，又使得可以将整数类中再分出一类对象，布尔类型对象。布尔类型的对象，只有两个对象，True 和 False。</p>
<p>从数字类对象，到三类数字对象，到布尔类对象，到具体的数字对象以及 True 和 False 对象，层层细分，最终是具体的一个个对象，它们都是对象。这也是为什么称 Python 一切皆对象的原因。</p>
<p>类似地，对数据，因为要实现的目的不同，将装数据的 “容器” 分为字符串，列表，元组，集合，字典等类型的对象。</p>
<p>函数抽象出函数对象，模块又抽象出模块对象…… 甚至连空都是对象（None）。</p>
<p>具体的对象，称为实例，它归属于某个类。而所有的类，又都是 object 对象的子类。各种类（类型），又统一归为类型对象（type)。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(<span style="color:#ae81ff">1</span>), isinstance(<span style="color:#ae81ff">1</span>,int) <span style="color:#75715e"># 1 是 int 类的实例</span>
</span></span></code></pre></div><pre><code>(int, True)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>issubclass(int,object) <span style="color:#75715e"># int 类是 object 的子类</span>
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(int), isinstance(int,type) <span style="color:#75715e"># int 是 type 的实例</span>
</span></span></code></pre></div><pre><code>(type, True)
</code></pre>
<p>按照面向对象的思想，我们可以定义一个 “人” 类对象，然后很方便地给这个 “人” 加上现有的各种函数，类，以及模块的功能，造出更多更多有各种特异功能的 “人”。这是不是非常伟大的设计思想呢？</p>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/python/16_class/_index.files/01_class_summary.ipynb">01_class_summary.ipynb</a> (3 KB)</li>
    <li><a href="/python/16_class/_index.files/02_class_definition.ipynb">02_class_definition.ipynb</a> (5 KB)</li>
    <li><a href="/python/16_class/_index.files/03_instance.ipynb">03_instance.ipynb</a> (5 KB)</li>
    <li><a href="/python/16_class/_index.files/04_object.ipynb">04_object.ipynb</a> (7 KB)</li>
    <li><a href="/python/16_class/_index.files/05_name.ipynb">05_name.ipynb</a> (12 KB)</li>
    <li><a href="/python/16_class/_index.files/06_variable.ipynb">06_variable.ipynb</a> (5 KB)</li>
    <li><a href="/python/16_class/_index.files/07_attribute.ipynb">07_attribute.ipynb</a> (8 KB)</li>
    <li><a href="/python/16_class/_index.files/08_method.ipynb">08_method.ipynb</a> (6 KB)</li>
    <li><a href="/python/16_class/_index.files/09_namespace.ipynb">09_namespace.ipynb</a> (5 KB)</li>
    <li><a href="/python/16_class/_index.files/10_scope.ipynb">10_scope.ipynb</a> (9 KB)</li>
    <li><a href="/python/16_class/_index.files/11_create_instance.ipynb">11_create_instance.ipynb</a> (4 KB)</li>
    <li><a href="/python/16_class/_index.files/12_attribute_operation.ipynb">12_attribute_operation.ipynb</a> (10 KB)</li>
    <li><a href="/python/16_class/_index.files/13_method_operation.ipynb">13_method_operation.ipynb</a> (5 KB)</li>
    <li><a href="/python/16_class/_index.files/14_inheritance.ipynb">14_inheritance.ipynb</a> (5 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>类定义</h1>

<p>类是用来创建用户定义对象的模板，是抽象的对象（类对象）。例如我们说鱼类，指的就是一类抽象的对象，而具体到武昌鱼，鲈鱼，鲫鱼…… 就是具体的对象。</p>
<p>定义了一个类，就可以用这个模块来创建它的具体对象（实例）。类定义的详细语法规则见 <a href="/python/10_statement/13_class/">class 定义类</a>。</p>
<p>创建一个类，需要继承另一个类。新创建的类是子类，继承的类是基类。如不指定，创建类默认继承自所有类的基类 object。</p>
<p>下面是一个没有任何自定义属性的简单类：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>A
</span></span></code></pre></div><pre><code>__main__.A
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(A)
</span></span></code></pre></div><pre><code>type
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>A<span style="color:#f92672">.</span>__bases__ <span style="color:#75715e"># 查看基类</span>
</span></span></code></pre></div><pre><code>(object,)
</code></pre>
<p>继承一个指定的类，可以对它进行定制化开发。需要注意参数 self, 它是约定名称（可自定义但不推荐），它就代表类创建的实例对象自身。</p>
<p>例如创建一个自定义的列表类，增加 add() 方法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Mylist</span>(list):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">add</span>(self,value):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>append(value)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>lst <span style="color:#f92672">=</span> Mylist(<span style="color:#e6db74">&#39;123&#39;</span>) <span style="color:#75715e"># 创建实例赋值给 lst</span>
</span></span><span style="display:flex;"><span>lst<span style="color:#f92672">.</span>add(<span style="color:#ae81ff">4</span>) <span style="color:#75715e"># lst 调用 add 方法，self 参数就是 lst</span>
</span></span><span style="display:flex;"><span>lst
</span></span></code></pre></div><pre><code>['1', '2', '3', 4]
</code></pre>
<p>或者自定义一个字典，当访问的键不存在时，不报错，而是返回 None（<code>__missing__()</code> 是用来定义字典子类时找不到键如何处理的魔法方法）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Mydict</span>(dict):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __missing__(self, key):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> Mydict(a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,b<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span><span style="display:flex;"><span>d, d[<span style="color:#e6db74">&#39;c&#39;</span>]
</span></span></code></pre></div><pre><code>({'a': 1, 'b': 2}, None)
</code></pre>
<p>我们也可以自定义任意的类，其中 <code>__init__()</code> 方法是创建实例时用来初始化实例对象的魔法方法，可以用它来增加一些自定义属性。没有该方法，创建实例时，将自动调用基类的该方法完成初始化。</p>
<p>例如定义一个 “人” 类：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;这是人类&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 定义人的属性</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, name):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> name
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>ears <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;耳朵&#39;</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>brain <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;大脑&#39;</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>hands <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;双手&#39;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 人有生活</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">live</span>(self):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>name<span style="color:#e6db74">}</span><span style="color:#e6db74">用</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>ears<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#39;听着音乐，&#39;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#39;享受美好生活。&#39;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 还有工作</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">work</span>(self):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>name<span style="color:#e6db74">}</span><span style="color:#e6db74">用</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>brain<span style="color:#e6db74">}</span><span style="color:#e6db74">和&#39;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>hands<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#39;勤劳致富。&#39;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 造人</span>
</span></span><span style="display:flex;"><span>xm <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#39;小明&#39;</span>)
</span></span><span style="display:flex;"><span>xz <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#39;小张&#39;</span>)
</span></span><span style="display:flex;"><span>xm<span style="color:#f92672">.</span>live() <span style="color:#75715e"># 小明在享受生活</span>
</span></span><span style="display:flex;"><span>xz<span style="color:#f92672">.</span>work() <span style="color:#75715e"># 小张在努力工作</span>
</span></span></code></pre></div><pre><code>小明用耳朵听着音乐，享受美好生活。
小张用大脑和双手勤劳致富。
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>实例</h1>

<p>实例是调用类对象创建的具体对象。例如调用内置类型 int，创建的所有整数，都是 int 类的实例。可通过内置函数 isinstance() 进行实例检查。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int(<span style="color:#e6db74">&#39;1&#39;</span>)
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>isinstance(<span style="color:#ae81ff">1</span>,int)
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>Python 中所有的实例对象，都是 object 的实例。所有的类都是 object 的子类，也被视为 object 的实例；所有的类也被视为默认的元类（创建类的类）type 的实例。</p>
<p>如果一个实例对象应该视为某个类的实例，可以通过魔法方法 <code>__instancecheck__()</code> 来重载 isinstance() 函数，自定义实例检查行为。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>isinstance(<span style="color:#ae81ff">1</span>,object), isinstance([],object)
</span></span></code></pre></div><pre><code>(True, True)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>isinstance(int,object)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>isinstance(int,type)
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>下面定义一个 “人” 类，来对实例进行说明：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;这是人类&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 定义人的属性</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, name):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> name
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>ears <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;耳朵&#39;</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>brain <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;大脑&#39;</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>hands <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;双手&#39;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 人有生活</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">live</span>(self):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>name<span style="color:#e6db74">}</span><span style="color:#e6db74">用</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>ears<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#39;听着音乐，&#39;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#39;享受美好生活。&#39;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 还有工作</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">work</span>(self):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>name<span style="color:#e6db74">}</span><span style="color:#e6db74">用</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>brain<span style="color:#e6db74">}</span><span style="color:#e6db74">和&#39;</span>
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>self<span style="color:#f92672">.</span>hands<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>               <span style="color:#e6db74">&#39;勤劳致富。&#39;</span>)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 造人</span>
</span></span><span style="display:flex;"><span>xm <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#39;小明&#39;</span>)
</span></span><span style="display:flex;"><span>xz <span style="color:#f92672">=</span> Person(<span style="color:#e6db74">&#39;小张&#39;</span>)
</span></span></code></pre></div><p>上述 “人” 类对象 Person 是类对象，调用类对象创建的 xm 和 xz，是两个具体的 “人”，是实例对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>Person
</span></span></code></pre></div><pre><code>__main__.Person
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>xm
</span></span></code></pre></div><pre><code>&lt;__main__.Person at 0x24cf9ef6d68&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>xz
</span></span></code></pre></div><pre><code>&lt;__main__.Person at 0x24cf9ef6d30&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>isinstance(xm, Person), isinstance(xz, Person)
</span></span></code></pre></div><pre><code>(True, True)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>isinstance(Person, object), isinstance(Person, type)
</span></span></code></pre></div><pre><code>(True, True)
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>对象</h1>

<p>对象是 Python 中对数据的抽象。Python 程序中的所有数据都是由对象或对象间关系来表示的。</p>
<p>例如计算 <code>x + y</code> 就有对象 <code>x</code> 和 <code>y</code>，<code>+</code> 其实是调用了 <code>__add__</code> 方法对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>] <span style="color:#f92672">+</span> [<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>]
</span></span></code></pre></div><pre><code>[1, 2, 3, 4]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list<span style="color:#f92672">.</span>__add__
</span></span></code></pre></div><pre><code>&lt;slot wrapper '__add__' of 'list' objects&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]<span style="color:#f92672">.</span>__add__([<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span></code></pre></div><pre><code>[1, 2, 3, 4]
</code></pre>
<p>每个对象都有各自的编号、类型和值。一个对象被创建后，它的编号就绝不会改变，可以将其理解为该对象在内存中的地址。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>id([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]), type([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]) <span style="color:#75715e"># 实例对象 [1,2] 的编号 和 类型</span>
</span></span></code></pre></div><pre><code>(2229938322504, list)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>id(list), type(list) <span style="color:#75715e"># 类对象 list 的编号 和 类型</span>
</span></span></code></pre></div><pre><code>(140736641645872, type)
</code></pre>
<p>对象的值在 Python 中是一个相当抽象的概念：</p>
<ul>
<li>对象的值并没有一个规范的访问方法；</li>
<li>对象的值并不要求具有特定的构建方式，例如由其全部数据属性组成等；</li>
<li>比较运算符实现了一个特定的对象的值概念，可以认为正是通过实现对象比较，间接地定义了对象的值。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 列表对象 [1,2] 和类对象 list </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 是两个不同对象，值是不相等的</span>
</span></span><span style="display:flex;"><span>[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>] <span style="color:#f92672">==</span> list 
</span></span></code></pre></div><pre><code>False
</code></pre>
<p>具有固定值的对象为不可变对象，例如数字，字符串，元组（包含的对象集不可变），相等的两个值，可能会也可能不会指向同一个对象，看具体实现。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 元组的对象集固定不可变</span>
</span></span><span style="display:flex;"><span>t <span style="color:#f92672">=</span> ([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>],(<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>))
</span></span><span style="display:flex;"><span>print(id(t[<span style="color:#ae81ff">0</span>]),id(t[<span style="color:#ae81ff">1</span>]),t)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> t[<span style="color:#ae81ff">0</span>][:]
</span></span><span style="display:flex;"><span>print(id(t[<span style="color:#ae81ff">0</span>]),id(t[<span style="color:#ae81ff">1</span>]),t)
</span></span></code></pre></div><pre><code>2229937078536 2229937013960 ([1, 2], (3, 4))
2229937078536 2229937013960 ([], (3, 4))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 同一个对象 1</span>
</span></span><span style="display:flex;"><span>print(id(<span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>print(id(<span style="color:#ae81ff">1</span>))
</span></span></code></pre></div><pre><code>140736642126656
140736642126656
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 两个不同对象 1000</span>
</span></span><span style="display:flex;"><span>print(id(<span style="color:#ae81ff">1000</span>))
</span></span><span style="display:flex;"><span>print(id(<span style="color:#ae81ff">1000</span>))
</span></span></code></pre></div><pre><code>2229938479344
2229938479248
</code></pre>
<p>对象的编号保持不变，可以改变值的对象为可变对象。对于可变对象，分别创建两个相等的值，一定是不同对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可变对象 a，值改变了还是 a</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>print(id(a), a)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> a[:]
</span></span><span style="display:flex;"><span>print(id(a), a)
</span></span></code></pre></div><pre><code>2229937082056 [1, 2]
2229937082056 []
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 类对象 A，增加属性 a 还是 A</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:<span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>print(id(A), A)
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>print(id(A), A)
</span></span></code></pre></div><pre><code>2229917928424 &lt;class '__main__.A'&gt;
2229917928424 &lt;class '__main__.A'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>print(id(a))
</span></span><span style="display:flex;"><span>print(id(b))
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">==</span> b
</span></span></code></pre></div><pre><code>2229937416840
2229937416648


True
</code></pre>
<p>类或函数对象的哈希值基于其 id，创建两个看起来完全一样的类或函数，id 是不一样的，而可哈希对象必须具有相同的哈希值，比较结果才会相同。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():<span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>print(id(f))
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> f
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():<span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>print(id(f))
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> f
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">==</span> b
</span></span></code></pre></div><pre><code>2229938263992
2229938264128


False
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>名称</h1>

<p>名称（标识符）用于指代对象。当名称被绑定到一个对象时，对该名称求值将返回相应对象。当名称未被绑定时，尝试对其求值将引发 NameError 异常。Python 的保留字或称关键字是特殊的名称，不可被用作普通名称，例如不可用做变量名，函数名，模块名。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将 1 绑定名称 a</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将自定义类对象绑定到名称 A</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>A
</span></span></code></pre></div><pre><code>__main__.A
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将模块 random 绑定到名称 r</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> random <span style="color:#66d9ef">as</span> r
</span></span><span style="display:flex;"><span>r
</span></span></code></pre></div><pre><code>&lt;module 'random' from 'F:\\anaconda\\lib\\random.py'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 迭代的每一项循环绑定到名称 i</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> <span style="color:#e6db74">&#39;xue&#39;</span>:
</span></span><span style="display:flex;"><span>    display(i)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>i
</span></span></code></pre></div><pre><code>'x'

'u'

'e'

'e'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 未绑定的名称 m</span>
</span></span><span style="display:flex;"><span>m
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-4-2469ef96c490&gt; in &lt;module&gt;
      1 # 未绑定的名称 m
----&gt; 2 m


NameError: name 'm' is not defined
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>help(<span style="color:#e6db74">&#39;keywords&#39;</span>) <span style="color:#75715e"># 保留字</span>
</span></span></code></pre></div><pre><code>Here is a list of the Python keywords.  Enter any keyword to get more help.

False               class               from                or
None                continue            global              pass
True                def                 if                  raise
and                 del                 import              return
as                  elif                in                  try
assert              else                is                  while
async               except              lambda              with
await               finally             nonlocal            yield
break               for                 not                 
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">False</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><pre><code>  File &quot;&lt;ipython-input-9-223dbc74e028&gt;&quot;, line 1
    False = 0
    ^
SyntaxError: cannot assign to False
</code></pre>
<p>检查一个名称是否有效可用字符串方法 str.isidentifier()：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;for&#39;</span><span style="color:#f92672">.</span>isidentifier()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;my_name&#39;</span><span style="color:#f92672">.</span>isidentifier()
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#e6db74">&#39;函数&#39;</span><span style="color:#f92672">.</span>isidentifier()
</span></span></code></pre></div><pre><code>True
</code></pre>
<p>普通名称命名规则：</p>
<ul>
<li>可以使用大部分非标点符号的 Unicode 字符，但请使用 ASCII 范围内 (U+0001..U+007F) 的字符；</li>
<li>习惯使用大写和小写字母 A 至 Z，下划线 _ 以及数字 0 至 9，但不可以数字打头；</li>
<li>长度没有限制，对大小写敏感。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>数字一 <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>数字一
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">函数</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>函数
</span></span></code></pre></div><pre><code>&lt;function __main__.函数()&gt;
</code></pre>
<p>命名模式以下划线字符打头和结尾，有特殊含义的名称（<code>*</code> 代表任意数量可用名称字符）:</p>
<ul>
<li>
<p><code>_*</code> 不会被 <code>from module import *</code> 导入。特殊标识符 <code>_</code> 在交互式解释器中被用来存放最近一次求值结果；它保存在 builtins 模块中。当不处于交互模式时，<code>_</code> 无特殊含义也没有预定义。</p>
</li>
<li>
<p><code>__*__</code> 系统定义的名称，这些名称是由解释器及其实现（包括标准库）定义的特殊属性和方法名称。未来的 Python 版本中还将定义更多此类名称。任何情况下任何不遵循文档所显式指明的 <code>__*__</code> 名称使用方式都可能导致无警告的错误。</p>
</li>
<li>
<p><code>__*</code> 类的私有名称。这种名称在类定义中使用时，会以一种混合形式重写以避免在基类及派生类的 “私有” 属性之间出现名称冲突。例如，出现在一个名为 <code>Ham</code> 的类中的名称 <code>__spam</code> 会被转换为 <code>_Ham__spam</code>。如果类名仅由下划线组成，则不会进行转换。</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>b
</span></span></code></pre></div><pre><code>100
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>_
</span></span></code></pre></div><pre><code>100
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dir(object)
</span></span></code></pre></div><pre><code>['__class__',
 '__delattr__',
 '__dir__',
 '__doc__',
 '__eq__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__gt__',
 '__hash__',
 '__init__',
 '__init_subclass__',
 '__le__',
 '__lt__',
 '__ne__',
 '__new__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__subclasshook__']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>:
</span></span><span style="display:flex;"><span>    __b <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>dir(B)
</span></span></code></pre></div><pre><code>['_B__b',
 '__class__',
 '__delattr__',
 '__dict__',
 '__dir__',
 '__doc__',
 '__eq__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__gt__',
 '__hash__',
 '__init__',
 '__init_subclass__',
 '__le__',
 '__lt__',
 '__module__',
 '__ne__',
 '__new__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__subclasshook__',
 '__weakref__']
</code></pre>
<p>del 语句可删除名称绑定：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;c=</span><span style="color:#e6db74">{</span>c<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> c
</span></span><span style="display:flex;"><span>c
</span></span></code></pre></div><pre><code>c=3


---------------------------------------------------------------------------

NameError                                 Traceback (most recent call last)

&lt;ipython-input-23-5ba97d2f3254&gt; in &lt;module&gt;
      2 print(f'c={c}')
      3 del c
----&gt; 4 c


NameError: name 'c' is not defined
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>变量</h1>

<p>Python 中绑定对象的名称即为变量。</p>
<p>人们称呼模块、类、函数和方法对象的名称时，习惯直接指代对象本身，而不是把它们当作变量，例如 random，int，print 等，当将它们绑定到另外的名称时，才称新名称为变量（或化名）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 函数名称 f 绑定自定义函数对象</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x, func): 
</span></span><span style="display:flex;"><span>    print(func(x))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;1231&#39;</span> <span style="color:#75715e"># 变量 a</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> [int,list,set] <span style="color:#75715e"># 变量 b</span>
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> f <span style="color:#75715e"># 名称 f 起别名 c</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> b: <span style="color:#75715e"># 变量 b 中的项循环赋值给变量 i</span>
</span></span><span style="display:flex;"><span>    c(a,i)
</span></span></code></pre></div><pre><code>1231
['1', '2', '3', '1']
{'3', '1', '2'}
</code></pre>
<p>如果名称绑定在一个代码块中，则为该代码块的局部变量，除非声明为 nonlocal 或 global。</p>
<p>如果名称绑定在模块层级，则为全局变量。(模块代码块的变量既为局部变量又为全局变量。)</p>
<p>如果变量在一个代码块中被使用但不是在其中定义，则为自由变量。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 第一个代码块中全局变量 n</span>
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span> 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 第二个代码块</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># random 模块中的全局变量 randint，</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在此为局部变量，引用后赋值给全局变量 r</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> random
</span></span><span style="display:flex;"><span>r <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>randint
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 第三个代码块中 x 为局部变量</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># n 和 r 不在该代码块中定义，在该代码块为自由变量</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    print(r(x,n))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>22
</code></pre>
<p>如果代码块中定义了一个局部变量，则其作用域包含该代码块。如果定义发生于函数代码块中，则其作用域会扩展到该函数所包含的任何代码块，除非有某个被包含代码块引入了对该名称的不同绑定。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>m <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e"># 全局变量 n</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#75715e"># 局部变量 n</span>
</span></span><span style="display:flex;"><span>    print(m,n)
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>0 2
</code></pre>
<p>改变变量作用域，详见 <a href="/python/10_statement/19_global/">global 语句</a> 和 <a href="/python/10_statement/20_nonlocal/">nonlocal 语句</a>。</p>
<p>类变量和实例变量：</p>
<ul>
<li>在类中定义，仅在类层级修改的变量为类变量，实例也可访问类变量；</li>
<li>以 <code>self.name</code> 命名的变量为实例变量，类不能访问。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e"># 类变量</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span> <span style="color:#75715e"># 实例变量</span>
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>b <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> A()
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>a, a<span style="color:#f92672">.</span>a, a<span style="color:#f92672">.</span>b
</span></span></code></pre></div><pre><code>(1, 100, 2)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>A<span style="color:#f92672">.</span>b <span style="color:#75715e"># 类 A 不能访问它的实例的变量 b</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-11-f92f3bcfde9d&gt; in &lt;module&gt;
----&gt; 1 A.b # 类 A 不能访问它的实例的变量 b


AttributeError: type object 'A' has no attribute 'b'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>属性</h1>

<p>属性指关联到一个对象的值，可以使用点号表达式通过其名称来引用。</p>
<p>可以使用  dir() 函数查看任意对象的属性。</p>
<p>如果属性是可调用对象（例如类，函数，方法等），引用之后可直接调用，也可先赋值给变量再调用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看 list 对象的属性</span>
</span></span><span style="display:flex;"><span>dir(list)
</span></span></code></pre></div><pre><code>['__add__',
 '__class__',
 '__contains__',
 '__delattr__',
 '__delitem__',
 '__dir__',
 '__doc__',
 '__eq__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__getitem__',
 '__gt__',
 '__hash__',
 '__iadd__',
 '__imul__',
 '__init__',
 '__init_subclass__',
 '__iter__',
 '__le__',
 '__len__',
 '__lt__',
 '__mul__',
 '__ne__',
 '__new__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__reversed__',
 '__rmul__',
 '__setattr__',
 '__setitem__',
 '__sizeof__',
 '__str__',
 '__subclasshook__',
 'append',
 'clear',
 'copy',
 'count',
 'extend',
 'index',
 'insert',
 'pop',
 'remove',
 'reverse',
 'sort']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 通过名称 __add__ 引用属性</span>
</span></span><span style="display:flex;"><span>list<span style="color:#f92672">.</span>__add__ 
</span></span></code></pre></div><pre><code>&lt;slot wrapper '__add__' of 'list' objects&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 直接调用属性</span>
</span></span><span style="display:flex;"><span>list<span style="color:#f92672">.</span>__add__([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>],[<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span></code></pre></div><pre><code>[1, 2, 3, 4]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 赋值给变量再调用</span>
</span></span><span style="display:flex;"><span>la <span style="color:#f92672">=</span> list<span style="color:#f92672">.</span>__add__
</span></span><span style="display:flex;"><span>la([<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>],[<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">4</span>])
</span></span></code></pre></div><pre><code>[1, 2, 3, 4]
</code></pre>
<p>有时也只将具体的值称为属性从而与抽象的值（类，函数，方法等对象的值）区分开来。犹如将一个人有身体和四肢的属性和这个人会唱歌跳舞的属性区分开来。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>Series <span style="color:#75715e"># pandas 模块的属性 Series 类</span>
</span></span></code></pre></div><pre><code>pandas.core.series.Series
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> math
</span></span><span style="display:flex;"><span>math<span style="color:#f92672">.</span>pi <span style="color:#75715e"># math 模块的属性圆周率</span>
</span></span></code></pre></div><pre><code>3.141592653589793
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(self):
</span></span><span style="display:flex;"><span>        print(self)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> A()
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>a, a<span style="color:#f92672">.</span>a <span style="color:#75715e"># 类 A 及其实例的数据属性 a</span>
</span></span></code></pre></div><pre><code>(1, 1)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>A<span style="color:#f92672">.</span>f, a<span style="color:#f92672">.</span>f <span style="color:#75715e"># 类 A 及其实例的方法属性 f</span>
</span></span></code></pre></div><pre><code>(&lt;function __main__.A.f(self)&gt;,
 &lt;bound method A.f of &lt;__main__.A object at 0x000001B569DC0860&gt;&gt;)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 方法属性的等价调用</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 实例直接调用，第一个参数 self 就是它自身</span>
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>f()
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 类直接调用，则需要传入实例作为参数</span>
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>f(a)
</span></span></code></pre></div><pre><code>&lt;__main__.A object at 0x000001B569DC0860&gt;
&lt;__main__.A object at 0x000001B569DC0860&gt;
</code></pre>
<p>属性名以一个下划线开头的属性应该视为 “私有” 属性，但可以直接访问。</p>
<p>属性名以两个下划线开头，非两个下划线结尾的属性，在模块中视为 “私有” 属性，但可以直接访问；在类中属于私有属性，这种名称在类定义中使用时，会以一种混合形式重写以避免在基类及派生类的 “私有” 属性之间出现名称冲突。类的私有属性并非不可访问（使用重写名称可访问），全靠自觉。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    _a <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">__f</span>():
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>dir(A)
</span></span></code></pre></div><pre><code>['_A__f',
 '__class__',
 '__delattr__',
 '__dict__',
 '__dir__',
 '__doc__',
 '__eq__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__gt__',
 '__hash__',
 '__init__',
 '__init_subclass__',
 '__le__',
 '__lt__',
 '__module__',
 '__ne__',
 '__new__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__subclasshook__',
 '__weakref__',
 '_a']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>A<span style="color:#f92672">.</span>_a
</span></span></code></pre></div><pre><code>1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>A<span style="color:#f92672">.</span>_A__f
</span></span></code></pre></div><pre><code>&lt;function __main__.A.__f()&gt;
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>方法</h1>

<p>方法指在类内部定义的函数。但并不严格要求一定要在类内部定义。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(self):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    f <span style="color:#f92672">=</span> f
</span></span><span style="display:flex;"><span>A()<span style="color:#f92672">.</span>f
</span></span></code></pre></div><pre><code>&lt;bound method f of &lt;__main__.A object at 0x00000290DC56E198&gt;&gt;
</code></pre>
<p>下列方法看起来是模块中的函数，其实是模块中，类实例方法重新赋值的名称：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> random <span style="color:#f92672">import</span> randint
</span></span><span style="display:flex;"><span>type(randint)
</span></span></code></pre></div><pre><code>method
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> random
</span></span><span style="display:flex;"><span><span style="color:#75715e"># randint 完整路径</span>
</span></span><span style="display:flex;"><span>random<span style="color:#f92672">.</span>Random<span style="color:#f92672">.</span>randint
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 例如重新赋值后即可直接调用</span>
</span></span><span style="display:flex;"><span>r <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>Random()
</span></span><span style="display:flex;"><span>randint <span style="color:#f92672">=</span> r<span style="color:#f92672">.</span>randint
</span></span><span style="display:flex;"><span>randint(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>2
</code></pre>
<p>普通方法（第一个参数通常命名为 self）如果作为该类的实例的一个属性来调用，方法将会获取实例对象作为其第一个参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># list 类的方法 append</span>
</span></span><span style="display:flex;"><span>help(<span style="color:#e6db74">&#39;list.append&#39;</span>)
</span></span></code></pre></div><pre><code>Help on method_descriptor in list:

list.append = append(self, object, /)
    Append object to the end of the list.
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># list 的实例 [] 调用，</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 方法将会获取实例对象 [] 作为其第一个参数</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>append(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>[1]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 等价于</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> []
</span></span><span style="display:flex;"><span>list<span style="color:#f92672">.</span>append(a,<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>[1]
</code></pre>
<p>类方法（第一个参数通常命名为 cls）则无论是类或是实例调用，方法都将获取类对象作为其第一个参数。类方法定义详见 <a href="/python/11_built-in_function/10_classmethod/">classmethod 封装函数为类方法</a>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@classmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(cls,x):
</span></span><span style="display:flex;"><span>        print(cls,x)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;A = </span><span style="color:#e6db74">{</span>A<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)        
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>f(<span style="color:#e6db74">&#39;类方法&#39;</span>)
</span></span><span style="display:flex;"><span>A()<span style="color:#f92672">.</span>f(<span style="color:#e6db74">&#39;类方法&#39;</span>)
</span></span></code></pre></div><pre><code>A = &lt;class '__main__.A'&gt;
&lt;class '__main__.A'&gt; 类方法
&lt;class '__main__.A'&gt; 类方法
</code></pre>
<p>静态方法则不会接收隐式的第一个参数。调用它需要正常传递参数。静态方法详见 <a href="/python/11_built-in_function/58_staticmethod/">staticmethod 封装函数为静态方法</a>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@staticmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">in_print</span>(value):
</span></span><span style="display:flex;"><span>        print(value)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> A()
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>in_print(<span style="color:#e6db74">&#39;静态方法&#39;</span>)
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>in_print(<span style="color:#e6db74">&#39;静态方法&#39;</span>)
</span></span></code></pre></div><pre><code>静态方法
静态方法
</code></pre>
<p>特殊方法（也称魔术方法）：一种由 Python 隐式调用的方法，用来对某个类型执行特定操作例如相加等等。这种方法的名称的首尾都为双下划线。可以通过方法重载，对某个类型定义特定操作。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 1 + 2 操作其实是隐式调用了 __add__</span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>
</span></span></code></pre></div><pre><code>3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>(<span style="color:#ae81ff">1</span>)<span style="color:#f92672">.</span>__add__(<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 列表没有 “-” 操作符，自定义一个</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Mlist</span>(list):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __sub__(self, other):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> list(set(self) <span style="color:#f92672">-</span> set(other))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> Mlist(<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> Mlist(<span style="color:#e6db74">&#39;13&#39;</span>)
</span></span><span style="display:flex;"><span>a, b, a <span style="color:#f92672">-</span> b
</span></span></code></pre></div><pre><code>(['1', '2', '3'], ['1', '3'], ['2'])
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>命名空间</h1>

<p>命名空间是存放变量的场所。命名空间有局部、全局和内置的，还有对象中的嵌套命名空间。不同命名空间中的变量没有关系。</p>
<p>命名空间通过防止命名冲突来支持模块化。例如，函数 builtins.open 与 os.open 可通过各自的命名空间来区分。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 函数的局部命名空间，在函数调用时创建</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;函数 f 命名空间中的变量 x&#39;</span>
</span></span><span style="display:flex;"><span>    print(x)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 全局命名空间</span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;全局命名空间中的变量 x&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 调用函数 f，与全局命名空间中的 x 无关</span>
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>函数 f 命名空间中的变量 x
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 模块 random 导入创建它自己的局部命名空间</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> random
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义一个全局变量 randint</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">randint</span>():
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;全局 randint&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># random 局部命名空间中的 randint </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 与全局变量 randint 无关</span>
</span></span><span style="display:flex;"><span>randint()
</span></span><span style="display:flex;"><span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>全局 randint


1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 上述定义的变量 f, x, randint，导入的变量 random，</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 都存放在了当前全局命名空间中</span>
</span></span><span style="display:flex;"><span>f, x, random, randint
</span></span></code></pre></div><pre><code>(&lt;function __main__.f()&gt;,
 '全局命名空间中的变量 x',
 &lt;module 'random' from 'C:\\ProgramData\\Anaconda3\\lib\\random.py'&gt;,
 &lt;function __main__.randint()&gt;)
</code></pre>
<p>内置命名空间是在 Python 解释器启动时创建，存放的变量包括内置函数、异常等。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 全局命名空间中定义变量 str，</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将屏蔽内置命名空间中的 str</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">str</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;x = </span><span style="color:#e6db74">{</span>x<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>str(<span style="color:#ae81ff">123</span>)
</span></span></code></pre></div><pre><code>'x = 123'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 但可以在 builtins 中继续调用</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> builtins
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>builtins<span style="color:#f92672">.</span>str(<span style="color:#ae81ff">123</span>)
</span></span></code></pre></div><pre><code>'123'
</code></pre>
<p>递归函数，每次递归调用，都会有一个新的命名空间。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;x=</span><span style="color:#e6db74">{</span>x<span style="color:#e6db74">}</span><span style="color:#e6db74">调用，x-1=</span><span style="color:#e6db74">{</span>x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#e6db74">}</span><span style="color:#e6db74">继续调用&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;x=</span><span style="color:#e6db74">{</span>x<span style="color:#e6db74">}</span><span style="color:#e6db74">,调用结束&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 以 x-1 作为参数调用函数 f</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> f(x<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>f(<span style="color:#ae81ff">3</span>)
</span></span></code></pre></div><pre><code>x=3调用，x-1=2继续调用
x=2调用，x-1=1继续调用
x=1调用，x-1=0继续调用
x=0,调用结束
</code></pre>
<p>嵌套的命名空间：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;全局变量 a&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;类变量 a&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(self):
</span></span><span style="display:flex;"><span>        a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;函数局部变量 a&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> a
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(a)
</span></span><span style="display:flex;"><span>print(A<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>print(A()<span style="color:#f92672">.</span>f())
</span></span></code></pre></div><pre><code>全局变量 a
类变量 a
函数局部变量 a
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>作用域</h1>

<p>作用域定义了一个代码块中名称的可见性。如果代码块中定义了一个局部变量，则其作用域包含该代码块。如果定义发生于函数代码块中，则其作用域会扩展到该函数所包含的任何代码块，除非有某个被包含代码块引入了对该名称的不同绑定。</p>
<p>当一个名称在代码块中被使用时，会由包含它的最近作用域来解析。对一个代码块可见的所有这种作用域的集合称为该代码块的环境。</p>
<p>一个作用域是一个 <a href="/python/16_class/09_namespace/">命名空间</a> 可直接访问的 Python 程序的文本区域。这里的 “可直接访问” 意味着对名称的非限定引用（限定引用指点号表达式例如 math.pi）会尝试在命名空间中查找名称。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 全局变量作用域为当前模块</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;全局变量&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># print 内置名称作用域包含全局</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;print 函数的命名空间可以访问：</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;f 的命名空间可以访问：</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(a)
</span></span><span style="display:flex;"><span>print(f())
</span></span></code></pre></div><pre><code>全局变量
print 函数的命名空间可以访问：全局变量
f 的命名空间可以访问：全局变量
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 全局变量作用域为当前模块</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 但被包含命名空间引入了同名的局部变量</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;全局变量&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># f 中定义的局部变量</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 作用域为函数内部</span>
</span></span><span style="display:flex;"><span>    a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;局部变量&#39;</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;print 函数的命名空间可以访问：</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;f 的命名空间可以访问：</span><span style="color:#e6db74">{</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(a)
</span></span><span style="display:flex;"><span>print(f())
</span></span></code></pre></div><pre><code>全局变量
print 函数的命名空间可以访问：局部变量
f 的命名空间可以访问：局部变量
</code></pre>
<p>虽然作用域是静态地确定的，但它们会被动态地使用。嵌套作用域的搜索顺序:</p>
<ul>
<li>最先搜索最内部作用域包含的局部名称</li>
<li>从最近的封闭作用域开始搜索作用域包含的名称</li>
<li>倒数第二个作用域包含当前模块的全局名称</li>
<li>最外面的作用域（最后搜索）是包含内置名称的命名空间</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 搜索最内部作用域名称 str</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 屏蔽上层作用域</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    str <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f1</span>():
</span></span><span style="display:flex;"><span>        str <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> str
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> f1()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f(), str
</span></span></code></pre></div><pre><code>(1, str)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 搜索最近封闭作用域名称 str</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 屏蔽上层作用域</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    str <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f1</span>():
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> str
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> f1()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f(), str
</span></span></code></pre></div><pre><code>(0, str)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 搜索当前模块作用域名称 str</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 屏蔽上层作用域</span>
</span></span><span style="display:flex;"><span>str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;当前模块str&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f1</span>():
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> str
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> f1()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>'当前模块str'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 搜索最外面作用域名称 str</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 删除前面对 str 的绑定</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> str
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 注意，运行多次会将内置名称 str 都删除</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f1</span>():
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> str
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> f1()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>f()
</span></span></code></pre></div><pre><code>str
</code></pre>
<p>可见，当前模块中的全局名称，最好不要和内置名称相同，它会屏蔽掉内置名称，从而不可以直接使用内置功能。内置名称如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> builtins
</span></span><span style="display:flex;"><span>dir(builtins)
</span></span></code></pre></div><pre><code>['ArithmeticError',
 'AssertionError',
 'AttributeError',
 'BaseException',
 'BlockingIOError',
 'BrokenPipeError',
 'BufferError',
 'BytesWarning',
 'ChildProcessError',
 'ConnectionAbortedError',
 'ConnectionError',
 'ConnectionRefusedError',
 'ConnectionResetError',
 'DeprecationWarning',
 'EOFError',
 'Ellipsis',
 'EnvironmentError',
 'Exception',
 'False',
 'FileExistsError',
 'FileNotFoundError',
 'FloatingPointError',
 'FutureWarning',
 'GeneratorExit',
 'IOError',
 'ImportError',
 'ImportWarning',
 'IndentationError',
 'IndexError',
 'InterruptedError',
 'IsADirectoryError',
 'KeyError',
 'KeyboardInterrupt',
 'LookupError',
 'MemoryError',
 'ModuleNotFoundError',
 'NameError',
 'None',
 'NotADirectoryError',
 'NotImplemented',
 'NotImplementedError',
 'OSError',
 'OverflowError',
 'PendingDeprecationWarning',
 'PermissionError',
 'ProcessLookupError',
 'RecursionError',
 'ReferenceError',
 'ResourceWarning',
 'RuntimeError',
 'RuntimeWarning',
 'StopAsyncIteration',
 'StopIteration',
 'SyntaxError',
 'SyntaxWarning',
 'SystemError',
 'SystemExit',
 'TabError',
 'TimeoutError',
 'True',
 'TypeError',
 'UnboundLocalError',
 'UnicodeDecodeError',
 'UnicodeEncodeError',
 'UnicodeError',
 'UnicodeTranslateError',
 'UnicodeWarning',
 'UserWarning',
 'ValueError',
 'Warning',
 'WindowsError',
 'ZeroDivisionError',
 '__IPYTHON__',
 '__build_class__',
 '__debug__',
 '__doc__',
 '__import__',
 '__loader__',
 '__name__',
 '__package__',
 '__spec__',
 'abs',
 'all',
 'any',
 'ascii',
 'bin',
 'bool',
 'breakpoint',
 'bytearray',
 'bytes',
 'callable',
 'chr',
 'classmethod',
 'compile',
 'complex',
 'copyright',
 'credits',
 'delattr',
 'dict',
 'dir',
 'display',
 'divmod',
 'enumerate',
 'eval',
 'exec',
 'filter',
 'float',
 'format',
 'frozenset',
 'get_ipython',
 'getattr',
 'globals',
 'hasattr',
 'hash',
 'help',
 'hex',
 'id',
 'input',
 'int',
 'isinstance',
 'issubclass',
 'iter',
 'len',
 'license',
 'list',
 'locals',
 'map',
 'max',
 'memoryview',
 'min',
 'next',
 'object',
 'oct',
 'open',
 'ord',
 'pow',
 'print',
 'property',
 'range',
 'repr',
 'reversed',
 'round',
 'set',
 'setattr',
 'slice',
 'sorted',
 'staticmethod',
 'str',
 'sum',
 'super',
 'tuple',
 'type',
 'vars',
 'zip']
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>创建实例</h1>

<p>直接调用类对象，即可创建该类的实例对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>int() <span style="color:#75715e"># 调用 int 类</span>
</span></span></code></pre></div><pre><code>0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>list(<span style="color:#e6db74">&#39;123&#39;</span>) <span style="color:#75715e"># 传参调用 list 类</span>
</span></span></code></pre></div><pre><code>['1', '2', '3']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self, name):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> name
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __repr__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>name
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>A(<span style="color:#e6db74">&#39;实例1&#39;</span>), A(<span style="color:#e6db74">&#39;实例2&#39;</span>) <span style="color:#75715e"># 调用自定义类</span>
</span></span></code></pre></div><pre><code>(实例1, 实例2)
</code></pre>
<p>实例对象是由特殊方法 <code>__new__()</code> 创建，<code>__init__()</code> 定制完成。两个方法是隐式地完成创建和定制的，当然也可以显式地创建并定制。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;实例&#39;</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>A <span style="color:#75715e"># 类对象 A</span>
</span></span></code></pre></div><pre><code>__main__.A
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 显式地创建类 A 的一个实例 a</span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> object<span style="color:#f92672">.</span>__new__(A)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>&lt;__main__.A at 0x20d23e95d30&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 未初始化，无属性</span>
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>name
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-36-b3a4d04d98fc&gt; in &lt;module&gt;
      1 # 未初始化，无属性
----&gt; 2 a.name


AttributeError: 'A' object has no attribute 'name'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 也可以使用 a.__init__(), </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 它会自动将实例作为第一个参数完成初始化</span>
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>__init__(a)
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>&lt;__main__.A at 0x20d23e95d30&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>name
</span></span></code></pre></div><pre><code>'实例'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>属性操作</h1>

<p>Python 是动态语言，对象的属性不仅可以查看、访问、调用，还可以动态地增、删、改。</p>
<p>下面定义一个没有自定义属性的类 A 举例：</p>
<p>dir() 函数查看属性，双下划线 <code>__</code> 包围的属性是继承自 object 的特殊属性：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 定义一个类，查看属性</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dir(A)
</span></span></code></pre></div><pre><code>['__class__',
 '__delattr__',
 '__dict__',
 '__dir__',
 '__doc__',
 '__eq__',
 '__format__',
 '__ge__',
 '__getattribute__',
 '__gt__',
 '__hash__',
 '__init__',
 '__init_subclass__',
 '__le__',
 '__lt__',
 '__module__',
 '__ne__',
 '__new__',
 '__reduce__',
 '__reduce_ex__',
 '__repr__',
 '__setattr__',
 '__sizeof__',
 '__str__',
 '__subclasshook__',
 '__weakref__']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 访问属性 __class__ 相当于调用 type() 函数</span>
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>__class__, A()<span style="color:#f92672">.</span>__class__
</span></span></code></pre></div><pre><code>(type, __main__.A)
</code></pre>
<p>给类 A 及其实例动态添加属性，属性可以是数据属性和方法。类层级添加的属性，将作为所有实例的属性；实例添加的属性，只有对应的实例能访问。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 添加数据属性</span>
</span></span><span style="display:flex;"><span>a1 <span style="color:#f92672">=</span> A()
</span></span><span style="display:flex;"><span>a2 <span style="color:#f92672">=</span> A()
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;类变量&#39;</span>
</span></span><span style="display:flex;"><span>a1<span style="color:#f92672">.</span>x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a1 的属性&#39;</span>
</span></span><span style="display:flex;"><span>a2<span style="color:#f92672">.</span>y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a2 的属性&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 类层级添加方法</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(self):
</span></span><span style="display:flex;"><span>    print(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>f <span style="color:#f92672">=</span> f
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 类 A 调用刚添加的属性</span>
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>f(a1)
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>f(a2)
</span></span></code></pre></div><pre><code>类变量
类变量
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 实例调用刚添加的属性</span>
</span></span><span style="display:flex;"><span>a1<span style="color:#f92672">.</span>f()
</span></span><span style="display:flex;"><span>a2<span style="color:#f92672">.</span>f()
</span></span></code></pre></div><pre><code>类变量
类变量
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 实例 a1 没有 y 属性</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 同理，a2 没有 x 属性</span>
</span></span><span style="display:flex;"><span>a1<span style="color:#f92672">.</span>y 
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-44-178a7ac627a0&gt; in &lt;module&gt;
      1 # 实例 a1 没有 y 属性
      2 # 同理，a2 没有 x 属性
----&gt; 3 a1.y


AttributeError: 'A' object has no attribute 'y'
</code></pre>
<p>实例直接添加一个函数作为属性，将不会隐式地将自身作为第一个参数，而是和正常函数一样使用：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">p</span>(self):
</span></span><span style="display:flex;"><span>    print(self)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>a1<span style="color:#f92672">.</span>p <span style="color:#f92672">=</span> p
</span></span><span style="display:flex;"><span>a1<span style="color:#f92672">.</span>p(<span style="color:#e6db74">&#39;正常传参&#39;</span>)
</span></span><span style="display:flex;"><span>a1<span style="color:#f92672">.</span>p()
</span></span></code></pre></div><pre><code>正常传参


---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-45-4ebdece61250&gt; in &lt;module&gt;
      4 a1.p = p
      5 a1.p('正常传参')
----&gt; 6 a1.p()


TypeError: p() missing 1 required positional argument: 'self'
</code></pre>
<p>如果要通过实例添加实例方法（第一个参数 self 即是自身的方法），可以通过 types 模块添加。添加的属性，类不可访问，只有对应的实例可访问：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> types <span style="color:#f92672">import</span> MethodType
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 改变了 a1 的上述 p 属性</span>
</span></span><span style="display:flex;"><span>a1<span style="color:#f92672">.</span>p <span style="color:#f92672">=</span> MethodType(p, a1)
</span></span><span style="display:flex;"><span>a1<span style="color:#f92672">.</span>p()
</span></span></code></pre></div><pre><code>&lt;__main__.A object at 0x000001D40578D730&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>A<span style="color:#f92672">.</span>p
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-47-94cb580acfb0&gt; in &lt;module&gt;
----&gt; 1 A.p


AttributeError: type object 'A' has no attribute 'p'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a2<span style="color:#f92672">.</span>p
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-48-29321b2aa581&gt; in &lt;module&gt;
----&gt; 1 a2.p


AttributeError: 'A' object has no attribute 'p'
</code></pre>
<p>删除属性使用 del 语句：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">del</span> a1<span style="color:#f92672">.</span>p
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>a1<span style="color:#f92672">.</span>p()
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-49-9cf9b7e7dc86&gt; in &lt;module&gt;
      1 del a1.p
      2 
----&gt; 3 a1.p()


AttributeError: 'A' object has no attribute 'p'
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>方法操作</h1>

<p>一个从父类继承过来的方法，如果不满足子类的需求，可以进行重写，重写的方法将屏蔽父类的方法，但可以显示地调用，或使用 super() 委托给父类调用，实现父类、子类的方法都可调用。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(self,x):
</span></span><span style="display:flex;"><span>        y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> x
</span></span><span style="display:flex;"><span>        print(y)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>(A):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(self,x):
</span></span><span style="display:flex;"><span>        y <span style="color:#f92672">=</span> (x <span style="color:#f92672">+</span> x)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> 
</span></span><span style="display:flex;"><span>        print(y)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> B()
</span></span><span style="display:flex;"><span>b<span style="color:#f92672">.</span>f(<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>16
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 显示地调用</span>
</span></span><span style="display:flex;"><span>A<span style="color:#f92672">.</span>f(b, <span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(self,x):
</span></span><span style="display:flex;"><span>        y <span style="color:#f92672">=</span> x <span style="color:#f92672">+</span> x
</span></span><span style="display:flex;"><span>        print(y)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>(A):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(self,x):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span>f(x)
</span></span><span style="display:flex;"><span>        y <span style="color:#f92672">=</span> (x <span style="color:#f92672">+</span> x)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> 
</span></span><span style="display:flex;"><span>        print(y)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> B()
</span></span><span style="display:flex;"><span>b<span style="color:#f92672">.</span>f(<span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>4
16
</code></pre>
<p>还可使用装饰器修改方法，或添加丰富功能等。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将方法定义为静态方法</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@staticmethod</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(value):
</span></span><span style="display:flex;"><span>        print(value)
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> C()
</span></span><span style="display:flex;"><span>c<span style="color:#f92672">.</span>f(<span style="color:#e6db74">&#39;必须传参调用&#39;</span>)
</span></span></code></pre></div><pre><code>必须传参调用
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将私有属性定义为只读，</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 直接用不带下划线的名称访问</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>__name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;私有属性&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">@property</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">name</span>(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> self<span style="color:#f92672">.</span>__name
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> C()
</span></span><span style="display:flex;"><span>c<span style="color:#f92672">.</span>name
</span></span></code></pre></div><pre><code>'私有属性'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 尝试修改不被允许</span>
</span></span><span style="display:flex;"><span>c<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-11-c0f354f546f5&gt; in &lt;module&gt;
      1 # 尝试修改不被允许
----&gt; 2 c.name = 0


AttributeError: can't set attribute
</code></pre>
<p>用特殊方法定制类：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">D</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> D()
</span></span><span style="display:flex;"><span>bool(d)
</span></span></code></pre></div><pre><code>True
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 上述类的实例逻辑值检查为 True</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义为 False</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">D</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __bool__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">False</span>
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> D()
</span></span><span style="display:flex;"><span>bool(d)
</span></span></code></pre></div><pre><code>False
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 让数字字符串也可以相减</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Mystr</span>(str):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __sub__(self, other):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> str(float(self) <span style="color:#f92672">-</span> float(other))
</span></span><span style="display:flex;"><span>m <span style="color:#f92672">=</span> Mystr(<span style="color:#e6db74">&#39;123&#39;</span>)
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">=</span> Mystr(<span style="color:#e6db74">&#39;3.14&#39;</span>)
</span></span><span style="display:flex;"><span>m, n, m <span style="color:#f92672">-</span> n
</span></span></code></pre></div><pre><code>('123', '3.14', '119.86')
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>类继承</h1>

<p>所有的类都继承自 object。被继承的类称为基类（或父类，超类），继承者称为子类。</p>
<p>对于多数应用来说，在最简单的情况下，你可以认为搜索从父类所继承属性的操作是<strong>深度优先、从左至右</strong>的，当层次结构中存在重叠时不会在同一个类中搜索两次。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">show</span>(self):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;A&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>(A):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">C</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">D</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">show</span>(self):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#39;D&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">E</span>(C, B, D):  <span style="color:#75715e"># C -&gt; B -&gt; A -&gt; D</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">pass</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>e <span style="color:#f92672">=</span> E()
</span></span><span style="display:flex;"><span>e<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><pre><code>A
</code></pre>
<p>真实情况比这个更复杂一些；方法解析顺序会动态改变以支持对 super() 的协同调用。这种方式在某些其他多重继承型语言中被称为 后续方法调用，它比单继承型语言中的 super 调用更强大。</p>
<p>动态改变顺序是有必要的，因为所有多重继承的情况都会显示出一个或更多的菱形关联（即至少有一个父类可通过多条路径被最底层类所访问）。例如，所有类都是继承自 object，因此任何多重继承的情况都提供了一条以上的路径可以通向 object。为了确保基类不会被访问一次以上，动态算法会用一种特殊方式将搜索顺序线性化，保留每个类所指定的从左至右的顺序，只调用每个父类一次，并且保持单调（即一个类可以被子类化而不影响其父类的优先顺序）。</p>
<p>总而言之，这些特性使得设计具有多重继承的可靠且可扩展的类成为可能。</p>
<p>一个基类如果有 <code>__init__()</code> 方法，则其所派生的类如果也有 <code>__init__()</code> 方法，就必须显式地调用它以确保实例基类部分的正确初始化：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;A&#39;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(self):
</span></span><span style="display:flex;"><span>        print(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>(A):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;B&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> B()
</span></span><span style="display:flex;"><span>b<span style="color:#f92672">.</span>f() <span style="color:#75715e"># 基类未初始化，属性 a 不可调用</span>
</span></span></code></pre></div><pre><code>---------------------------------------------------------------------------

AttributeError                            Traceback (most recent call last)

&lt;ipython-input-5-cda60db4451f&gt; in &lt;module&gt;
     11 
     12 b = B()
---&gt; 13 b.f()


&lt;ipython-input-5-cda60db4451f&gt; in f(self)
      4 
      5     def f(self):
----&gt; 6         print(self.a)
      7 
      8 class B(A):


AttributeError: 'B' object has no attribute 'a'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>A<span style="color:#f92672">.</span>__init__(b) <span style="color:#75715e"># 将实例 b 传给 A 初始化</span>
</span></span><span style="display:flex;"><span>b<span style="color:#f92672">.</span>f()
</span></span></code></pre></div><pre><code>A
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 或者直接用 super()</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">A</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;A&#39;</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(self):
</span></span><span style="display:flex;"><span>        print(self<span style="color:#f92672">.</span>a)
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">B</span>(A):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __init__(self):
</span></span><span style="display:flex;"><span>        super()<span style="color:#f92672">.</span>__init__()
</span></span><span style="display:flex;"><span>        self<span style="color:#f92672">.</span>b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;B&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> B()
</span></span><span style="display:flex;"><span>b<span style="color:#f92672">.</span>f()
</span></span></code></pre></div><pre><code>A
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          </section>
          </section>
          <article class="default">
<h1>通俗易懂 Python 正则表达式</h1>

<p><a href="https://docs.python.org/zh-cn/3/library/re.html#flags">官方文档</a></p>
<blockquote>
<p>正则表达式, 也叫规则表达式, 是强大的文本字符串处理工具, 通常用来验证, 查找, 筛选, 提取, 替换那些符合某个规则的文本字符串，是实现文本高效处理的神器</p>
</blockquote>
<h2 id="1-匹配规则">1, 匹配规则</h2>
<p>正则表达式的核心就是设计一个规则, 按照这个规则”按图索骥”, 去寻找符合这个规则的字符串, 并将它按需处理</p>
<p>先以一个最简单的例子进行探索:</p>
<p><code>re</code>: 正则表达式模块<br>
<code>findall</code>: 模块的一个方法, 传入 正则表达式 和 要去匹配字符串 将匹配结果以列表形式返回, 没有匹配结果返回空列表<br>
<code>\d</code>: 定义的规则, 表示匹配任意一个 0~9 的数字<br>
<code>198\d年</code>: 匹配符合 <code>198某年</code> 的字符串</p>
<p>然后按照规则去匹配字符串: <code>'1988年 2000年 2020年 1980年'</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 导入模块 re  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> re  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 按规则 r&#39;198\d年&#39; 匹配, r 的作用在 python 基础部分已介绍  </span>
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;198\d年&#39;</span>, <span style="color:#e6db74">&#39;1988年 2000年 2020年 1980年&#39;</span>)  
</span></span></code></pre></div><pre><code>['1988年', '1980年']
</code></pre>
<p><code>\d</code> 是其中一个规则定义符, 可以和其他字符组合成正则表达式, 它自身也是一个正则表达式</p>
<p><code>d</code> 则是字母 d 本身，像 <code>\d</code> 这样的特殊规则定义符有许多，如 <code>.</code>，<code>*</code>，<code>+</code>，<code>\s</code>，<code>()</code>，<code>[]</code> 等等</p>
<p>任意一个非特殊字符都可以作为匹配它自身的正则表达式</p>
<p>如果要匹配规则定义符，例如如要匹配 <code>\d</code>, 需要用 <code>\</code> 进行转义，也就是要用 <code>\\d</code> 来匹配 <code>\d</code>（其实是 <code>\\</code> 来匹配 <code>\</code>，<code>d</code> 来匹配 <code>d</code>）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">d.+\[a]&#39;</span>, <span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;a\d.+[a]&#39;</span>)  
</span></span></code></pre></div><pre><code>['\\d.+[a]']
</code></pre>
<h2 id="2-常用规则定义符">2, 常用规则定义符</h2>
<h3 id="201-定义类别匹配">2.01, 定义类别匹配</h3>
<p><code>\w</code> 匹配任意一个可以构成词语的 Unicode 字符, 包括数字及下划线, <code>\W</code> 则相反</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;my\wname&#39;</span>  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;my\Wname&#39;</span>  
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;my1name, my_name, my.name, my我name&#39;</span>  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(a, c)
</span></span></code></pre></div><pre><code>['my1name', 'my_name', 'my我name']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(b, c)
</span></span></code></pre></div><pre><code>['my.name']
</code></pre>
<p><code>\d</code> 匹配任意一个 十进制 数字, <code>\D</code> 匹配任意一个非数字</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;01\d-\D123&#39;</span>  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;010-0123, 010-o123, 01０-P123&#39;</span>  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(a, b)  
</span></span></code></pre></div><pre><code>['010-o123', '01０-P123']
</code></pre>
<p><code>\s</code> 匹配任何Unicode空白字符（包括 <code>[ \t\n\r\f\v]</code>，还有很多其他字符，比如不同语言排版规则约定的不换行空格）, <code>\S</code> 则相反</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;a\sb\Sc&#39;</span>  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a b c, a bcc, a  bcc&#39;</span>  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(a, b)  
</span></span></code></pre></div><pre><code>['a bcc']
</code></pre>
<p><code>.</code> 匹配除换行符 <code>\n</code> 之外的任意一个字符</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;a.b&#39;</span>  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;&#39;a  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">b, a-b, a b, a</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">b&#39;&#39;&#39;</span>  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(a, b)  
</span></span></code></pre></div><pre><code>['a-b', 'a b']
</code></pre>
<p><code>\b</code> 匹配 <code>\w</code> 和 <code>\W</code> 之间（或 <code>\w</code> 开头和结尾的边界）的空字符串, <code>\B</code> 与 <code>\b</code> 相反，匹配非 <code>\w</code> 和 <code>\W</code> 之间的空字符串（或 <code>\W</code> 开头和结尾的边界）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;\b.&#39;</span>, <span style="color:#e6db74">&#39;ab啊_c。d，</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><pre><code>['a', '。', 'd', '，']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;.\B&#39;</span>, <span style="color:#e6db74">&#39;ab啊_c。d，</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)
</span></span></code></pre></div><pre><code>['a', 'b', '啊', '_', '，']
</code></pre>
<h3 id="202-定义范围匹配">2.02, 定义范围匹配</h3>
<p>用括号 <code>[]</code> 将字符(表达式)包围起来, 表示在括号内指定的范围内匹配任意一个</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;[abc]&#39;</span>, <span style="color:#e6db74">&#39;bill&#39;</span>)  
</span></span></code></pre></div><pre><code>['b']
</code></pre>
<p>在 <code>[]</code> 内, 以 <code>^</code> 开头, 表示排除括号内的字符(表达式)范围匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;[^abc]&#39;</span>, <span style="color:#e6db74">&#39;abcd&#39;</span>)  
</span></span></code></pre></div><pre><code>['d']
</code></pre>
<p>在 <code>[]</code> 内, 数字或字母之间用 <code>-</code> 连接, 表示在两者(包含)之间的范围内匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;[a-d0-5A\-D]&#39;</span>, <span style="color:#e6db74">&#39;af357AB-&#39;</span>)  
</span></span></code></pre></div><pre><code>['a', '3', '5', 'A', '-']
</code></pre>
<p>一些特殊字符在 <code>[]</code> 内失去特殊含义</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;[(+*)\]\w]&#39;</span>, <span style="color:#e6db74">&#39;+(*)a].?&#39;</span>)
</span></span></code></pre></div><pre><code>['+', '(', '*', ')', 'a', ']']
</code></pre>
<h3 id="203-定义边界匹配">2.03, 定义边界匹配</h3>
<p><code>^</code> 或 <code>\A</code>, 表示必须以接下来的字符(表达式)开头才能被匹配, 换行开头也不能匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;^b\d[bc]&#39;</span>  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;&#39;a2b  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">b2b&#39;&#39;&#39;</span>  
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;b2bcd&#39;</span>  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(a, b)
</span></span></code></pre></div><pre><code>[]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(a, c)  
</span></span></code></pre></div><pre><code>['b2b']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;\Ab\d[bc]&#39;</span>  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;&#39;a2b  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">b2b&#39;&#39;&#39;</span>  
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;b2bcd&#39;</span>  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(a, b)
</span></span></code></pre></div><pre><code>[]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(a, c)  
</span></span></code></pre></div><pre><code>['b2b']
</code></pre>
<p><code>$</code> 或 <code>\Z</code>表示必须以其前面的字符(表达式)结尾才能被匹配, 换行之前的结束也不能匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;a\w$&#39;</span>, <span style="color:#e6db74">&#39;&#39;&#39;ab
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">ac&#39;&#39;&#39;</span>)
</span></span></code></pre></div><pre><code>['ac']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">&#39;a\w\Z&#39;</span>, <span style="color:#e6db74">&#39;ab</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">ad&#39;</span>)  
</span></span></code></pre></div><pre><code>['ad']
</code></pre>
<h3 id="204-定义数量匹配">2.04, 定义数量匹配</h3>
<p><code>+</code> 其前面的字符(表达式)至少有一个的都能匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;10+&#39;</span>, <span style="color:#e6db74">&#39;110, 100, 1001&#39;</span>)  
</span></span></code></pre></div><pre><code>['10', '100', '100']
</code></pre>
<p><code>?</code> 其前面的字符(表达式)最多有一个的才能匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;10?&#39;</span>, <span style="color:#e6db74">&#39;1, 10, 100&#39;</span>)  
</span></span></code></pre></div><pre><code>['1', '10', '10']
</code></pre>
<p><code>*</code> 其前面的字符(表达式)没有或有多个都可以匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;10*&#39;</span>, <span style="color:#e6db74">&#39;1, 10, 1001&#39;</span>)  
</span></span></code></pre></div><pre><code>['1', '10', '100', '1']
</code></pre>
<p><code>{n}</code> 其前面的字符(表达式)有 n 个才能匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;1\d</span><span style="color:#e6db74">{3}</span><span style="color:#e6db74">&#39;</span>, <span style="color:#e6db74">&#39;12, 123, 1a23, 1234&#39;</span>)  
</span></span></code></pre></div><pre><code>['1234']
</code></pre>
<p><code>{n,}</code> 其前面的字符(表达式)有至少 n 个才能匹配, <code>{m,n}</code> 则表示有 m~n 个才能匹配, m 和 n 之间只有 <code>,</code> 号而不能有空格</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;1\d{2,}&#39;</span>, <span style="color:#e6db74">&#39;12, 123, 1234, 12345&#39;</span>)  
</span></span></code></pre></div><pre><code>['123', '1234', '12345']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;1\d{2,3}&#39;</span>, <span style="color:#e6db74">&#39;12, 123, 1234, 12345&#39;</span>)  
</span></span></code></pre></div><pre><code>['123', '1234', '1234']
</code></pre>
<h3 id="205-或-匹配符-">2.05, <code>或</code> 匹配符 <code>|</code></h3>
<p>符号 <code>|</code> 两边的内容, 有一边匹配 或 两边都匹配都可以, 但当 <code>|</code> 在括号 <code>[]</code> 中则无此作用, 只代表它自身</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;aa|bb&#39;</span>, <span style="color:#e6db74">&#39;aacbbcaabbab&#39;</span>)  
</span></span></code></pre></div><pre><code>['aa', 'bb', 'aa', 'bb']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;a[|]b&#39;</span>, <span style="color:#e6db74">&#39;ab, a|b&#39;</span>)  
</span></span></code></pre></div><pre><code>['a|b']
</code></pre>
<h3 id="206-定义组合匹配">2.06, 定义组合匹配</h3>
<p>用 <code>()</code> 将多个字符组合成一个整体来匹配, 不管 <code>()</code> 外是否有数量匹配符, 都只返回 <code>()</code> 内的内容, 如果表达式内有多个 <code>()</code> 封装的内容, 匹配结果以元组形式返回</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 匹配的是 ab 和 abab 但只返回括号内的 ab  </span>
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(ab)+&#39;</span>, <span style="color:#e6db74">&#39;ab11abab&#39;</span>)   
</span></span></code></pre></div><pre><code>['ab', 'ab']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;^(ab)+&#39;</span>, <span style="color:#e6db74">&#39;ab11abab&#39;</span>) <span style="color:#75715e"># 必须 ab 开头 </span>
</span></span></code></pre></div><pre><code>['ab']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 匹配的是后面的 abab 返回元组  </span>
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(ab)(ab)&#39;</span>, <span style="color:#e6db74">&#39;ab11abab&#39;</span>)   
</span></span></code></pre></div><pre><code>[('ab', 'ab')]
</code></pre>
<p>将贪婪匹配转为非贪婪匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 贪婪匹配 \d+ 使得无法将 000 取出  </span>
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(\d+)(0*)$&#39;</span>, <span style="color:#e6db74">&#39;123000&#39;</span>)  
</span></span></code></pre></div><pre><code>[('123000', '')]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># + 后面加个 ? 号  </span>
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(\d+?)(0*)$&#39;</span>, <span style="color:#e6db74">&#39;123000&#39;</span>)  
</span></span></code></pre></div><pre><code>[('123', '000')]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;[(ab)]&#39;</span>, <span style="color:#e6db74">&#39;ab, (ab)&#39;</span>)  
</span></span></code></pre></div><pre><code>['a', 'b', '(', 'a', 'b', ')']
</code></pre>
<p>如果 <code>()</code> 内以 <code>?:</code> 开头, 只有一组时，返回匹配的字符串，多组则 <code>?:</code> 开头的不捕获不返回</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(?:ab)+&#39;</span>, <span style="color:#e6db74">&#39;ab11abab&#39;</span>)   
</span></span></code></pre></div><pre><code>['ab', 'abab']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 匹配的是后面的 abab, 但只返回前一个 () 内的内容  </span>
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(ab)(?:ab)+&#39;</span>, <span style="color:#e6db74">&#39;ab11abab&#39;</span>)   
</span></span></code></pre></div><pre><code>['ab']
</code></pre>
<p>如果 <code>()</code> 内以 <code>?=</code> 开头, 则 <code>()</code> 内的内容只是用来匹配, 不返回也不消耗匹配的字符, 也就是说, 匹配完了, 后面的字符需要继续匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;a(?=bc)bc&#39;</span>, <span style="color:#e6db74">&#39;ab, abc, abcde&#39;</span>)  
</span></span></code></pre></div><pre><code>['abc', 'abc']
</code></pre>
<p>如果 <code>()</code> 内以 <code>?!</code> 开头, 则 <code>()</code> 内的内容只是用来排除, 也就是说, 排除括号内的内容都可以匹配, 不占字符, 匹配完了,
后面的字符需要继续匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># a 后面除了 bc 都可以匹配  </span>
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;a(?!bc)\w+&#39;</span>, <span style="color:#e6db74">&#39;abc, acb, abde&#39;</span>)  
</span></span></code></pre></div><pre><code>['acb', 'abde']
</code></pre>
<p><code>\number</code> 匹配指定的组合，组合从 1 开始编号</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># \1 匹配第一个组合 (a)</span>
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;(a)(\d+)(\1)&#39;</span>, <span style="color:#e6db74">&#39;aba1aa34a2&#39;</span>)  
</span></span></code></pre></div><pre><code>[('a', '1', 'a'), ('a', '34', 'a')]
</code></pre>
<p>绝大部分 Python 的标准转义字符也被正则表达式分析器支持:</p>
<pre><code>\a      \b      \f      \n
\N      \r      \t      \u
\U      \v      \x      \\
</code></pre>
<p>（注意 <code>\b</code> 被用于表示词语的边界，它只在 <code>[]</code> 内表示退格，比如 <code>[\b]</code>）</p>
<h3 id="207-匹配规则修改标志">2.07, 匹配规则修改标志</h3>
<p>介绍几个常用的规则修改标志</p>
<p><code>re.I</code> 大小写不敏感匹配</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;aA&#39;</span>,<span style="color:#e6db74">&#39;aA, aa&#39;</span>, re<span style="color:#f92672">.</span>I)  
</span></span></code></pre></div><pre><code>['aA', 'aa']
</code></pre>
<p><code>re.S</code> 使 <code>.</code> 匹配任何字符, 包括换行符</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;&#39;a
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">b, a-b&#39;&#39;&#39;</span>  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;a.b&#39;</span>, s, re<span style="color:#f92672">.</span>S)  
</span></span></code></pre></div><pre><code>['a\nb', 'a-b']
</code></pre>
<p><code>re.M</code> 使得 <code>^</code> 和 <code>$</code> 能匹配换行的开始或换行前的结束</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;^b\d[bc]&#39;</span>  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;&#39;b2c
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">b2b&#39;&#39;&#39;</span>  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(a, b, re<span style="color:#f92672">.</span>M)  
</span></span></code></pre></div><pre><code>['b2c', 'b2b']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;a\d[bc]$&#39;</span>  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;&#39;a2b
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">a2c&#39;&#39;&#39;</span>  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(a, b, re<span style="color:#f92672">.</span>M)  
</span></span></code></pre></div><pre><code>['a2b', 'a2c']
</code></pre>
<h2 id="3-匹配和处理方法">3, 匹配和处理方法</h2>
<p><code>match</code> 从字符串起始位置匹配, 匹配到的字符返回为 match 对象, 可以用方法加以获取</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>match(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;ab&#39;</span>, <span style="color:#e6db74">&#39;abc&#39;</span>)  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>match(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;a(bc)d(ef)g&#39;</span>, <span style="color:#e6db74">&#39;abcdefgh&#39;</span>)  
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>match(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;ab&#39;</span>, <span style="color:#e6db74">&#39;bab&#39;</span>)  
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>&lt;re.Match object; span=(0, 2), match='ab'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b
</span></span></code></pre></div><pre><code>&lt;re.Match object; span=(0, 7), match='abcdefg'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># group() 获取匹配的全部字符,   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># group(1) 获取 () 内匹配的第一个, 以此类推  </span>
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>group(), b<span style="color:#f92672">.</span>group(), b<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">1</span>), b<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">2</span>)  
</span></span></code></pre></div><pre><code>('ab', 'abcdefg', 'bc', 'ef')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># start 获取匹配开始的位置  </span>
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>start(), b<span style="color:#f92672">.</span>start()  
</span></span></code></pre></div><pre><code>(0, 0)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># end 获取匹配结束的位置  </span>
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>end(), b<span style="color:#f92672">.</span>end()  
</span></span></code></pre></div><pre><code>(2, 7)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># span 获取 (开始, 结束) 元组  </span>
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>span(), b<span style="color:#f92672">.</span>span()  
</span></span></code></pre></div><pre><code>((0, 2), (0, 7))
</code></pre>
<p><code>compile</code> 编译正则表达式, 返回一个 Pattern 对象(后面简写为p), 然后可以用该对象调用方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>p <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(<span style="color:#e6db74">&#39;\d+&#39;</span>)  
</span></span><span style="display:flex;"><span>p  
</span></span></code></pre></div><pre><code>re.compile(r'\d+', re.UNICODE)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 调用上面的 match 方法, 可以指定开始和结束位置  </span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> p<span style="color:#f92672">.</span>match(<span style="color:#e6db74">&#39;12a21&#39;</span>, <span style="color:#ae81ff">3</span>)  
</span></span><span style="display:flex;"><span>a  
</span></span></code></pre></div><pre><code>&lt;re.Match object; span=(3, 5), match='21'&gt;
</code></pre>
<p><code>re.search</code> 扫描整个字符串, 第一个匹配的字符串返回为 match 对象</p>
<p><code>p.search</code> 扫描指定范围, 不指定就全部扫描</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>r <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;python\d.\d&#39;</span>  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;python3.0, python3.8&#39;</span>  
</span></span><span style="display:flex;"><span>p <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(r)  
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>search(r, s)  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> p<span style="color:#f92672">.</span>search(s)  
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> p<span style="color:#f92672">.</span>search(s, <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>&lt;re.Match object; span=(0, 9), match='python3.0'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b
</span></span></code></pre></div><pre><code>&lt;re.Match object; span=(0, 9), match='python3.0'&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c
</span></span></code></pre></div><pre><code>&lt;re.Match object; span=(11, 20), match='python3.8'&gt;
</code></pre>
<p><code>sub</code> 替换字符串中的匹配项, 可以控制替换次数, 还可传入函数高级替换</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>r <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[,.]&#39;</span>  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;去掉,逗号和.句号.&#39;</span>  
</span></span><span style="display:flex;"><span>p <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(r)  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>sub(p, <span style="color:#e6db74">&#39;&#39;</span>, s)
</span></span></code></pre></div><pre><code>'去掉逗号和句号'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>p<span style="color:#f92672">.</span>sub(<span style="color:#e6db74">&#39;&#39;</span>, s, <span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>'去掉逗号和.句号.'
</code></pre>
<p><code>findall</code> 已经介绍过</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>r <span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;\D+(\d+)\D+(\d+)\D+(\d+)*&#39;</span>  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;分组提取123所有456数字78.&#39;</span>  
</span></span><span style="display:flex;"><span>p <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(r)  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>findall(p, s)
</span></span></code></pre></div><pre><code>[('123', '456', '78')]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>p<span style="color:#f92672">.</span>findall(s, <span style="color:#ae81ff">8</span>)  
</span></span></code></pre></div><pre><code>[('456', '78', '')]
</code></pre>
<p><code>finditer</code> 和 <code>findall</code>类似, 只是返回的是一个 match 迭代器</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> re  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>r <span style="color:#f92672">=</span> <span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;\D+(\d+)\D+(\d+)\D+(\d+)*&#39;</span>  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;分组提取123所有456数字78.&#39;</span>  
</span></span><span style="display:flex;"><span>p <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(r)  
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>finditer(p, s)  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> p<span style="color:#f92672">.</span>finditer(s, <span style="color:#ae81ff">8</span>)  
</span></span><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>&lt;callable_iterator at 0x18d4fa31460&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b
</span></span></code></pre></div><pre><code>&lt;callable_iterator at 0x18d4fa31430&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i, j <span style="color:#f92672">in</span> zip(a, b):  
</span></span><span style="display:flex;"><span>    print(i)  
</span></span><span style="display:flex;"><span>    print(j)  
</span></span><span style="display:flex;"><span>    print(i<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>    print(j<span style="color:#f92672">.</span>group(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))  
</span></span></code></pre></div><pre><code>&lt;re.Match object; span=(0, 16), match='分组提取123所有456数字78'&gt;
&lt;re.Match object; span=(8, 17), match='有456数字78.'&gt;
('123', '456', '78')
('456', '78', None)
</code></pre>
<p><code>split</code> 用匹配到的字符(或字符串), 将整个字符串分割返回列表, 可设置最大拆分数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>r <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;[\s\,-]&#39;</span>  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;将,每 个-字 拆,开&#39;</span>  
</span></span><span style="display:flex;"><span>p <span style="color:#f92672">=</span> re<span style="color:#f92672">.</span>compile(r)  
</span></span><span style="display:flex;"><span>re<span style="color:#f92672">.</span>split(p, s)
</span></span></code></pre></div><pre><code>['将', '每', '个', '字', '拆', '开']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>p<span style="color:#f92672">.</span>split(s, <span style="color:#ae81ff">2</span>)  
</span></span></code></pre></div><pre><code>['将', '每', '个-字 拆,开']
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/regex/_index.files/regex.ipynb">regex.ipynb</a> (32 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>Numpy 基础快速了解和查询</h1>

<p><a href="https://numpy.org/doc/">官方文档</a></p>
<blockquote>
<p>numpy 是 python 的强大科学计算库, 它让 python 处理数据, 进行科学计算变得极其便捷, 高效</p>
</blockquote>
<h2 id="一-n-维数组-ndarray-对象">一, N 维数组 ndarray 对象</h2>
<h3 id="1-ndaraay-介绍">1, ndaraay 介绍</h3>
<p>ndarray 是具有相同类型和大小的项目的多维容器, 它的数据存储效率和输入输出性能远远优于 python 中等价的数据结构</p>
<h4 id="101-理解-ndarray">1.01, 理解 ndarray</h4>
<p>创建 ndarray: <code>np.array()</code>, <code>np.ndarray()</code>, 下面只介绍 3 维以下数组, 理解它们的结构</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 一维  </span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array((<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 二维，2 行 3 列</span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>ndarray((<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>))
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a
</span></span></code></pre></div><pre><code>array([2, 3])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b
</span></span></code></pre></div><pre><code>array([[0., 0., 0.],
       [0., 0., 0.]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>dtype, b<span style="color:#f92672">.</span>dtype <span style="color:#75715e"># 类型</span>
</span></span></code></pre></div><pre><code>(dtype('int32'), dtype('float64'))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array((<span style="color:#ae81ff">1</span>,<span style="color:#e6db74">&#39;2&#39;</span>))
</span></span><span style="display:flex;"><span>c
</span></span></code></pre></div><pre><code>array(['1', '2'], dtype='&lt;U11')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>type(c), type(c[<span style="color:#ae81ff">0</span>])
</span></span></code></pre></div><pre><code>(numpy.ndarray, numpy.str_)
</code></pre>
<p>可见, ndarray 对象中的元素类型只有一种, 如上例，都统一成 Unicode, 元素位长是 11, 所以说 ndarray 是一个具有相同类型和大小的项目的多维容器</p>
<p>一维就是一行，二维就像一个表格, 横着是一行, 竖着是一列</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 三维  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>ndarray((<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>))  
</span></span></code></pre></div><pre><code>array([[[6.23042070e-307, 7.56587584e-307, 1.37961302e-306],
        [6.23053614e-307, 6.23053954e-307, 9.34609790e-307],
        [8.45593934e-307, 9.34600963e-307, 9.34598925e-307]],

       [[1.42418715e-306, 1.95819401e-306, 1.37961370e-306],
        [6.23054633e-307, 9.34598926e-307, 6.89804132e-307],
        [9.34598926e-307, 8.01091099e-307, 1.24610927e-306]],

       [[8.90094053e-307, 1.02361342e-306, 7.56593017e-307],
        [1.60219035e-306, 8.90111708e-307, 6.89806849e-307],
        [9.34601642e-307, 1.42410974e-306, 5.97819431e-322]]])
</code></pre>
<p>三维类似一个 excel 文件里的多个表格</p>
<h4 id="102-ndarray-对象计算的优势">1.02, ndarray 对象计算的优势</h4>
<p>用实例来对比利用 ndarray 进行计算的优势</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> random  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> time  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 假设有如下列表和 array, 使其中每个数都变成它的平方  </span>
</span></span><span style="display:flex;"><span>a1 <span style="color:#f92672">=</span> [random<span style="color:#f92672">.</span>random() <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">100000000</span>)]  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># a2 = np.array(a1)  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>t1 <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>time()  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> [i<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> a1]  
</span></span><span style="display:flex;"><span>t2 <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>time()  
</span></span><span style="display:flex;"><span>a2 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array(a1)  
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> a2<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>  
</span></span><span style="display:flex;"><span>t3 <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>time()  
</span></span><span style="display:flex;"><span>print(t2 <span style="color:#f92672">-</span> t1, t3 <span style="color:#f92672">-</span> t2, sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)  
</span></span></code></pre></div><pre><code>15.133688688278198
4.770834445953369
</code></pre>
<p>差距非常明显(如果 a2 在计算之前就已经是 ndarray 对象会更明显), numpy 有其自身机制(广播)实现快速计算</p>
<h4 id="103-ndarray-的数据类型和常量">1.03, ndarray 的数据类型和常量</h4>
<p>ndarray 对象数据的数据类型有 <code>bool</code>, <code>int</code>, <code>float</code>, <code>U</code>(字符串), <code>O</code>(python 对象)等, 查看数据类型用
<code>dtype</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;a&#39;</span>, np<span style="color:#f92672">.</span>nan])  
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>dtype, a[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>dtype, a[<span style="color:#ae81ff">2</span>]<span style="color:#f92672">.</span>dtype  
</span></span></code></pre></div><pre><code>(dtype('&lt;U32'), dtype('&lt;U1'), dtype('&lt;U3'))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>array(<span style="color:#66d9ef">True</span>)<span style="color:#f92672">.</span>dtype  
</span></span></code></pre></div><pre><code>dtype('bool')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>array(<span style="color:#ae81ff">123456</span>)<span style="color:#f92672">.</span>dtype  
</span></span></code></pre></div><pre><code>dtype('int32')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>array(<span style="color:#ae81ff">3.1415926</span>)<span style="color:#f92672">.</span>dtype  
</span></span></code></pre></div><pre><code>dtype('float64')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>array(list)<span style="color:#f92672">.</span>dtype  
</span></span></code></pre></div><pre><code>dtype('O')
</code></pre>
<p>ndarray 对象数据的常量有 <code>pi</code>, <code>e</code>, <code>nan</code> (空值), <code>inf</code> (无穷大)等</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>pi  
</span></span></code></pre></div><pre><code>3.141592653589793
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>e  
</span></span></code></pre></div><pre><code>2.718281828459045
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>nan  
</span></span></code></pre></div><pre><code>nan
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>inf  
</span></span></code></pre></div><pre><code>inf
</code></pre>
<h3 id="2-ndarray-的属性">2, ndarray 的属性</h3>
<p>常用 ndarray 对象的属性</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>], [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]])  
</span></span><span style="display:flex;"><span>a  
</span></span></code></pre></div><pre><code>array([[1, 2, 3],
       [4, 5, 6]])
</code></pre>
<p>查看数组形状 <code>(行, 列)</code>, 这在数据处理和计算时非常有用, 例如遍历出所有行或列</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>shape  
</span></span></code></pre></div><pre><code>(2, 3)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 遍历所有列  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(a<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">1</span>]):  
</span></span><span style="display:flex;"><span>    print(a[:, i])  
</span></span></code></pre></div><pre><code>[1 4]
[2 5]
[3 6]
</code></pre>
<p>查看数组维度</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>ndim  
</span></span></code></pre></div><pre><code>2
</code></pre>
<p>查看数组元素个数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>size  
</span></span></code></pre></div><pre><code>6
</code></pre>
<p>查看数组类型</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>dtype  
</span></span></code></pre></div><pre><code>dtype('int32')
</code></pre>
<p>查看数组元素的大小, 字节为单位</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>itemsize  
</span></span></code></pre></div><pre><code>4
</code></pre>
<p>数组转置, 就是行列互换</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>T  
</span></span></code></pre></div><pre><code>array([[1, 4],
       [2, 5],
       [3, 6]])
</code></pre>
<h2 id="二-ndarray-对象的切片操作">二, ndarray 对象的切片操作</h2>
<h3 id="1-切片取值">1, 切片取值</h3>
<p>ndarray 的切片操作和 python 类似, 一维切片 <code>[起始:结束:步长]</code>, 二维的切片 <code>[起始行:结束行:步长, 起始列:结束列:步长]</code>
或 <code>[[行, ...], [列, ...]]</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">20</span>)  
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>shape <span style="color:#f92672">=</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>)  
</span></span><span style="display:flex;"><span>a 
</span></span></code></pre></div><pre><code>array([[ 0,  1,  2,  3,  4],
       [ 5,  6,  7,  8,  9],
       [10, 11, 12, 13, 14],
       [15, 16, 17, 18, 19]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 第一行的第 1, 3, 5 个数  </span>
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>][<span style="color:#ae81ff">0</span>::<span style="color:#ae81ff">2</span>]  
</span></span></code></pre></div><pre><code>array([0, 2, 4])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a[<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>] 
</span></span></code></pre></div><pre><code>13
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">5</span>]  
</span></span></code></pre></div><pre><code>array([[1, 2, 3, 4],
       [6, 7, 8, 9]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">3</span>:<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">2</span>]  
</span></span></code></pre></div><pre><code>array([[ 0,  2],
       [10, 12]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a[[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>], <span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">3</span>]  
</span></span></code></pre></div><pre><code>array([[ 5,  6,  7],
       [15, 16, 17]])
</code></pre>
<p>还可以通过逻辑运算取值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 取出数组中的数翻倍之后小于 15 的数  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 结果展开为 1 维  </span>
</span></span><span style="display:flex;"><span>a[a <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">15</span>]  
</span></span></code></pre></div><pre><code>array([0, 1, 2, 3, 4, 5, 6, 7])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># &amp; 与  </span>
</span></span><span style="display:flex;"><span>a[(a <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>) <span style="color:#f92672">&amp;</span> (a <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">1</span>)]  
</span></span></code></pre></div><pre><code>array([2, 3, 4])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># | 或  </span>
</span></span><span style="display:flex;"><span>a[(a <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">|</span> (a <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">15</span>)]  
</span></span></code></pre></div><pre><code>array([ 0,  1,  2, 16, 17, 18, 19])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ~ 非  </span>
</span></span><span style="display:flex;"><span>a[<span style="color:#f92672">~</span> (a <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">3</span>)]  
</span></span></code></pre></div><pre><code>array([0, 1, 2, 3])
</code></pre>
<h3 id="2-利用切片修改值">2, 利用切片修改值</h3>
<p>切片修改值, 其实就是将取到的值重新赋值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a[<span style="color:#f92672">~</span> (a <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">3</span>)] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>  
</span></span><span style="display:flex;"><span>a  
</span></span></code></pre></div><pre><code>array([[ 1,  1,  1,  1,  4],
       [ 5,  6,  7,  8,  9],
       [10, 11, 12, 13, 14],
       [15, 16, 17, 18, 19]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将 1 修改为 nan, nan 是 float 类型,   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 保证类型一致性, 需要将 a 转为 float  </span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>astype(float)  
</span></span><span style="display:flex;"><span>a[a <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>nan  
</span></span><span style="display:flex;"><span>a  
</span></span></code></pre></div><pre><code>array([[nan, nan, nan, nan,  4.],
       [ 5.,  6.,  7.,  8.,  9.],
       [10., 11., 12., 13., 14.],
       [15., 16., 17., 18., 19.]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 任何 nan 都不等于 nan,   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 利用此特性取 nan, 或非 nan 的数  </span>
</span></span><span style="display:flex;"><span>a[a <span style="color:#f92672">!=</span> a], a[a <span style="color:#f92672">==</span> a]  
</span></span></code></pre></div><pre><code>(array([nan, nan, nan, nan]),
 array([ 4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12., 13., 14., 15., 16.,
        17., 18., 19.]))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 交换行, 交换列  </span>
</span></span><span style="display:flex;"><span>a[[<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">3</span>], :] <span style="color:#f92672">=</span> a[[<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>], :]  
</span></span><span style="display:flex;"><span>a[:, [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">0</span>]] <span style="color:#f92672">=</span> a[:, [<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">4</span>]]  
</span></span><span style="display:flex;"><span>a  
</span></span></code></pre></div><pre><code>array([[19., 16., 17., 18., 15.],
       [ 9.,  6.,  7.,  8.,  5.],
       [14., 11., 12., 13., 10.],
       [ 4., nan, nan, nan, nan]])
</code></pre>
<h2 id="三-ndarray-对象的运算及其方法">三, ndarray 对象的运算及其方法</h2>
<h3 id="1-ndarray-的运算">1, ndarray 的运算</h3>
<p>numpy 在运算时, 会通过广播机制, 将运算相对应到每个元素上:</p>
<p><strong>数和数组计算, 数会和数组中的每一个元素进行计算</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 方法 reshape 用于设置数组的形状, 后面会说  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">9</span>)<span style="color:#f92672">.</span>reshape((<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>a  
</span></span></code></pre></div><pre><code>array([[0, 1, 2],
       [3, 4, 5],
       [6, 7, 8]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>a <span style="color:#f92672">*</span> <span style="color:#ae81ff">2</span>  
</span></span><span style="display:flex;"><span>b  
</span></span></code></pre></div><pre><code>array([[  0,  -2,  -4],
       [ -6,  -8, -10],
       [-12, -14, -16]])
</code></pre>
<p><strong>相同形状的多维数组之间的运算, 对应位置的元素进行计算</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">+</span> b  
</span></span></code></pre></div><pre><code>array([[ 0, -1, -2],
       [-3, -4, -5],
       [-6, -7, -8]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 行相同  </span>
</span></span><span style="display:flex;"><span>a[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> (a <span style="color:#f92672">+</span> b)  
</span></span></code></pre></div><pre><code>array([[ 3,  3,  3],
       [ 0,  0,  0],
       [-3, -3, -3]])
</code></pre>
<p><strong>二维一列的数组和多维数组之间的运算, 需要列元素个数相同, 然后一一对应并广播计算</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 列相同  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># a 的列取出来成了一维, 需要转为二维  </span>
</span></span><span style="display:flex;"><span>a[:, <span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>reshape((<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>)) <span style="color:#f92672">+</span> (a <span style="color:#f92672">+</span> b)  
</span></span></code></pre></div><pre><code>array([[ 1,  0, -1],
       [ 1,  0, -1],
       [ 1,  0, -1]])
</code></pre>
<h3 id="2-常用-ndarray-对象的方法">2, 常用 ndarray 对象的方法</h3>
<p>就是直接用 ndarray 对象调用的方法</p>
<h4 id="201-形状操作">2.01, 形状操作</h4>
<p><strong>flatten 或 ravel 将多维数组展开为一维, 不改变原数组</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a  
</span></span></code></pre></div><pre><code>array([[0, 1, 2],
       [3, 4, 5],
       [6, 7, 8]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认参数 &#39;C&#39; 以行展开, &#39;F&#39; 以列展开  </span>
</span></span><span style="display:flex;"><span>display(a<span style="color:#f92672">.</span>flatten())  
</span></span><span style="display:flex;"><span>display(a<span style="color:#f92672">.</span>flatten(<span style="color:#e6db74">&#39;F&#39;</span>))  
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>ravel(<span style="color:#e6db74">&#39;F&#39;</span>)  
</span></span></code></pre></div><pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8])



array([0, 3, 6, 1, 4, 7, 2, 5, 8])





array([0, 3, 6, 1, 4, 7, 2, 5, 8])
</code></pre>
<p><strong>reshape 修改数组的形状, 不改变原数组, 行列数相乘要等于元素总数; resize 就地修改原数组形状</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认以行展开修改  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">12</span>)<span style="color:#f92672">.</span>reshape((<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>))  
</span></span><span style="display:flex;"><span>display(b)  
</span></span><span style="display:flex;"><span>b<span style="color:#f92672">.</span>reshape((<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">6</span>), order<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;F&#39;</span>)  
</span></span></code></pre></div><pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])





array([[ 0,  8,  5,  2, 10,  7],
       [ 4,  1,  9,  6,  3, 11]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 就地修改 b  </span>
</span></span><span style="display:flex;"><span>display(b)  
</span></span><span style="display:flex;"><span>b<span style="color:#f92672">.</span>resize((<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>b  
</span></span></code></pre></div><pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])





array([[ 0,  1,  2],
       [ 3,  4,  5],
       [ 6,  7,  8],
       [ 9, 10, 11]])
</code></pre>
<h4 id="202-转换类型">2.02, 转换类型</h4>
<p><strong>tolist 数组转列表</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b<span style="color:#f92672">.</span>tolist()  
</span></span></code></pre></div><pre><code>[[0, 1, 2], [3, 4, 5], [6, 7, 8], [9, 10, 11]]
</code></pre>
<p><strong>astype 改变数组类型</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b<span style="color:#f92672">.</span>astype(float)  
</span></span></code></pre></div><pre><code>array([[ 0.,  1.,  2.],
       [ 3.,  4.,  5.],
       [ 6.,  7.,  8.],
       [ 9., 10., 11.]])
</code></pre>
<h4 id="203-修改-排序及查找">2.03, 修改, 排序及查找</h4>
<p><strong>fill 给原数组重新填值, 类型不变</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>fill(<span style="color:#ae81ff">2.01</span>)  
</span></span><span style="display:flex;"><span>b  
</span></span></code></pre></div><pre><code>array([[ 2,  2,  2],
       [ 3,  4,  5],
       [ 6,  7,  8],
       [ 9, 10, 11]])
</code></pre>
<p><strong>sort 就地排序, 参数 0 将列排序, 1 将行排序</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([[<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">5</span>], [<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">6</span>], [<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">3</span>]])  
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>sort(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>a  
</span></span></code></pre></div><pre><code>array([[0, 0, 3],
       [3, 4, 5],
       [8, 7, 6]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>argsort() <span style="color:#75715e"># 返回排序后的索引位置  </span>
</span></span></code></pre></div><pre><code>array([[0, 1, 2],
       [0, 1, 2],
       [2, 1, 0]], dtype=int64)
</code></pre>
<p><strong>nonzero 返回非零元素的索引, 行坐标一个数组, 列坐标一个数组</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>nonzero()  
</span></span></code></pre></div><pre><code>(array([0, 1, 1, 1, 2, 2, 2], dtype=int64),
 array([2, 0, 1, 2, 0, 1, 2], dtype=int64))
</code></pre>
<h4 id="204-计算">2.04, 计算</h4>
<p><strong>max 返回最大值, 给定轴将返回给定轴的最大值, argmax 返回索引, 与之对应的还有最小min 和 argmin</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 参数 0 列的最大值, 参数 1 行的最大值  </span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">1.01</span>, <span style="color:#ae81ff">13.13</span>, <span style="color:#ae81ff">1.01</span>)<span style="color:#f92672">.</span>reshape(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>)  
</span></span><span style="display:flex;"><span>print(a)  
</span></span><span style="display:flex;"><span>print(a<span style="color:#f92672">.</span>max(), a<span style="color:#f92672">.</span>max(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>), a<span style="color:#f92672">.</span>max(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>))  
</span></span></code></pre></div><pre><code>[[ 1.01  2.02  3.03  4.04]
 [ 5.05  6.06  7.07  8.08]
 [ 9.09 10.1  11.11 12.12]]
12.12 [ 9.09 10.1  11.11 12.12] [ 4.04  8.08 12.12]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 参数 0 行索引, 1 列索引  </span>
</span></span><span style="display:flex;"><span>print(a<span style="color:#f92672">.</span>argmax(), a<span style="color:#f92672">.</span>argmax(<span style="color:#ae81ff">0</span>), a<span style="color:#f92672">.</span>argmax(<span style="color:#ae81ff">1</span>))  
</span></span></code></pre></div><pre><code>11 [2 2 2 2] [3 3 3]
</code></pre>
<p><strong>ptp 返回极值或给定轴的极值(最大-最小)</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>ptp(), a<span style="color:#f92672">.</span>ptp(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>), a<span style="color:#f92672">.</span>ptp(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>(11.11, array([8.08, 8.08, 8.08, 8.08]), array([3.03, 3.03, 3.03]))
</code></pre>
<p><strong>clip 返回指定值之间的数组, 小于或大于指定值的, 用指定值填充</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>clip(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">6</span>)  
</span></span></code></pre></div><pre><code>array([[2.  , 2.02, 3.03, 4.04],
       [5.05, 6.  , 6.  , 6.  ],
       [6.  , 6.  , 6.  , 6.  ]])
</code></pre>
<p><strong>round 四舍五入到指定位数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a<span style="color:#f92672">.</span>round(<span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>array([[ 1. ,  2. ,  3. ,  4. ],
       [ 5. ,  6.1,  7.1,  8.1],
       [ 9.1, 10.1, 11.1, 12.1]])
</code></pre>
<p><strong>sum 求和, cumsum 累积求和</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(a<span style="color:#f92672">.</span>sum()) <span style="color:#75715e"># 总和  </span>
</span></span><span style="display:flex;"><span>print(a<span style="color:#f92672">.</span>sum(<span style="color:#ae81ff">0</span>)) <span style="color:#75715e"># 列求和  </span>
</span></span><span style="display:flex;"><span>print(a<span style="color:#f92672">.</span>sum(<span style="color:#ae81ff">1</span>)) <span style="color:#75715e"># 行求和  </span>
</span></span></code></pre></div><pre><code>78.78
[15.15 18.18 21.21 24.24]
[10.1  26.26 42.42]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(a<span style="color:#f92672">.</span>cumsum()) <span style="color:#75715e"># 全部累积  </span>
</span></span><span style="display:flex;"><span>print(a<span style="color:#f92672">.</span>cumsum(<span style="color:#ae81ff">0</span>)) <span style="color:#75715e"># 列累积  </span>
</span></span><span style="display:flex;"><span>print(a<span style="color:#f92672">.</span>cumsum(<span style="color:#ae81ff">1</span>)) <span style="color:#75715e"># 行累积  </span>
</span></span></code></pre></div><pre><code>[ 1.01  3.03  6.06 10.1  15.15 21.21 28.28 36.36 45.45 55.55 66.66 78.78]
[[ 1.01  2.02  3.03  4.04]
 [ 6.06  8.08 10.1  12.12]
 [15.15 18.18 21.21 24.24]]
[[ 1.01  3.03  6.06 10.1 ]
 [ 5.05 11.11 18.18 26.26]
 [ 9.09 19.19 30.3  42.42]]
</code></pre>
<p>类似还有 mean 均值, var 方差, std 标准差, prod 乘积, cumprod 累积乘积, 不在一一举例</p>
<p><strong>all 数组所有元素都判断为 True, 返回 True, 而 any 只要任何一个 True 返回 True</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>])  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>])  
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">.</span>all(), b<span style="color:#f92672">.</span>all(), a<span style="color:#f92672">.</span>any(), b<span style="color:#f92672">.</span>any()  
</span></span></code></pre></div><pre><code>(True, False, True, False)
</code></pre>
<h2 id="四-创建或生成-ndarray-对象">四, 创建或生成 ndarray 对象</h2>
<h3 id="1-生成随机数">1, 生成随机数</h3>
<p>利用 numpy 生成随机数的模块 random, 创建数据来作例子非常有用. 先研究一下这个模块, 再研究通用函数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># random 生成 0 ~ 1 之间的随机数  </span>
</span></span><span style="display:flex;"><span>display(<span style="color:#ae81ff">1</span> <span style="color:#f92672">+</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>random(<span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>random((<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)) <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span>  
</span></span></code></pre></div><pre><code>array([1.33317465, 1.03829035, 1.19401465])





array([[2.13175522, 1.41162992, 9.67005144],
       [0.03480687, 4.63431381, 5.88380759]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 同上, 传参方式不一样  </span>
</span></span><span style="display:flex;"><span>display(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>)  
</span></span></code></pre></div><pre><code>array([0.60852454, 0.70296852, 0.31611002])





array([[[0.76136557, 0.14321424],
        [0.01322461, 0.89676522],
        [0.71400795, 0.00755323]]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 返回指定范围内的随机整数 [a,b) 包含 a 不包含 b, 不指定 b 则 [0,a)  </span>
</span></span><span style="display:flex;"><span>display(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">3</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>, (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))  
</span></span></code></pre></div><pre><code>array([0, 2, 0])





array([[2, 2, 1],
       [3, 2, 3]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 生成的随机数服从标准正态分布  </span>
</span></span><span style="display:flex;"><span>display(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>)  
</span></span></code></pre></div><pre><code>array([-1.46427887,  0.87862733, -0.98698207])





array([[ 0.51350851, -0.67478546],
       [ 0.543379  ,  0.63665877],
       [-1.31200705, -0.30697352]])
</code></pre>
<p>类似还有拉普拉斯分布 laplace, 逻辑分布 logistic, 正态分布 normal 等, 可以设置分布的参数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>logistic(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">2</span>, (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))  
</span></span></code></pre></div><pre><code>array([[2.40647744, 5.62327677, 5.8642342 ],
       [4.10741882, 7.65751053, 4.99483744]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 打乱原数组元素, 二维时只能打乱行的顺序  </span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">5</span>)  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">9</span>)<span style="color:#f92672">.</span>reshape(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>shuffle(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>shuffle(b)  
</span></span><span style="display:flex;"><span>a, b  
</span></span></code></pre></div><pre><code>(array([0, 2, 4, 1, 3]),
 array([[3, 4, 5],
        [6, 7, 8],
        [0, 1, 2]]))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 从一个一维数组里随机选择指定数量的元素,   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 或随机生成 0 到指定整数(不包含)的随机数  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># replace=True 元素可以重复选择(默认)  </span>
</span></span><span style="display:flex;"><span>display(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>choice(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>, replace<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>))  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>choice(a, (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))  
</span></span></code></pre></div><pre><code>array([4, 3, 1, 2, 0])





array([[3, 2, 2],
       [3, 0, 0]])
</code></pre>
<h3 id="2-创建数组">2, 创建数组</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>empty((<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))  
</span></span></code></pre></div><pre><code>array([[2.40647744, 5.62327677, 5.8642342 ],
       [4.10741882, 7.65751053, 4.99483744]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>eye(<span style="color:#ae81ff">3</span>)  
</span></span><span style="display:flex;"><span>a  
</span></span></code></pre></div><pre><code>array([[1., 0., 0.],
       [0., 1., 0.],
       [0., 0., 1.]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>ones((<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))  
</span></span></code></pre></div><pre><code>array([[1., 1., 1.],
       [1., 1., 1.]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>ones_like(a)  
</span></span></code></pre></div><pre><code>array([[1., 1., 1.],
       [1., 1., 1.],
       [1., 1., 1.]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>zeros((<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))  
</span></span></code></pre></div><pre><code>array([[0., 0., 0.],
       [0., 0., 0.]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>full((<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>), <span style="color:#ae81ff">3</span>)  
</span></span></code></pre></div><pre><code>array([[3, 3, 3],
       [3, 3, 3]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>array(list)  
</span></span></code></pre></div><pre><code>array(&lt;class 'list'&gt;, dtype=object)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">3</span>)  
</span></span></code></pre></div><pre><code>array([0, 1, 2])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>linspace(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">3</span>)  
</span></span></code></pre></div><pre><code>array([1., 5., 9.])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>logspace(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>)  
</span></span></code></pre></div><pre><code>array([  10.,  100., 1000.])
</code></pre>
<h2 id="五-常用的通函数及-api">五, 常用的通函数及 API</h2>
<p>numpy 调用, 用来操作 ndarray 对象的函数</p>
<h3 id="1-修改数组形状">1, 修改数组形状</h3>
<p><strong>reshape 与 ndarray 对象的方法一样, 另有 resize 只能按行展开</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>choice(<span style="color:#ae81ff">5</span>, (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>display(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>reshape(a,(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">6</span>), <span style="color:#e6db74">&#39;F&#39;</span>)  
</span></span></code></pre></div><pre><code>array([[0, 2, 2],
       [4, 1, 2]])





array([[0, 4, 2, 1, 2, 2]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>resize(a, (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">6</span>))  
</span></span></code></pre></div><pre><code>array([[0, 2, 2, 4, 1, 2]])
</code></pre>
<p><strong>ravel 展开为一维(ndarray 对象也有该方法)</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>ravel(a, <span style="color:#e6db74">&#39;F&#39;</span>)  
</span></span></code></pre></div><pre><code>array([0, 4, 2, 1, 2, 2])
</code></pre>
<h3 id="2-组合数组">2, 组合数组</h3>
<p><strong>concatenate, hstack, vstack 连接数组</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># axis=0, 行方向连接(默认), axis=1, 列方向连接  </span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>choice(<span style="color:#ae81ff">6</span>, (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>concatenate((a, b), axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>array([[0, 2, 2, 2, 5, 5],
       [4, 1, 2, 2, 5, 2]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>hstack((a, b)) <span style="color:#75715e"># 列方向连接  </span>
</span></span></code></pre></div><pre><code>array([[0, 2, 2, 2, 5, 5],
       [4, 1, 2, 2, 5, 2]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>vstack((a, b)) <span style="color:#75715e"># 行方向连接  </span>
</span></span></code></pre></div><pre><code>array([[0, 2, 2],
       [4, 1, 2],
       [2, 5, 5],
       [2, 5, 2]])
</code></pre>
<p><strong>stack 堆叠数组, 堆叠后维度增加 1</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># axis=0, 行方向堆叠(默认), axis=1, 列方向堆叠  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>stack((a[<span style="color:#ae81ff">0</span>], b[<span style="color:#ae81ff">0</span>])), np<span style="color:#f92672">.</span>stack((a[<span style="color:#ae81ff">0</span>], b[<span style="color:#ae81ff">0</span>]), axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>(array([[0, 2, 2],
        [2, 5, 5]]),
 array([[0, 2],
        [2, 5],
        [2, 5]]))
</code></pre>
<h3 id="3-拆分数组">3, 拆分数组</h3>
<p><strong>split, hsplit, vsplit 将数组拆分, 返回为列表</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>split(a, <span style="color:#ae81ff">2</span>), np<span style="color:#f92672">.</span>vsplit(a, <span style="color:#ae81ff">2</span>), np<span style="color:#f92672">.</span>hsplit(a, <span style="color:#ae81ff">3</span>)  
</span></span></code></pre></div><pre><code>([array([[0, 2, 2]]), array([[4, 1, 2]])],
 [array([[0, 2, 2]]), array([[4, 1, 2]])],
 [array([[0],
         [4]]),
  array([[2],
         [1]]),
  array([[2],
         [2]])])
</code></pre>
<h3 id="4-添加-删除元素">4, 添加, 删除元素</h3>
<p><strong>delete 删除指定索引的元素, 行或列</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a, np<span style="color:#f92672">.</span>delete(a, <span style="color:#ae81ff">1</span>) <span style="color:#75715e"># 删除第 2 个元素  </span>
</span></span></code></pre></div><pre><code>(array([[0, 2, 2],
        [4, 1, 2]]),
 array([0, 2, 4, 1, 2]))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 删除第 2 行, 或第 2 列  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>delete(a, <span style="color:#ae81ff">1</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>), np<span style="color:#f92672">.</span>delete(a, <span style="color:#ae81ff">1</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>(array([[0, 2, 2]]),
 array([[0, 2],
        [4, 2]]))
</code></pre>
<p><strong>insert 在指定索引前插入元素, 行或列</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>insert(a, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>)  
</span></span></code></pre></div><pre><code>array([0, 9, 2, 2, 4, 1, 2])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>insert(a, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>), np<span style="color:#f92672">.</span>insert(a, <span style="color:#ae81ff">1</span>, [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span></code></pre></div><pre><code>(array([[0, 2, 2],
        [9, 9, 9],
        [4, 1, 2]]),
 array([[0, 2, 2],
        [1, 2, 3],
        [4, 1, 2]]))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>insert(a, <span style="color:#ae81ff">1</span>, [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>array([[0, 1, 2, 2],
       [4, 3, 1, 2]])
</code></pre>
<p><strong>append 在数组末尾(或行,列末尾)加入元素, 行或列(维数必须相同)</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>append(a, <span style="color:#ae81ff">2</span>)  
</span></span></code></pre></div><pre><code>array([0, 2, 2, 4, 1, 2, 2])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>append(a, [[<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>]], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>), np<span style="color:#f92672">.</span>append(a, [[<span style="color:#ae81ff">2</span>], [<span style="color:#ae81ff">2</span>]], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>(array([[0, 2, 2],
        [4, 1, 2],
        [2, 2, 2]]),
 array([[0, 2, 2, 2],
        [4, 1, 2, 2]]))
</code></pre>
<p><strong>unique 查找数组中的唯一值</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>choice(<span style="color:#ae81ff">4</span>, (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>display(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>unique(a,return_index<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,  
</span></span><span style="display:flex;"><span>             return_inverse<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>,  
</span></span><span style="display:flex;"><span>             return_counts<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, axis<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>)  
</span></span></code></pre></div><pre><code>array([[3, 0, 3],
       [1, 3, 1]])





(array([0, 1, 3]),
 array([1, 3, 0], dtype=int64),
 array([2, 0, 2, 1, 2, 1], dtype=int64),
 array([1, 2, 3], dtype=int64))
</code></pre>
<h3 id="5-重新排列元素">5, 重新排列元素</h3>
<p><strong>flip, fliplr, flipud 翻转数组</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>flip(a), np<span style="color:#f92672">.</span>flip(a, <span style="color:#ae81ff">0</span>), np<span style="color:#f92672">.</span>flip(a, <span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>(array([[1, 3, 1],
        [3, 0, 3]]),
 array([[1, 3, 1],
        [3, 0, 3]]),
 array([[3, 0, 3],
        [1, 3, 1]]))
</code></pre>
<p><strong>sort 排序数组元素</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>sort(a)  
</span></span></code></pre></div><pre><code>array([[0, 3, 3],
       [1, 1, 3]])
</code></pre>
<p><strong>roll 滚动数组元素</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>roll(a, <span style="color:#ae81ff">1</span>), np<span style="color:#f92672">.</span>roll(a, <span style="color:#ae81ff">1</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>), np<span style="color:#f92672">.</span>roll(a, <span style="color:#ae81ff">1</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>(array([[1, 3, 0],
        [3, 1, 3]]),
 array([[1, 3, 1],
        [3, 0, 3]]),
 array([[3, 3, 0],
        [1, 1, 3]]))
</code></pre>
<h3 id="6-常用数学运算函数">6, 常用数学运算函数</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 固定随机种子  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">6</span>, (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>))  
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">12</span>)<span style="color:#f92672">.</span>reshape((<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>))  
</span></span><span style="display:flex;"><span>a, b  
</span></span></code></pre></div><pre><code>(array([[5, 1, 4, 4],
        [4, 2, 4, 3],
        [5, 1, 1, 5]]),
 array([[ 0,  1,  2,  3],
        [ 4,  5,  6,  7],
        [ 8,  9, 10, 11]]))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>power(b, a) <span style="color:#75715e"># b**a  </span>
</span></span></code></pre></div><pre><code>array([[     0,      1,     16,     81],
       [   256,     25,   1296,    343],
       [ 32768,      9,     10, 161051]], dtype=int32)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>divmod(b, a) <span style="color:#75715e"># 商 和 余  </span>
</span></span></code></pre></div><pre><code>(array([[ 0,  1,  0,  0],
        [ 1,  2,  1,  2],
        [ 1,  9, 10,  2]], dtype=int32),
 array([[0, 0, 2, 3],
        [0, 1, 2, 1],
        [3, 0, 0, 1]], dtype=int32))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>fabs(<span style="color:#f92672">-</span>a), np<span style="color:#f92672">.</span>abs(<span style="color:#f92672">-</span>a) <span style="color:#75715e"># 取绝对值  </span>
</span></span></code></pre></div><pre><code>(array([[5., 1., 4., 4.],
        [4., 2., 4., 3.],
        [5., 1., 1., 5.]]),
 array([[5, 1, 4, 4],
        [4, 2, 4, 3],
        [5, 1, 1, 5]]))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span>  
</span></span><span style="display:flex;"><span>display(c)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>rint(c) <span style="color:#75715e"># 舍入最接近的整数  </span>
</span></span></code></pre></div><pre><code>array([[3.83441519, 7.91725038, 5.2889492 , 5.68044561],
       [9.25596638, 0.71036058, 0.871293  , 0.20218397],
       [8.32619846, 7.78156751, 8.70012148, 9.78618342]])





array([[ 4.,  8.,  5.,  6.],
       [ 9.,  1.,  1.,  0.],
       [ 8.,  8.,  9., 10.]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>exp(a)<span style="color:#f92672">.</span>round(<span style="color:#ae81ff">1</span>) <span style="color:#75715e"># np.e ** a  </span>
</span></span></code></pre></div><pre><code>array([[148.4,   2.7,  54.6,  54.6],
       [ 54.6,   7.4,  54.6,  20.1],
       [148.4,   2.7,   2.7, 148.4]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>exp2(a) <span style="color:#75715e"># 2**a  </span>
</span></span><span style="display:flex;"><span>a, b  
</span></span></code></pre></div><pre><code>(array([[5, 1, 4, 4],
        [4, 2, 4, 3],
        [5, 1, 1, 5]]),
 array([[32.,  2., 16., 16.],
        [16.,  4., 16.,  8.],
        [32.,  2.,  2., 32.]]))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>log(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>log2(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>log10(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>sqrt(a) <span style="color:#75715e"># 开根号  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>gcd(a, b<span style="color:#f92672">.</span>astype(int)) <span style="color:#75715e"># 最大公约数  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>lcm(a, b<span style="color:#f92672">.</span>astype(int)) <span style="color:#75715e"># 最小公倍数  </span>
</span></span></code></pre></div><pre><code>array([[160,   2,  16,  16],
       [ 16,   4,  16,  24],
       [160,   2,   2, 160]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>sin(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>cos(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>tan(a)  
</span></span></code></pre></div><pre><code>array([[-3.38051501,  1.55740772,  1.15782128,  1.15782128],
       [ 1.15782128, -2.18503986,  1.15782128, -0.14254654],
       [-3.38051501,  1.55740772,  1.55740772, -3.38051501]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>greater(a, b) <span style="color:#75715e"># a &gt; b  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>less(a, b) <span style="color:#75715e"># a &lt; b  </span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">!=</span> b <span style="color:#75715e"># np.not_equal(a, b)  </span>
</span></span><span style="display:flex;"><span>(a <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">2</span>) <span style="color:#f92672">|</span> <span style="color:#f92672">~</span>(b <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">5</span>) <span style="color:#75715e"># np.logical_or(a&gt;2, ~(b&lt;5))  </span>
</span></span></code></pre></div><pre><code>array([[ True, False,  True,  True],
       [ True, False,  True,  True],
       [ True, False, False,  True]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 两者取其大, 同 np.fmax(a*5, b) 对应还有 minimum, fmin  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>maximum(a<span style="color:#f92672">*</span><span style="color:#ae81ff">5</span>, b)   
</span></span></code></pre></div><pre><code>array([[32.,  5., 20., 20.],
       [20., 10., 20., 15.],
       [32.,  5.,  5., 32.]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>isinf(a) <span style="color:#75715e"># 判断是否正负无穷大  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>isnan(a) <span style="color:#75715e"># 判断是否 nan  </span>
</span></span></code></pre></div><pre><code>array([[False, False, False, False],
       [False, False, False, False],
       [False, False, False, False]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>modf(c) <span style="color:#75715e"># 分别返回小数和整数部分  </span>
</span></span></code></pre></div><pre><code>(array([[0.83441519, 0.91725038, 0.2889492 , 0.68044561],
        [0.25596638, 0.71036058, 0.871293  , 0.20218397],
        [0.32619846, 0.78156751, 0.70012148, 0.78618342]]),
 array([[3., 7., 5., 5.],
        [9., 0., 0., 0.],
        [8., 7., 8., 9.]]))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>fmod(b, a) <span style="color:#75715e"># 返回余数  </span>
</span></span></code></pre></div><pre><code>array([[2., 0., 0., 0.],
       [0., 0., 0., 2.],
       [2., 0., 0., 2.]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span>  
</span></span><span style="display:flex;"><span>display(c)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>floor(c) <span style="color:#75715e"># 向下取整  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>ceil(c) <span style="color:#75715e"># 向上取整  </span>
</span></span></code></pre></div><pre><code>array([[7.99158564, 4.61479362, 7.80529176, 1.18274426],
       [6.39921021, 1.43353287, 9.44668917, 5.21848322],
       [4.1466194 , 2.64555612, 7.74233689, 4.56150332]])





array([[ 8.,  5.,  8.,  2.],
       [ 7.,  2., 10.,  6.],
       [ 5.,  3.,  8.,  5.]])
</code></pre>
<h3 id="7-字符串操作">7, 字符串操作</h3>
<p>字符串的操作函数, 和 python 的操作函数相似, 只是 numpy 作用到整个数组上</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>], [<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">19</span>, <span style="color:#ae81ff">18</span>]])  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>char<span style="color:#f92672">.</span>add(a, a)  
</span></span></code></pre></div><pre><code>array([['aa', 'bb', 'cc'],
       ['2020', '1919', '1818']], dtype='&lt;U22')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>char<span style="color:#f92672">.</span>multiply(a, <span style="color:#ae81ff">3</span>)  
</span></span></code></pre></div><pre><code>array([['aaa', 'bbb', 'ccc'],
       ['202020', '191919', '181818']], dtype='&lt;U33')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将每一个制表符替换成指定个数的空格  </span>
</span></span><span style="display:flex;"><span>b <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">a</span><span style="color:#ae81ff">\t\t</span><span style="color:#e6db74">bc</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">d&#39;</span>)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>char<span style="color:#f92672">.</span>expandtabs(b, <span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>array(' a  bc d', dtype='&lt;U8')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>char<span style="color:#f92672">.</span>replace(a, <span style="color:#e6db74">&#39;1&#39;</span>, <span style="color:#e6db74">&#39;2&#39;</span>) <span style="color:#75715e"># 替换  </span>
</span></span></code></pre></div><pre><code>array([['a', 'b', 'c'],
       ['20', '29', '28']], dtype='&lt;U2')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>char<span style="color:#f92672">.</span>title(a)  
</span></span></code></pre></div><pre><code>array([['A', 'B', 'C'],
       ['20', '19', '18']], dtype='&lt;U11')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>char<span style="color:#f92672">.</span>zfill(a, <span style="color:#ae81ff">4</span>)  
</span></span><span style="display:flex;"><span>b  
</span></span></code></pre></div><pre><code>array([['000a', '000b', '000c'],
       ['0020', '0019', '0018']], dtype='&lt;U4')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>char<span style="color:#f92672">.</span>count(b, <span style="color:#e6db74">&#39;0&#39;</span>) <span style="color:#75715e"># 0 出现的次数  </span>
</span></span></code></pre></div><pre><code>array([[3, 3, 3],
       [3, 2, 2]])
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>char<span style="color:#f92672">.</span>str_len(a) <span style="color:#75715e"># 字符串长度  </span>
</span></span></code></pre></div><pre><code>array([[1, 1, 1],
       [2, 2, 2]])
</code></pre>
<h3 id="8-索引与迭代">8, 索引与迭代</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>choice(<span style="color:#ae81ff">4</span>, (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>))  
</span></span><span style="display:flex;"><span>display(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>nonzero(a) <span style="color:#75715e"># 非 0 索引  </span>
</span></span></code></pre></div><pre><code>array([[2, 0, 0, 0],
       [1, 1, 2, 0],
       [0, 1, 3, 0]])





(array([0, 1, 1, 1, 2, 2], dtype=int64),
 array([0, 0, 1, 2, 1, 2], dtype=int64))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 返回指定条件的元素的索引, 并可进行替换  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 不设条件, 和 nonzero 一样  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>where(a<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span>)  
</span></span></code></pre></div><pre><code>(array([0, 1, 1, 1, 2, 2], dtype=int64),
 array([0, 0, 1, 2, 1, 2], dtype=int64))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 大于 0 都换成 a, 否则都换成 b  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>where(a<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>)  
</span></span></code></pre></div><pre><code>array([['a', 'b', 'b', 'b'],
       ['a', 'a', 'a', 'b'],
       ['b', 'a', 'a', 'b']], dtype='&lt;U1')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>nditer(a) <span style="color:#75715e"># 将数组变成一个高效的迭代器  </span>
</span></span></code></pre></div><pre><code>&lt;numpy.nditer at 0x2b410944d50&gt;
</code></pre>
<h3 id="9-统计运算函数">9, 统计运算函数</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 下述与 ndarray 对象直接调用的方法一样  </span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">5</span>  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>all(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>any(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>max(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>sum(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>mean(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>cumsum(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>var(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>std(a)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>clip(a, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>)  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>around(a, <span style="color:#ae81ff">2</span>) <span style="color:#75715e"># ndarray 对象的方法是 round  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 等等  </span>
</span></span></code></pre></div><pre><code>array([[3.41, 1.8 , 2.19, 3.49],
       [0.3 , 3.33, 3.35, 1.05],
       [0.64, 1.58, 1.82, 2.85]])
</code></pre>
<p>任何数与 nan 计算都是 nan, 可以用相应的函数排除 nan</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>b <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">1</span>, np<span style="color:#f92672">.</span>nan, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>])  
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>sum(b), np<span style="color:#f92672">.</span>nansum(b)  
</span></span></code></pre></div><pre><code>(nan, 8.0)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>nancumsum(b)  
</span></span></code></pre></div><pre><code>array([1., 1., 4., 8.])
</code></pre>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/numpy/_index.files/numpy.ipynb">numpy.ipynb</a> (67 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>Pandas 基础快速了解和查询</h1>

<p><a href="https://pandas.pydata.org/docs/">官方文档</a></p>
<blockquote>
<p>Pandas 是 Python 的核心数据分析支持库, 基于 NumPy 创建, 它使 python 成为强大而高效的数据分析环境</p>
</blockquote>
<h2 id="一-数据结构">一, 数据结构</h2>
<p>pandas 的数据结构是基于 numpy 的, 因此其有着 numpy 的基因, 许多操作和大部分函数与 numpy 类似</p>
<p>pandas 的数据结构其实是 numpy 数组数据对象 array 的容器, 在 pandas 中有了索引结构, 可以利用索引来取 array 或 array 中的元素</p>
<p>pandas 中最重要的数据结构是 Series 和 DataFrame</p>
<h3 id="1-创建-series-和-dataframe">1, 创建 Series 和 DataFrame</h3>
<p>创建时若不指定索引, 将自动生成(从 0 开始)</p>
<p>Series 是一维, 只有行索引, 而 DataFrame 有行和列索引</p>
<p>创建方式灵活多变, 可以查看参数, 根据要求传参进行创建</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(range(<span style="color:#ae81ff">3</span>))
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>0    0
1    1
2    2
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(range(<span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   0
0  0
1  1
2  2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>values
</span></span></code></pre></div><pre><code>array([0, 1, 2], dtype=int64)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>values
</span></span></code></pre></div><pre><code>array([[0],
       [1],
       [2]], dtype=int64)
</code></pre>
<p>可见，pandas 的数据结构，是 numpy 的 array 对象的容器，着意味着 pandas 在处理数据时，可以使用 numpy 的所有函数和方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(range(<span style="color:#ae81ff">3</span>), index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abc&#39;</span>))  
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>a    0
b    1
c    2
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;A&#39;</span>: range(<span style="color:#ae81ff">3</span>), <span style="color:#e6db74">&#39;B&#39;</span>: list(<span style="color:#e6db74">&#39;jkl&#39;</span>)}, index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abc&#39;</span>)) 
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   A  B
a  0  j
b  1  k
c  2  l
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict_1 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;c&#39;</span>: <span style="color:#ae81ff">2</span>}  
</span></span><span style="display:flex;"><span>dict_2 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>: range(<span style="color:#ae81ff">3</span>), <span style="color:#e6db74">&#39;b&#39;</span>: list(<span style="color:#e6db74">&#39;jkl&#39;</span>)}  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(dict_1)  
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>a    0
b    1
c    2
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(dict_1, index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>   a  b  c
A  0  1  2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(dict_2)  
</span></span><span style="display:flex;"><span>print(df2) 
</span></span></code></pre></div><pre><code>   a  b
0  0  j
1  1  k
2  2  l
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># df2 每一列是一个类型的 array 对象</span>
</span></span><span style="display:flex;"><span>df2[<span style="color:#e6db74">&#34;a&#34;</span>]<span style="color:#f92672">.</span>values, df2[<span style="color:#e6db74">&#34;b&#34;</span>]<span style="color:#f92672">.</span>values
</span></span></code></pre></div><pre><code>(array([0, 1, 2], dtype=int64), array(['j', 'k', 'l'], dtype=object))
</code></pre>
<h3 id="2-series-和-dataframe-的常用属性">2, Series 和 DataFrame 的常用属性</h3>
<p>大部分属性和 numpy 一样</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(<span style="color:#ae81ff">1</span>, index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abc&#39;</span>))  
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>a    1
b    1
c    1
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict_3 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>: range(<span style="color:#ae81ff">3</span>), <span style="color:#e6db74">&#39;b&#39;</span>: list(<span style="color:#e6db74">&#39;jkl&#39;</span>)}  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(dict_3)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>   a  b
0  0  j
1  1  k
2  2  l
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看形状, 形状不包括 索引  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>shape, df<span style="color:#f92672">.</span>shape  
</span></span></code></pre></div><pre><code>((3,), (3, 2))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 获取索引  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>index, df<span style="color:#f92672">.</span>index, df<span style="color:#f92672">.</span>columns  
</span></span></code></pre></div><pre><code>(Index(['a', 'b', 'c'], dtype='object'),
 RangeIndex(start=0, stop=3, step=1),
 Index(['a', 'b'], dtype='object'))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看元素个数  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>size, df<span style="color:#f92672">.</span>size  
</span></span></code></pre></div><pre><code>(3, 6)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看数据类型  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>dtype, df<span style="color:#f92672">.</span>dtypes  
</span></span></code></pre></div><pre><code>(dtype('int64'),
 a     int64
 b    object
 dtype: object)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看值  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>values, df<span style="color:#f92672">.</span>values, df[<span style="color:#e6db74">&#39;a&#39;</span>]<span style="color:#f92672">.</span>values  
</span></span></code></pre></div><pre><code>(array([1, 1, 1], dtype=int64),
 array([[0, 'j'],
        [1, 'k'],
        [2, 'l']], dtype=object),
 array([0, 1, 2], dtype=int64))
</code></pre>
<h3 id="3-series-和-dataframe-结构理解">3, Series 和 DataFrame 结构理解</h3>
<p>从上述可以看出, pandas 数据结构的值, 是一个 array 对象. 对于 df, 每一列的值取出来也是一个 array 对象,
并且每一列可以是不同的数据类型</p>
<p>需要注意的是, DataFrame 每一列取出来, 整体是一个 Series , 因此 DataFrame 又可以看成 Series 的容器</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(<span style="color:#ae81ff">1</span>, index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abc&#39;</span>)) 
</span></span><span style="display:flex;"><span>dict_3 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>: range(<span style="color:#ae81ff">3</span>), <span style="color:#e6db74">&#39;b&#39;</span>: list(<span style="color:#e6db74">&#39;jkl&#39;</span>)}  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(dict_3)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>type(s), type(df[<span style="color:#e6db74">&#39;a&#39;</span>]), type(df)  
</span></span></code></pre></div><pre><code>(pandas.core.series.Series,
 pandas.core.series.Series,
 pandas.core.frame.DataFrame)
</code></pre>
<p>Series 和 DataFrame 可以有多层索引</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> [[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>], [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]]
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>a  1    1
b  2    1
c  3    1
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> [[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>], [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]]  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>     a  b
a 1  0  j
b 2  1  k
c 3  2  l
</code></pre>
<h2 id="二-数据结构操作-处理与计算">二, 数据结构操作, 处理与计算</h2>
<h3 id="1-查看-series-和-dataframe-数据信息常用方法">1, 查看 Series 和 DataFrame 数据信息常用方法</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>])  
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>0    4
1    7
2    4
3    8
4    1
5    8
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a)  
</span></span><span style="display:flex;"><span>print(df) 
</span></span></code></pre></div><pre><code>   0  1
0  4  4
1  7  4
2  4  8
3  8  3
4  1  3
5  8  1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看前 5 行(默认)  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>head()  
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>head())
</span></span></code></pre></div><pre><code>   0  1
0  4  4
1  7  4
2  4  8
3  8  3
4  1  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看后 5 行(默认)  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>tail()  
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>tail())  
</span></span></code></pre></div><pre><code>   0  1
1  7  4
2  4  8
3  8  3
4  1  3
5  8  1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看详情, Series 没有该方法  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>info()  
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 6 entries, 0 to 5
Data columns (total 2 columns):
 #   Column  Non-Null Count  Dtype
---  ------  --------------  -----
 0   0       6 non-null      int32
 1   1       6 non-null      int32
dtypes: int32(2)
memory usage: 176.0 bytes
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看统计量  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>describe()  
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>describe())  
</span></span></code></pre></div><pre><code>              0         1
count  6.000000  6.000000
mean   5.333333  3.833333
std    2.804758  2.316607
min    1.000000  1.000000
25%    4.000000  3.000000
50%    5.500000  3.500000
75%    7.750000  4.000000
max    8.000000  8.000000
</code></pre>
<h3 id="2-数据的直接计算">2, 数据的直接计算</h3>
<p>Series 和 DataFrame 的数据可以像 numpy 的数组一样直接进行计算, 索引相同的行、列进行计算, 索引不同的 NaN 填充</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>])  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   0  1
0  6  2
1  1  6
2  5  1
3  3  2
4  5  5
5  2  6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a, columns<span style="color:#f92672">=</span>[<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1 <span style="color:#f92672">*</span> df)  
</span></span></code></pre></div><pre><code>    0   1   b
0 NaN  12 NaN
1 NaN   6 NaN
2 NaN   5 NaN
3 NaN   6 NaN
4 NaN  25 NaN
5 NaN  12 NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>0    6
1    1
2    5
3    3
4    5
5    2
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>])  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>a    6
1    1
2    5
3    3
4    5
5    2
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> s1  
</span></span></code></pre></div><pre><code>0     NaN
1     2.0
2    30.0
3    12.0
4    30.0
5     6.0
a     NaN
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 笛卡儿积展开  </span>
</span></span><span style="display:flex;"><span>print(s <span style="color:#f92672">+</span> df)
</span></span></code></pre></div><pre><code>    0  1   2   3   4   5
0  12  3 NaN NaN NaN NaN
1   7  7 NaN NaN NaN NaN
2  11  2 NaN NaN NaN NaN
3   9  3 NaN NaN NaN NaN
4  11  6 NaN NaN NaN NaN
5   8  7 NaN NaN NaN NaN
</code></pre>
<h3 id="3-series-和-dataframe-下标和索引切片操作">3, Series 和 DataFrame 下标和索引切片操作</h3>
<h4 id="301-series-和-dataframe-下标切片取值">3.01, Series 和 DataFrame 下标切片取值</h4>
<p>Series 和 DataFrame 下标切片取值有许多不同之处</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>])  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>a    6
1    1
2    5
3    3
4    5
5    2
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a, columns<span style="color:#f92672">=</span>[<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>   1  b
0  6  5
1  3  8
2  8  7
3  1  5
4  7  4
5  6  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 此方法 DataFrame 只能取行, 不能取列  </span>
</span></span><span style="display:flex;"><span>s1[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>]
</span></span></code></pre></div><pre><code>1    1
2    5
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">2</span>])
</span></span></code></pre></div><pre><code>   1  b
0  6  5
1  3  8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1[[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>]]  
</span></span></code></pre></div><pre><code>1    1
4    5
dtype: int32
</code></pre>
<p><strong>同 numpy 一样, 可以条件取值, 此方法常用来筛选和重新赋值等</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1[s1<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">4</span>]
</span></span></code></pre></div><pre><code>a    6
2    5
4    5
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[df1<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">5</span>])
</span></span></code></pre></div><pre><code>     1    b
0  6.0  NaN
1  NaN  8.0
2  8.0  7.0
3  NaN  NaN
4  7.0  NaN
5  6.0  NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[df1 <span style="color:#f92672">==</span> <span style="color:#ae81ff">4</span>])  
</span></span></code></pre></div><pre><code>    1    b
0 NaN  NaN
1 NaN  NaN
2 NaN  NaN
3 NaN  NaN
4 NaN  4.0
5 NaN  NaN
</code></pre>
<h4 id="302-series-和-dataframe-索引切片取值">3.02, Series 和 DataFrame 索引切片取值</h4>
<p>索引切片取值, 左右都包含</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>])  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>a    6
1    3
2    8
3    1
4    7
5    6
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a, columns<span style="color:#f92672">=</span>[<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1) 
</span></span></code></pre></div><pre><code>   1  b
0  3  5
1  7  3
2  8  7
3  7  6
4  3  7
5  5  4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 需要将索引转换类型  </span>
</span></span><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> s1<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>astype(str)  
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> df1<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>astype(str) 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1[<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#e6db74">&#39;2&#39;</span>]
</span></span></code></pre></div><pre><code>a    6
1    3
2    8
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[<span style="color:#e6db74">&#39;1&#39;</span>:<span style="color:#e6db74">&#39;3&#39;</span>])  
</span></span></code></pre></div><pre><code>   1  b
1  7  3
2  8  7
3  7  6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[<span style="color:#e6db74">&#39;1&#39;</span>:<span style="color:#e6db74">&#39;3&#39;</span>][[<span style="color:#ae81ff">1</span>]])
</span></span></code></pre></div><pre><code>   1
1  7
2  8
3  7
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1[<span style="color:#e6db74">&#39;b&#39;</span>]
</span></span></code></pre></div><pre><code>0    5
1    3
2    7
3    6
4    7
5    4
Name: b, dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[[<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#ae81ff">1</span>]])  
</span></span></code></pre></div><pre><code>   b  1
0  5  3
1  3  7
2  7  8
3  6  7
4  7  3
5  4  5
</code></pre>
<h4 id="303-用-iloc-方法取值推荐">3.03, 用 iloc 方法取值(推荐)</h4>
<p>上述的取值太复杂麻烦, iloc 方法传入下标取值更方便且条理清晰. 存在多层索引时, iloc 按最内层索引取值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>])  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>a    3
1    7
2    8
3    7
4    3
5    5
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a, columns<span style="color:#f92672">=</span>[<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1) 
</span></span></code></pre></div><pre><code>   1  b
0  8  8
1  6  2
2  1  6
3  6  3
4  8  3
5  3  8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 右不包含  </span>
</span></span><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">3</span>]
</span></span></code></pre></div><pre><code>a    3
1    7
2    8
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">2</span>])
</span></span></code></pre></div><pre><code>   1  b
0  8  8
2  1  6
4  8  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>iloc[[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>], <span style="color:#ae81ff">0</span>:])  
</span></span></code></pre></div><pre><code>   1  b
1  6  2
4  8  3
2  1  6
</code></pre>
<h4 id="304-用-loc-方法">3.04, 用 loc 方法</h4>
<p>loc 方法取值左右都包含, 传入索引标签取值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>])  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>a    8
1    6
2    1
3    6
4    8
5    3
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a, columns<span style="color:#f92672">=</span>[<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1) 
</span></span></code></pre></div><pre><code>   1  b
0  4  3
1  6  4
2  1  6
3  6  2
4  6  1
5  2  7
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 需要将索引转换类型  </span>
</span></span><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> s1<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>astype(str)  
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> df1<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>astype(str) 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#e6db74">&#39;2&#39;</span>]
</span></span></code></pre></div><pre><code>a    8
1    6
2    1
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;1&#39;</span>:<span style="color:#e6db74">&#39;3&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>]  
</span></span></code></pre></div><pre><code>1    4
2    6
3    2
Name: b, dtype: int32
</code></pre>
<h4 id="305-利用切片修改数据">3.05, 利用切片修改数据</h4>
<p>利用切片修改数据, 其实就是取值重新赋值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">4</span>),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcde&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;ABCD&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df[df<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0.5</span>])  
</span></span></code></pre></div><pre><code>          A         B         C         D
a  0.908869       NaN       NaN  0.584259
b       NaN       NaN  0.940409       NaN
c  0.947715  0.898426  0.745999       NaN
d       NaN  0.855820       NaN  0.742919
e       NaN       NaN       NaN  0.593532
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将大于 0.5 的数据换成 nan  </span>
</span></span><span style="display:flex;"><span>df[df<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0.5</span>] <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>nan  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>          A         B         C         D
a       NaN  0.019952  0.004443       NaN
b  0.391594  0.406059       NaN  0.021655
c       NaN       NaN       NaN  0.067905
d  0.238486       NaN  0.232429       NaN
e  0.378054  0.422029  0.386046       NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将 A 列全部改成 1 , 增加一列 E, 值为 0  </span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;A&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e"># 与 df.A = 1 等价  </span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;E&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>   A         B         C         D  E
a  1  0.019952  0.004443       NaN  0
b  1  0.406059       NaN  0.021655  0
c  1       NaN       NaN  0.067905  0
d  1       NaN  0.232429       NaN  0
e  1  0.422029  0.386046       NaN  0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 行列值互换  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>loc[[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>], [<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;C&#39;</span>]] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>loc[[<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>], [<span style="color:#e6db74">&#39;C&#39;</span>, <span style="color:#e6db74">&#39;A&#39;</span>]]<span style="color:#f92672">.</span>to_numpy()  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>          A         B         C         D  E
a       NaN  0.019952  1.000000       NaN  0
b  1.000000  0.406059       NaN  0.021655  0
c  0.004443       NaN  1.000000  0.067905  0
d  1.000000       NaN  0.232429       NaN  0
e  1.000000  0.422029  0.386046       NaN  0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 只要 B 不为 nan 的数据  </span>
</span></span><span style="display:flex;"><span>print(df[df[<span style="color:#e6db74">&#39;B&#39;</span>] <span style="color:#f92672">==</span> df[<span style="color:#e6db74">&#39;B&#39;</span>]])  
</span></span></code></pre></div><pre><code>     A         B         C         D  E
a  NaN  0.019952  1.000000       NaN  0
b  1.0  0.406059       NaN  0.021655  0
e  1.0  0.422029  0.386046       NaN  0
</code></pre>
<h2 id="三-series-和-dataframe-的处理和计算函数">三, Series 和 DataFrame 的处理和计算函数</h2>
<h3 id="1-索引">1, 索引</h3>
<p>在 pandas 里, 索引非常重要, 一个行索引, 通常就是数据的一条记录(例如一个人的信息), 一个列索引就是数据的一个特征(例如某个人的性别, 年龄等),
通过索引能够更方便数据处理与计算</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">4</span>), index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcd&#39;</span>))  
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>a    0.930171
b    0.263544
c    0.684870
d    0.702820
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcd&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;ABCD&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>          A         B         C         D
a  0.236401  0.972351  0.030862  0.438897
b  0.774498  0.670181  0.379171  0.941319
c  0.701424  0.732319  0.882208  0.527572
d  0.442419  0.597335  0.258880  0.420447
</code></pre>
<p><strong>reindex 索引重排, 新增的索引 nan 填充, 缺少索引的数据舍弃</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 新增 e 舍弃 d, 有许多参数可以调节  </span>
</span></span><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span>reindex(list(<span style="color:#e6db74">&#39;bcae&#39;</span>))
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>b    0.263544
c    0.684870
a    0.930171
e         NaN
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>reindex(columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;BCAE&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df2)
</span></span></code></pre></div><pre><code>          B         C         A   E
a  0.972351  0.030862  0.236401 NaN
b  0.670181  0.379171  0.774498 NaN
c  0.732319  0.882208  0.701424 NaN
d  0.597335  0.258880  0.442419 NaN
</code></pre>
<p><strong>sort_index 索引排序</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认 True 升序, 许多参数可调, DataFrame 只排行索引  </span>
</span></span><span style="display:flex;"><span>s2 <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span>sort_index(ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>s2
</span></span></code></pre></div><pre><code>d    0.702820
c    0.684870
b    0.263544
a    0.930171
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>sort_index(ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)  
</span></span><span style="display:flex;"><span>print(df2)
</span></span></code></pre></div><pre><code>          A         B         C         D
d  0.442419  0.597335  0.258880  0.420447
c  0.701424  0.732319  0.882208  0.527572
b  0.774498  0.670181  0.379171  0.941319
a  0.236401  0.972351  0.030862  0.438897
</code></pre>
<p><strong>rename, set_index, reset_index 设置索引</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 注意参数及传参方式  </span>
</span></span><span style="display:flex;"><span>s3 <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span>rename(index<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#e6db74">&#39;f&#39;</span>})
</span></span><span style="display:flex;"><span>s3
</span></span></code></pre></div><pre><code>f    0.930171
b    0.263544
c    0.684870
d    0.702820
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df3 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>rename(<span style="color:#66d9ef">lambda</span> x: x <span style="color:#f92672">+</span> x)  
</span></span><span style="display:flex;"><span>print(df3)
</span></span></code></pre></div><pre><code>           A         B         C         D
aa  0.236401  0.972351  0.030862  0.438897
bb  0.774498  0.670181  0.379171  0.941319
cc  0.701424  0.732319  0.882208  0.527572
dd  0.442419  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Series 没有此方法</span>
</span></span><span style="display:flex;"><span>df4 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>set_index([[<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>], [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]])  
</span></span><span style="display:flex;"><span>print(df4)
</span></span></code></pre></div><pre><code>            A         B         C         D
a 1  0.236401  0.972351  0.030862  0.438897
b 2  0.774498  0.670181  0.379171  0.941319
c 3  0.701424  0.732319  0.882208  0.527572
d 4  0.442419  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以将某列设为索引, 默认不保留原列, 可设参数 drop 保留  </span>
</span></span><span style="display:flex;"><span>df5 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;A&#39;</span>)  
</span></span><span style="display:flex;"><span>print(df5)  
</span></span></code></pre></div><pre><code>                 B         C         D
A                                     
0.236401  0.972351  0.030862  0.438897
0.774498  0.670181  0.379171  0.941319
0.701424  0.732319  0.882208  0.527572
0.442419  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将索引设为列(drop=True将其删除), 多层索引时可选某层  </span>
</span></span><span style="display:flex;"><span>df6 <span style="color:#f92672">=</span> df4<span style="color:#f92672">.</span>reset_index(level<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>print(df6)
</span></span></code></pre></div><pre><code>   level_1         A         B         C         D
a        1  0.236401  0.972351  0.030862  0.438897
b        2  0.774498  0.670181  0.379171  0.941319
c        3  0.701424  0.732319  0.882208  0.527572
d        4  0.442419  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df7 <span style="color:#f92672">=</span> df5<span style="color:#f92672">.</span>reset_index()  
</span></span><span style="display:flex;"><span>print(df7)
</span></span></code></pre></div><pre><code>          A         B         C         D
0  0.236401  0.972351  0.030862  0.438897
1  0.774498  0.670181  0.379171  0.941319
2  0.701424  0.732319  0.882208  0.527572
3  0.442419  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 索引可以设置名字, 设置索引还可以通过获取索引重新赋值  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># DataFrame 还可以转置  </span>
</span></span><span style="display:flex;"><span>df5<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>name
</span></span></code></pre></div><pre><code>'A'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df5<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> list(<span style="color:#e6db74">&#39;abcd&#39;</span>) <span style="color:#75715e"># 重设索引后, 索引名消失  </span>
</span></span><span style="display:flex;"><span>print(df5)
</span></span></code></pre></div><pre><code>          B         C         D
a  0.972351  0.030862  0.438897
b  0.670181  0.379171  0.941319
c  0.732319  0.882208  0.527572
d  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df5<span style="color:#f92672">.</span>T)  
</span></span></code></pre></div><pre><code>          a         b         c         d
B  0.972351  0.670181  0.732319  0.597335
C  0.030862  0.379171  0.882208  0.258880
D  0.438897  0.941319  0.527572  0.420447
</code></pre>
<p><strong>多层索引</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ar <span style="color:#f92672">=</span> [[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>], [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]]  
</span></span><span style="display:flex;"><span>tup <span style="color:#f92672">=</span> list(zip(<span style="color:#f92672">*</span>ar))  
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>MultiIndex<span style="color:#f92672">.</span>from_tuples(tup)  
</span></span></code></pre></div><pre><code>MultiIndex([('a', 1),
            ('b', 2),
            ('c', 3)],
           )
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>index <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>MultiIndex<span style="color:#f92672">.</span>from_product(ar)  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(range(<span style="color:#ae81ff">9</span>), index<span style="color:#f92672">=</span>index)  
</span></span><span style="display:flex;"><span>s  
</span></span></code></pre></div><pre><code>a  1    0
   2    1
   3    2
b  1    3
   2    4
   3    5
c  1    6
   2    7
   3    8
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>MultiIndex<span style="color:#f92672">.</span>from_frame(pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))))  
</span></span></code></pre></div><pre><code>MultiIndex([(6, 5, 3),
            (8, 1, 3)],
           names=[0, 1, 2])
</code></pre>
<h3 id="2-增删与合并数据">2, 增删与合并数据</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>)))  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   0  1  2  3  4
0  4  8  5  3  7
1  7  3  5  2  4
2  3  2  5  7  2
3  1  2  4  8  7
</code></pre>
<p><strong>insert 在指定位置前插入数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Series 没有该方法  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   0  1  A  2  3  4
0  4  8  1  5  3  7
1  7  3  1  5  2  4
2  3  2  1  5  7  2
3  1  2  1  4  8  7
</code></pre>
<p><strong>append 在数据最后增加数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcd&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;ABCD&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>          A         B         C         D
a  0.748362  0.049567  0.603201  0.383037
b  0.658722  0.225040  0.107199  0.416646
c  0.024967  0.161487  0.338823  0.889825
d  0.584625  0.582264  0.228898  0.817555
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Series 只能传 Series  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>append(pd<span style="color:#f92672">.</span>Series(<span style="color:#ae81ff">8</span>))  
</span></span></code></pre></div><pre><code>0    4
1    8
A    1
2    5
3    3
4    7
0    8
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># DataFrame 可以在行后面增加, 也可在列后面新增  </span>
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>append([<span style="color:#ae81ff">1</span>]))
</span></span></code></pre></div><pre><code>   0    1    A    2    3    4
0  4  8.0  1.0  5.0  3.0  7.0
1  7  3.0  1.0  5.0  2.0  4.0
2  3  2.0  1.0  5.0  7.0  2.0
3  1  2.0  1.0  4.0  8.0  7.0
0  1  NaN  NaN  NaN  NaN  NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>append(df1, ignore_index<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)) 
</span></span></code></pre></div><pre><code>     0    1         A    2    3    4         B         C         D
0  4.0  8.0  1.000000  5.0  3.0  7.0       NaN       NaN       NaN
1  7.0  3.0  1.000000  5.0  2.0  4.0       NaN       NaN       NaN
2  3.0  2.0  1.000000  5.0  7.0  2.0       NaN       NaN       NaN
3  1.0  2.0  1.000000  4.0  8.0  7.0       NaN       NaN       NaN
4  NaN  NaN  0.748362  NaN  NaN  NaN  0.049567  0.603201  0.383037
5  NaN  NaN  0.658722  NaN  NaN  NaN  0.225040  0.107199  0.416646
6  NaN  NaN  0.024967  NaN  NaN  NaN  0.161487  0.338823  0.889825
7  NaN  NaN  0.584625  NaN  NaN  NaN  0.582264  0.228898  0.817555
</code></pre>
<p><strong>drop 删除指定数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;A&#39;</span>]<span style="color:#f92672">.</span>drop(<span style="color:#ae81ff">1</span>), df<span style="color:#f92672">.</span>drop(<span style="color:#ae81ff">1</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>(0    1
 2    1
 3    1
 Name: A, dtype: int64,
    0  A  2  3  4
 0  4  1  5  3  7
 1  7  1  5  2  4
 2  3  1  5  7  2
 3  1  1  4  8  7)
</code></pre>
<p><strong>concat 主要用于行索引的合并</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   0  1  A  2  3  4
0  4  8  1  5  3  7
1  7  3  1  5  2  4
2  3  2  1  5  7  2
3  1  2  1  4  8  7
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>          A         B         C         D
a  0.748362  0.049567  0.603201  0.383037
b  0.658722  0.225040  0.107199  0.416646
c  0.024967  0.161487  0.338823  0.889825
d  0.584625  0.582264  0.228898  0.817555
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认按列索引合并, 保留合并后的全部索引, 缺失用 nan 填充  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># join 参数可控制合并的方式: inner 只留下都有的索引  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>concat([df, df1]))
</span></span></code></pre></div><pre><code>     0    1         A    2    3    4         B         C         D
0  4.0  8.0  1.000000  5.0  3.0  7.0       NaN       NaN       NaN
1  7.0  3.0  1.000000  5.0  2.0  4.0       NaN       NaN       NaN
2  3.0  2.0  1.000000  5.0  7.0  2.0       NaN       NaN       NaN
3  1.0  2.0  1.000000  4.0  8.0  7.0       NaN       NaN       NaN
a  NaN  NaN  0.748362  NaN  NaN  NaN  0.049567  0.603201  0.383037
b  NaN  NaN  0.658722  NaN  NaN  NaN  0.225040  0.107199  0.416646
c  NaN  NaN  0.024967  NaN  NaN  NaN  0.161487  0.338823  0.889825
d  NaN  NaN  0.584625  NaN  NaN  NaN  0.582264  0.228898  0.817555
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">4</span>),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcde&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;BCDE&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df2) 
</span></span></code></pre></div><pre><code>          B         C         D         E
a  0.061604  0.505149  0.247496  0.474912
b  0.431163  0.828570  0.302236  0.695153
c  0.238852  0.998520  0.516351  0.665134
d  0.383425  0.684282  0.857654  0.621860
e  0.186235  0.006509  0.612608  0.875893
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>concat([df1, df2], join<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;inner&#39;</span>))  
</span></span></code></pre></div><pre><code>          B         C         D
a  0.049567  0.603201  0.383037
b  0.225040  0.107199  0.416646
c  0.161487  0.338823  0.889825
d  0.582264  0.228898  0.817555
a  0.061604  0.505149  0.247496
b  0.431163  0.828570  0.302236
c  0.238852  0.998520  0.516351
d  0.383425  0.684282  0.857654
e  0.186235  0.006509  0.612608
</code></pre>
<p><strong>join 主要用于行索引的合并</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认以左边(df1)为基准, 相同列名需要加以区分  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># how 参数: outer 全保留, inner 只保留共同部分  </span>
</span></span><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>join(df2, lsuffix<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_1&#39;</span>, rsuffix<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_2&#39;</span>))
</span></span></code></pre></div><pre><code>          A       B_1       C_1       D_1       B_2       C_2       D_2  \
a  0.748362  0.049567  0.603201  0.383037  0.061604  0.505149  0.247496   
b  0.658722  0.225040  0.107199  0.416646  0.431163  0.828570  0.302236   
c  0.024967  0.161487  0.338823  0.889825  0.238852  0.998520  0.516351   
d  0.584625  0.582264  0.228898  0.817555  0.383425  0.684282  0.857654   

          E  
a  0.474912  
b  0.695153  
c  0.665134  
d  0.621860  
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>join(df2, how<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;outer&#39;</span>, lsuffix<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_1&#39;</span>, rsuffix<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_2&#39;</span>))  
</span></span></code></pre></div><pre><code>          A       B_1       C_1       D_1       B_2       C_2       D_2  \
a  0.748362  0.049567  0.603201  0.383037  0.061604  0.505149  0.247496   
b  0.658722  0.225040  0.107199  0.416646  0.431163  0.828570  0.302236   
c  0.024967  0.161487  0.338823  0.889825  0.238852  0.998520  0.516351   
d  0.584625  0.582264  0.228898  0.817555  0.383425  0.684282  0.857654   
e       NaN       NaN       NaN       NaN  0.186235  0.006509  0.612608   

          E  
a  0.474912  
b  0.695153  
c  0.665134  
d  0.621860  
e  0.875893  
</code></pre>
<p><strong>merge 合并</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;K&#39;</span>: [<span style="color:#e6db74">&#39;K0&#39;</span>, <span style="color:#e6db74">&#39;K1&#39;</span>, <span style="color:#e6db74">&#39;K2&#39;</span>, <span style="color:#e6db74">&#39;K3&#39;</span>],
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;A&#39;</span>: [<span style="color:#e6db74">&#39;A0&#39;</span>, <span style="color:#e6db74">&#39;A1&#39;</span>, <span style="color:#e6db74">&#39;M2&#39;</span>, <span style="color:#e6db74">&#39;M3&#39;</span>],
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;B&#39;</span>: [<span style="color:#e6db74">&#39;B0&#39;</span>, <span style="color:#e6db74">&#39;B1&#39;</span>, <span style="color:#e6db74">&#39;B2&#39;</span>, <span style="color:#e6db74">&#39;B3&#39;</span>]})
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>    K   A   B
0  K0  A0  B0
1  K1  A1  B1
2  K2  M2  B2
3  K3  M3  B3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;K&#39;</span>: [<span style="color:#e6db74">&#39;K0&#39;</span>, <span style="color:#e6db74">&#39;K1&#39;</span>, <span style="color:#e6db74">&#39;K4&#39;</span>, <span style="color:#e6db74">&#39;K5&#39;</span>],
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;C&#39;</span>: [<span style="color:#e6db74">&#39;C0&#39;</span>, <span style="color:#e6db74">&#39;C1&#39;</span>, <span style="color:#e6db74">&#39;M2&#39;</span>, <span style="color:#e6db74">&#39;M3&#39;</span>],
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;D&#39;</span>: [<span style="color:#e6db74">&#39;D0&#39;</span>, <span style="color:#e6db74">&#39;D1&#39;</span>, <span style="color:#e6db74">&#39;D2&#39;</span>, <span style="color:#e6db74">&#39;D3&#39;</span>]})
</span></span><span style="display:flex;"><span>print(df2)
</span></span></code></pre></div><pre><code>    K   C   D
0  K0  C0  D0
1  K1  C1  D1
2  K4  M2  D2
3  K5  M3  D3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认 inner, 全部列都保留,   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 但只保留两者都有的列(K),且列内容相同(K0,K1)的 行, 行索引都舍弃  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>merge(df1, df2))
</span></span></code></pre></div><pre><code>    K   A   B   C   D
0  K0  A0  B0  C0  D0
1  K1  A1  B1  C1  D1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以选择以某一个为基准, 需要合并的列内容, 以及保留某一个的索引  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>merge(df1, df2, how<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;left&#39;</span>)) <span style="color:#75715e"># 以 df1 为准, 匹配不上的保留 df1  </span>
</span></span></code></pre></div><pre><code>    K   A   B    C    D
0  K0  A0  B0   C0   D0
1  K1  A1  B1   C1   D1
2  K2  M2  B2  NaN  NaN
3  K3  M3  B3  NaN  NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># df1 的 A 列与 df2 的 C 列有内容相同需要合并  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>merge(df1, df2, left_on<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;A&#39;</span>, right_on<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;C&#39;</span>)) 
</span></span></code></pre></div><pre><code>  K_x   A   B K_y   C   D
0  K2  M2  B2  K4  M2  D2
1  K3  M3  B3  K5  M3  D3
</code></pre>
<h3 id="3-数据选择与处理">3, 数据选择与处理</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">6</span>)),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcdef&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;ABCDEF&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  5  8  6  1  4  4
b  4  8  2  4  6  3
c  5  8  7  1  1  5
d  3  2  7  8  8  7
e  1  2  6  2  6  1
f  2  5  4  1  4  6
</code></pre>
<p><strong>sample 随机选择数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以指定数量, 也可以按比例选  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>sample(<span style="color:#ae81ff">2</span>) <span style="color:#75715e"># Series 也可  </span>
</span></span></code></pre></div><pre><code>E    4
B    8
Name: a, dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>sample(<span style="color:#ae81ff">3</span>))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  5  8  6  1  4  4
b  4  8  2  4  6  3
c  5  8  7  1  1  5
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>sample(frac<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>))  
</span></span></code></pre></div><pre><code>   F  C  D
a  4  6  1
b  3  2  4
c  5  7  1
d  7  7  8
e  1  6  2
f  6  4  1
</code></pre>
<p><strong>where 按条件选择数据, 且可替换, 替换的是条件之外的数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>A<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">3</span>) <span style="color:#75715e"># Series 也可  </span>
</span></span></code></pre></div><pre><code>a    5.0
b    4.0
c    5.0
d    NaN
e    NaN
f    NaN
Name: A, dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>where(df<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  NaN  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  NaN  NaN  5.0
d  3.0  2  7  8.0  8.0  7.0
e  NaN  2  6  2.0  6.0  NaN
f  2.0  5  4  NaN  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>where(df<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">lambda</span> x: x<span style="color:#f92672">*</span>x))  
</span></span></code></pre></div><pre><code>    A   B   C   D   E   F
a  25  64  36   1  16  16
b  16  64   4  16  36   9
c  25  64  49   1   1  25
d   9   4  49  64  64  49
e   1   4  36   4  36   1
f   4  25  16   1  16  36
</code></pre>
<p><strong>isin 生成布尔数组来选择数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>values <span style="color:#f92672">=</span> [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>]  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>C<span style="color:#f92672">.</span>isin(values)
</span></span></code></pre></div><pre><code>a    False
b    False
c     True
d     True
e    False
f    False
Name: C, dtype: bool
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A[df<span style="color:#f92672">.</span>C<span style="color:#f92672">.</span>isin(values)]  
</span></span></code></pre></div><pre><code>c    5
d    3
Name: A, dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[df<span style="color:#f92672">.</span>isin(values)])
</span></span></code></pre></div><pre><code>     A    B    C   D   E    F
a  5.0  NaN  NaN NaN NaN  NaN
b  NaN  NaN  NaN NaN NaN  3.0
c  5.0  NaN  7.0 NaN NaN  5.0
d  3.0  NaN  7.0 NaN NaN  7.0
e  NaN  NaN  NaN NaN NaN  NaN
f  NaN  5.0  NaN NaN NaN  NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[df<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>isin(values)])  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  5  8  6  1  4  4
c  5  8  7  1  1  5
</code></pre>
<p><strong>isna( isnull ) 和 notna ( notnull ) 生成布尔数组</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以 pd 调用, 也可 DataFrame 或 Series 调用  </span>
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>isna(df1<span style="color:#f92672">.</span>D)
</span></span></code></pre></div><pre><code>a     True
b    False
c     True
d    False
e    False
f     True
Name: D, dtype: bool
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>D<span style="color:#f92672">.</span>isnull()
</span></span></code></pre></div><pre><code>a     True
b    False
c     True
d    False
e    False
f     True
Name: D, dtype: bool
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>isna())  
</span></span></code></pre></div><pre><code>       A      B      C      D      E      F
a  False  False  False   True  False  False
b  False  False  False  False  False  False
c  False  False  False   True   True  False
d  False  False  False  False  False  False
e   True  False  False  False  False   True
f  False  False  False   True  False  False
</code></pre>
<p><strong>dropna 删除 nan, fillna 将 nan 填充</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  NaN  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  NaN  NaN  5.0
d  3.0  2  7  8.0  8.0  7.0
e  NaN  2  6  2.0  6.0  NaN
f  2.0  5  4  NaN  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认有 nan 的行就删除, 参数 all: 全部 nan 才删除  </span>
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>dropna() <span style="color:#75715e"># Series 也可  </span>
</span></span></code></pre></div><pre><code>a    5.0
b    4.0
c    5.0
d    3.0
f    2.0
Name: A, dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>dropna())
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
b  4.0  8  2  4.0  6.0  3.0
d  3.0  2  7  8.0  8.0  7.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>dropna(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, how<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;all&#39;</span>))  
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  NaN  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  NaN  NaN  5.0
d  3.0  2  7  8.0  8.0  7.0
e  NaN  2  6  2.0  6.0  NaN
f  2.0  5  4  NaN  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 给定填充值, 默认全部填充,   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 可以指定填充数, 填充方式  </span>
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>fillna(<span style="color:#ae81ff">0</span>) <span style="color:#75715e"># Series 也可</span>
</span></span></code></pre></div><pre><code>a    5.0
b    4.0
c    5.0
d    3.0
e    0.0
f    2.0
Name: A, dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>fillna(<span style="color:#ae81ff">0</span>))
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  0.0  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  0.0  0.0  5.0
d  3.0  2  7  8.0  8.0  7.0
e  0.0  2  6  2.0  6.0  0.0
f  2.0  5  4  0.0  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>fillna(<span style="color:#ae81ff">0</span>, limit<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)) <span style="color:#75715e"># 每一列填充一个  </span>
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  0.0  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  NaN  0.0  5.0
d  3.0  2  7  8.0  8.0  7.0
e  0.0  2  6  2.0  6.0  0.0
f  2.0  5  4  NaN  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ffill 前面值填充, bfill 后面值填充  </span>
</span></span><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>fillna(method<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ffill&#39;</span>))
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  NaN  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  4.0  6.0  5.0
d  3.0  2  7  8.0  8.0  7.0
e  3.0  2  6  2.0  6.0  7.0
f  2.0  5  4  2.0  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>fillna(method<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;bfill&#39;</span>))  
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  4.0  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  8.0  8.0  5.0
d  3.0  2  7  8.0  8.0  7.0
e  2.0  2  6  2.0  6.0  6.0
f  2.0  5  4  NaN  4.0  6.0
</code></pre>
<p><strong>drop_duplicates 去重</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">1</span>]  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  4  8  2  4  6  3
b  4  8  2  4  6  3
c  5  8  7  1  1  5
d  3  2  7  8  8  7
e  1  2  6  2  6  1
f  2  5  4  1  4  6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认保留第 1 条数据  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>drop_duplicates() <span style="color:#75715e"># Series 也可 </span>
</span></span></code></pre></div><pre><code>a    4
c    5
d    3
e    1
f    2
Name: A, dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>drop_duplicates())  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  4  8  2  4  6  3
c  5  8  7  1  1  5
d  3  2  7  8  8  7
e  1  2  6  2  6  1
f  2  5  4  1  4  6
</code></pre>
<p><strong>nlargest 选择某列(某几列)值最大的几条数据, 对应还有 nsmallest</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>nlargest(<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;A&#39;</span>))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
c  5  8  7  1  1  5
a  4  8  2  4  6  3
b  4  8  2  4  6  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>nsmallest(<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;A&#39;</span>))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
e  1  2  6  2  6  1
f  2  5  4  1  4  6
d  3  2  7  8  8  7
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>nlargest(<span style="color:#ae81ff">3</span>, [<span style="color:#e6db74">&#39;C&#39;</span>, <span style="color:#e6db74">&#39;D&#39;</span>]))  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
d  3  2  7  8  8  7
c  5  8  7  1  1  5
e  1  2  6  2  6  1
</code></pre>
<p><strong>filter 按索引查找数据, 可正则模糊查找</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>filter([<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>]))
</span></span></code></pre></div><pre><code>   A  B
a  4  8
b  4  8
c  5  8
d  3  2
e  1  2
f  2  5
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>filter(like<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;a&#39;</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  4  8  2  4  6  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>filter(regex<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;c&#39;</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>))  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
c  5  8  7  1  1  5
</code></pre>
<p><strong>assign 用于新增辅助列</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>assign(A1<span style="color:#f92672">=</span>df[<span style="color:#e6db74">&#39;A&#39;</span>]<span style="color:#f92672">/</span>df[<span style="color:#e6db74">&#39;F&#39;</span>]))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F        A1
a  4  8  2  4  6  3  1.333333
b  4  8  2  4  6  3  1.333333
c  5  8  7  1  1  5  1.000000
d  3  2  7  8  8  7  0.428571
e  1  2  6  2  6  1  1.000000
f  2  5  4  1  4  6  0.333333
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>assign(A1<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> x:x<span style="color:#f92672">.</span>A<span style="color:#f92672">/</span>x<span style="color:#f92672">.</span>F))  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F        A1
a  4  8  2  4  6  3  1.333333
b  4  8  2  4  6  3  1.333333
c  5  8  7  1  1  5  1.000000
d  3  2  7  8  8  7  0.428571
e  1  2  6  2  6  1  1.000000
f  2  5  4  1  4  6  0.333333
</code></pre>
<p><strong>clip 将过大或过小的数据去掉, 并填充指定值</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 小于指定值的填充为指定值小者, 大于的反之  </span>
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>clip(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">6</span>))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  4  6  2  4  6  3
b  4  6  2  4  6  3
c  5  6  6  2  2  5
d  3  2  6  6  6  6
e  2  2  6  2  6  2
f  2  5  4  2  4  6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>clip(df<span style="color:#f92672">.</span>A, df<span style="color:#f92672">.</span>A <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>))  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  4  6  4  4  6  4
b  4  6  4  4  6  4
c  5  7  7  5  5  5
d  3  3  5  5  5  5
e  1  2  3  2  3  1
f  2  4  4  2  4  4
</code></pre>
<h3 id="4-数据分组聚合计算">4, 数据分组聚合计算</h3>
<p>聚合计算和 numpy 函数基本一样, 例如 sum, count, median, min, max, mean, var, std 等, 比较容易</p>
<p>更为重要的, 是将数据按需分组后再聚合运算</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">6</span>)),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcdef&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;ABCDEF&#39;</span>))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>A<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;M&#39;</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>A<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;M&#39;</span>, <span style="color:#e6db74">&#39;N&#39;</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>B<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>B<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;J&#39;</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>B<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>B<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;J&#39;</span>, <span style="color:#e6db74">&#39;K&#39;</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>C<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>C<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>, np<span style="color:#f92672">.</span>nan, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>   A  B    C  D  E  F
a  N  K  NaN  1  4  4
b  N  K  2.0  4  6  3
c  N  K  NaN  1  1  5
d  M  J  NaN  8  8  7
e  M  J  NaN  2  6  1
f  M  K  4.0  1  4  6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认按列加和, 将 nan 转换为 0 来计算  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><pre><code>A    NNNMMM
B    KKKJJK
C       6.0
D        17
E        29
F        26
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>sum(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, numeric_only<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span></code></pre></div><pre><code>a     9.0
b    15.0
c     7.0
d    23.0
e     9.0
f    15.0
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 按行统计忽略 nan  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>count(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>a    5
b    6
c    5
d    5
e    5
f    6
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>set_index([<span style="color:#e6db74">&#34;A&#34;</span>, <span style="color:#e6db74">&#34;B&#34;</span>])<span style="color:#f92672">.</span>groupby(level<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;A&#34;</span>)<span style="color:#f92672">.</span>count())  
</span></span></code></pre></div><pre><code>   C  D  E  F
A            
M  1  3  3  3
N  1  3  3  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>set_index([<span style="color:#e6db74">&#34;A&#34;</span>, <span style="color:#e6db74">&#34;B&#34;</span>])<span style="color:#f92672">.</span>groupby(level<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;B&#34;</span>)<span style="color:#f92672">.</span>count())  
</span></span></code></pre></div><pre><code>   C  D  E  F
B            
J  0  2  2  2
K  2  4  4  4
</code></pre>
<p><strong>value_counts 统计 Series 中每个值出现次数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Series 的值统计, 也即是 DataFrame 的每一列中每个值的数量统计  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>value_counts()
</span></span></code></pre></div><pre><code>N    3
M    3
Name: A, dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>C<span style="color:#f92672">.</span>value_counts()  
</span></span></code></pre></div><pre><code>2.0    1
4.0    1
Name: C, dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以统计索引, 可按百分比显示, 可以分组统计  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;A&#39;</span>)<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>value_counts(normalize<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><pre><code>N    0.5
M    0.5
Name: A, dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>D<span style="color:#f92672">.</span>value_counts(bins<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)  
</span></span></code></pre></div><pre><code>(0.992, 4.5]    5
(4.5, 8.0]      1
Name: D, dtype: int64
</code></pre>
<p><strong>nunique 去重计数, 统计每一行或列不同值的数量</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>nunique()   
</span></span></code></pre></div><pre><code>A    2
B    2
C    2
D    4
E    4
F    6
dtype: int64
</code></pre>
<p><strong>quantile 计算分位数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>quantile([<span style="color:#ae81ff">0.3</span>, <span style="color:#ae81ff">0.6</span>]))
</span></span></code></pre></div><pre><code>       C    D    E    F
0.3  2.6  1.0  4.0  3.5
0.6  3.2  2.0  6.0  5.0
</code></pre>
<p><strong>cut 与 qcut 数据分箱</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将某一列中的值分别分到一个范围中, 默认左不包含右包含  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 这对分组非常有用, 例如年龄分段  </span>
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>cut(df<span style="color:#f92672">.</span>D, bins<span style="color:#f92672">=</span>[<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">8</span>], labels<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;0到3&#39;</span>, <span style="color:#e6db74">&#39;3到8&#39;</span>])  
</span></span><span style="display:flex;"><span>c  
</span></span></code></pre></div><pre><code>a    0到3
b    3到8
c    0到3
d    3到8
e    0到3
f    0到3
Name: D, dtype: category
Categories (2, object): ['0到3' &lt; '3到8']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 根据数值的频率来选择间隔, 使每个分段里值的个数相同  </span>
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>qcut(df<span style="color:#f92672">.</span>D, q<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>a    (0.999, 1.5]
b      (1.5, 8.0]
c    (0.999, 1.5]
d      (1.5, 8.0]
e      (1.5, 8.0]
f    (0.999, 1.5]
Name: D, dtype: category
Categories (2, interval[float64, right]): [(0.999, 1.5] &lt; (1.5, 8.0]]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>qcut(df<span style="color:#f92672">.</span>D, q<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">.</span>value_counts()  
</span></span></code></pre></div><pre><code>(0.999, 1.5]    3
(1.5, 8.0]      3
Name: D, dtype: int64
</code></pre>
<p><strong>rank 用来给数据排名, 例如销售额, 成绩等</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 有多种排名方式可供选择, 举一例: 给 D 列排名  </span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;排名&#39;</span>] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>D<span style="color:#f92672">.</span>rank(method<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;dense&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)  
</span></span><span style="display:flex;"><span>print(df) 
</span></span></code></pre></div><pre><code>   A  B    C  D  E  F   排名
a  N  K  NaN  1  4  4  4.0
b  N  K  2.0  4  6  3  2.0
c  N  K  NaN  1  1  5  4.0
d  M  J  NaN  8  8  7  1.0
e  M  J  NaN  2  6  1  3.0
f  M  K  4.0  1  4  6  4.0
</code></pre>
<p><strong>sort_values 数据排序</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>sort_values(<span style="color:#e6db74">&#39;排名&#39;</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>   A  B    C  D  E  F   排名
d  M  J  NaN  8  8  7  1.0
b  N  K  2.0  4  6  3  2.0
e  M  J  NaN  2  6  1  3.0
a  N  K  NaN  1  4  4  4.0
c  N  K  NaN  1  1  5  4.0
f  M  K  4.0  1  4  6  4.0
</code></pre>
<p><strong>shift 数据移动, 索引不变</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>shift(<span style="color:#ae81ff">2</span>))
</span></span></code></pre></div><pre><code>     A    B    C    D    E    F   排名
d  NaN  NaN  NaN  NaN  NaN  NaN  NaN
b  NaN  NaN  NaN  NaN  NaN  NaN  NaN
e    M    J  NaN  8.0  8.0  7.0  1.0
a    N    K  2.0  4.0  6.0  3.0  2.0
c    M    J  NaN  2.0  6.0  1.0  3.0
f    N    K  NaN  1.0  4.0  4.0  4.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>shift(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>))  
</span></span></code></pre></div><pre><code>   A    B  C  D  E    F  排名
d  J  NaN  8  8  7  1.0 NaN
b  K  2.0  4  6  3  2.0 NaN
e  J  NaN  2  6  1  3.0 NaN
a  K  NaN  1  4  4  4.0 NaN
c  K  NaN  1  1  5  4.0 NaN
f  K  4.0  1  4  6  4.0 NaN
</code></pre>
<p><strong>agg 和 apply 传入函数进行高级聚合运算, 已存在的函数用字符串形式传入, 自定义函数传入函数名</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>agg(<span style="color:#e6db74">&#39;sum&#39;</span>)
</span></span></code></pre></div><pre><code>A     MNMNNM
B     JKJKKK
C        6.0
D         17
E         29
F         26
排名      18.0
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>agg([<span style="color:#e6db74">&#39;max&#39;</span>, <span style="color:#e6db74">&#39;min&#39;</span>]))
</span></span></code></pre></div><pre><code>     A  B    C  D  E  F   排名
max  N  K  4.0  8  8  7  4.0
min  M  J  2.0  1  1  1  1.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>apply([<span style="color:#e6db74">&#39;max&#39;</span>, <span style="color:#e6db74">&#39;min&#39;</span>]))  
</span></span></code></pre></div><pre><code>     A  B    C  D  E  F   排名
max  N  K  4.0  8  8  7  4.0
min  M  J  2.0  1  1  1  1.0
</code></pre>
<p>🔺🔺 <strong>groupby 按指定的列(行)中不同值分组, 与前面的聚合函数组合出无限的变化, 满足各种需求</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 分组后是一个迭代器, 可以查看分组, 获取分组  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A&#39;</span>)
</span></span></code></pre></div><pre><code>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x0000021E8A8295B0&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A&#39;</span>)<span style="color:#f92672">.</span>groups 
</span></span></code></pre></div><pre><code>{'M': ['d', 'e', 'f'], 'N': ['b', 'a', 'c']}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A&#39;</span>)<span style="color:#f92672">.</span>get_group(<span style="color:#e6db74">&#39;M&#39;</span>))  
</span></span></code></pre></div><pre><code>   A  B    C  D  E  F   排名
d  M  J  NaN  8  8  7  1.0
e  M  J  NaN  2  6  1  3.0
f  M  K  4.0  1  4  6  4.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 分别取出 M 和 N 中 F 列任意排名的数据  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_second</span>(x, m, n):  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x[x[m]<span style="color:#f92672">.</span>rank(method<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;dense&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">==</span>n]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 通过修改 n 参数取出任意排名  </span>
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A&#39;</span>)<span style="color:#f92672">.</span>apply(get_second, m<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;F&#39;</span>, n<span style="color:#f92672">=</span><span style="color:#ae81ff">3.0</span>))  
</span></span></code></pre></div><pre><code>     A  B    C  D  E  F   排名
A                           
M e  M  J  NaN  2  6  1  3.0
N b  N  K  2.0  4  6  3  2.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将上述 cut 分箱得到的数据用来分组统计  </span>
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>groupby(c)<span style="color:#f92672">.</span>count())  
</span></span></code></pre></div><pre><code>     A  B  C  D  E  F  排名
D                        
0到3  4  4  1  4  4  4   4
3到8  2  2  1  2  2  2   2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 对不同的列作不同的分组聚合运算  </span>
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A&#39;</span>)<span style="color:#f92672">.</span>agg({<span style="color:#e6db74">&#39;E&#39;</span>: [<span style="color:#e6db74">&#39;mean&#39;</span>, <span style="color:#e6db74">&#39;max&#39;</span>], <span style="color:#e6db74">&#39;F&#39;</span>: <span style="color:#e6db74">&#39;sum&#39;</span>})) 
</span></span></code></pre></div><pre><code>          E       F
       mean max sum
A                  
M  6.000000   8  14
N  3.666667   6  12
</code></pre>
<h3 id="5-数据透视与窗口函数">5, 数据透视与窗口函数</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">20</span>, (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>)))  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>columns <span style="color:#f92672">=</span> list(<span style="color:#e6db74">&#39;ABCDE&#39;</span>)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>    A   B   C  D   E
0  13  16   1  4   4
1   8  10  19  5   7
2  13   2   7  8  15
3  18   6  14  9  10
</code></pre>
<p><strong>melt 将列索引展开成数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认全部展开  </span>
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>melt(df, id_vars<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>], var_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;F&#39;</span>, value_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;G&#39;</span>)  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>     A   B  F   G
0   13  16  C   1
1    8  10  C  19
2   13   2  C   7
3   18   6  C  14
4   13  16  D   4
5    8  10  D   5
6   13   2  D   8
7   18   6  D   9
8   13  16  E   4
9    8  10  E   7
10  13   2  E  15
11  18   6  E  10
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>melt(df, id_vars<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>], value_vars<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;C&#39;</span>]))  
</span></span></code></pre></div><pre><code>    A   B variable  value
0  13  16        C      1
1   8  10        C     19
2  13   2        C      7
3  18   6        C     14
</code></pre>
<p><strong>pivot 将行值展开成为列索引</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>pivot(columns<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;F&#39;</span>, values<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>])) 
</span></span></code></pre></div><pre><code>       A                 B            
F      C     D     E     C     D     E
0   13.0   NaN   NaN  16.0   NaN   NaN
1    8.0   NaN   NaN  10.0   NaN   NaN
2   13.0   NaN   NaN   2.0   NaN   NaN
3   18.0   NaN   NaN   6.0   NaN   NaN
4    NaN  13.0   NaN   NaN  16.0   NaN
5    NaN   8.0   NaN   NaN  10.0   NaN
6    NaN  13.0   NaN   NaN   2.0   NaN
7    NaN  18.0   NaN   NaN   6.0   NaN
8    NaN   NaN  13.0   NaN   NaN  16.0
9    NaN   NaN   8.0   NaN   NaN  10.0
10   NaN   NaN  13.0   NaN   NaN   2.0
11   NaN   NaN  18.0   NaN   NaN   6.0
</code></pre>
<p><strong>pivot_table 与 groupby + 聚合函数 类似, 可以对表格进行各种需求的透视</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> list(<span style="color:#e6db74">&#39;LMNLMNLMNLMN&#39;</span>)  
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;index&#39;</span>: <span style="color:#e6db74">&#39;Q&#39;</span>}, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>    Q   A   B  F   G
0   L  13  16  C   1
1   M   8  10  C  19
2   N  13   2  C   7
3   L  18   6  C  14
4   M  13  16  D   4
5   N   8  10  D   5
6   L  13   2  D   8
7   M  18   6  D   9
8   N  13  16  E   4
9   L   8  10  E   7
10  M  13   2  E  15
11  N  18   6  E  10
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>pivot_table(index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;Q&#39;</span>, <span style="color:#e6db74">&#39;F&#39;</span>], aggfunc<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;mean&#39;</span>))  
</span></span></code></pre></div><pre><code>        A   B     G
Q F                
L C  15.5  11   7.5
  D  13.0   2   8.0
  E   8.0  10   7.0
M C   8.0  10  19.0
  D  15.5  11   6.5
  E  13.0   2  15.0
N C  13.0   2   7.0
  D   8.0  10   5.0
  E  15.5  11   7.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>pivot_table(index<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Q&#39;</span>,  
</span></span><span style="display:flex;"><span>                columns<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;F&#39;</span>,  
</span></span><span style="display:flex;"><span>                values<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;A&#39;</span>,  
</span></span><span style="display:flex;"><span>                aggfunc<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;mean&#39;</span>, <span style="color:#e6db74">&#39;sum&#39;</span>]))  
</span></span></code></pre></div><pre><code>   mean             sum        
F     C     D     E   C   D   E
Q                              
L  15.5  13.0   8.0  31  13   8
M   8.0  15.5  13.0   8  31  13
N  13.0   8.0  15.5  13   8  31
</code></pre>
<p><strong>rolling 将数据依次移动指定尺寸的窗口并进行聚合运算</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">3</span>)  
</span></span></code></pre></div><pre><code>Rolling [window=3,center=False,axis=0,method=single]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>    Q   A   B  F   G
0   L  13  16  C   1
1   M   8  10  C  19
2   N  13   2  C   7
3   L  18   6  C  14
4   M  13  16  D   4
5   N   8  10  D   5
6   L  13   2  D   8
7   M  18   6  D   9
8   N  13  16  E   4
9   L   8  10  E   7
10  M  13   2  E  15
11  N  18   6  E  10
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 移动 3 条数据加和一次作为一条新数据,  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 前面默认 nan 填充  </span>
</span></span><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">3</span>)<span style="color:#f92672">.</span>sum())  
</span></span></code></pre></div><pre><code>       A     B     G
0    NaN   NaN   NaN
1    NaN   NaN   NaN
2   34.0  28.0  27.0
3   39.0  18.0  40.0
4   44.0  24.0  25.0
5   39.0  32.0  23.0
6   34.0  28.0  17.0
7   39.0  18.0  22.0
8   44.0  24.0  21.0
9   39.0  32.0  20.0
10  34.0  28.0  26.0
11  39.0  18.0  32.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以设置最小观察值(必须小于移动尺寸)  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 可以用高级函数聚合运算  </span>
</span></span><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>rolling(len(df1), min_periods<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">.</span>sum())
</span></span></code></pre></div><pre><code>        A      B      G
0    13.0   16.0    1.0
1    21.0   26.0   20.0
2    34.0   28.0   27.0
3    52.0   34.0   41.0
4    65.0   50.0   45.0
5    73.0   60.0   50.0
6    86.0   62.0   58.0
7   104.0   68.0   67.0
8   117.0   84.0   71.0
9   125.0   94.0   78.0
10  138.0   96.0   93.0
11  156.0  102.0  103.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">2</span>)<span style="color:#f92672">.</span>agg([<span style="color:#e6db74">&#39;sum&#39;</span>, np<span style="color:#f92672">.</span>max]))  
</span></span></code></pre></div><pre><code>       A           B           G      
     sum  amax   sum  amax   sum  amax
0    NaN   NaN   NaN   NaN   NaN   NaN
1   21.0  13.0  26.0  16.0  20.0  19.0
2   21.0  13.0  12.0  10.0  26.0  19.0
3   31.0  18.0   8.0   6.0  21.0  14.0
4   31.0  18.0  22.0  16.0  18.0  14.0
5   21.0  13.0  26.0  16.0   9.0   5.0
6   21.0  13.0  12.0  10.0  13.0   8.0
7   31.0  18.0   8.0   6.0  17.0   9.0
8   31.0  18.0  22.0  16.0  13.0   9.0
9   21.0  13.0  26.0  16.0  11.0   7.0
10  21.0  13.0  12.0  10.0  22.0  15.0
11  31.0  18.0   8.0   6.0  25.0  15.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> x<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">1</span>]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(df1[[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;G&#39;</span>]])
</span></span></code></pre></div><pre><code>     A   G
0   13   1
1    8  19
2   13   7
3   18  14
4   13   4
5    8   5
6   13   8
7   18   9
8   13   4
9    8   7
10  13  15
11  18  10
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">2</span>)[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;G&#39;</span>]<span style="color:#f92672">.</span>apply(f))  
</span></span></code></pre></div><pre><code>        A      G
0     NaN    NaN
1   104.0   19.0
2   104.0  133.0
3   234.0   98.0
4   234.0   56.0
5   104.0   20.0
6   104.0   40.0
7   234.0   72.0
8   234.0   36.0
9   104.0   28.0
10  104.0  105.0
11  234.0  150.0
</code></pre>
<h3 id="6-文本字符串处理">6, 文本字符串处理</h3>
<p>文本字符串处理方法基本上和 python 内建字符串方法同名, 这些方法自动忽略 nan 进行处理</p>
<p>方法较多, 常用的举几个例子:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series([<span style="color:#e6db74">&#39;A_1&#39;</span>, <span style="color:#e6db74">&#39;B_2&#39;</span>, <span style="color:#e6db74">&#39;C_3&#39;</span>, np<span style="color:#f92672">.</span>nan],  
</span></span><span style="display:flex;"><span>              index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A_a&#39;</span>, <span style="color:#e6db74">&#39;B_b&#39;</span>, <span style="color:#e6db74">&#39;C_c&#39;</span>, <span style="color:#e6db74">&#39;D&#39;</span>])  
</span></span><span style="display:flex;"><span>s  
</span></span></code></pre></div><pre><code>A_a    A_1
B_b    B_2
C_c    C_3
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 取值  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str[<span style="color:#ae81ff">0</span>]
</span></span></code></pre></div><pre><code>A_a      A
B_b      B
C_c      C
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str[:<span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>A_a     A_
B_b     B_
C_c     C_
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>str[<span style="color:#ae81ff">2</span>]  
</span></span></code></pre></div><pre><code>Index(['a', 'b', 'c', nan], dtype='object')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 拆分  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;_&#39;</span>)
</span></span></code></pre></div><pre><code>A_a    [A, 1]
B_b    [B, 2]
C_c    [C, 3]
D         NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;_&#39;</span>)<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>get(<span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>A_a      A
B_b      B
C_c      C
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;_&#39;</span>)<span style="color:#f92672">.</span>str[<span style="color:#ae81ff">1</span>]  
</span></span></code></pre></div><pre><code>A_a      1
B_b      2
C_c      3
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>A_a    A_1
B_b    B_2
C_c    C_3
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;_&#39;</span>, expand<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>))  
</span></span></code></pre></div><pre><code>       0    1
A_a    A    1
B_b    B    2
C_c    C    3
D    NaN  NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 替换, 默认正则匹配, 可传入函数高级匹配  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;_&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>)
</span></span></code></pre></div><pre><code>A_a     A1
B_b     B2
C_c     C3
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;_&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>)  
</span></span></code></pre></div><pre><code>Index(['Aa', 'Bb', 'Cc', 'D'], dtype='object')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 拼接  </span>
</span></span><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;_&#39;</span>)<span style="color:#f92672">.</span>str[<span style="color:#ae81ff">0</span>]  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>A_a      A
B_b      B
C_c      C
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>cat() 
</span></span></code></pre></div><pre><code>'ABC'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>cat(sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_&#39;</span>)
</span></span></code></pre></div><pre><code>'A_B_C'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>cat(sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_&#39;</span>, na_rep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_&#39;</span>)  
</span></span></code></pre></div><pre><code>'A_B_C__'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>cat([<span style="color:#e6db74">&#39;1&#39;</span>, <span style="color:#e6db74">&#39;2&#39;</span>, <span style="color:#e6db74">&#39;3&#39;</span>, <span style="color:#e6db74">&#39;4&#39;</span>], na_rep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_&#39;</span>)  
</span></span></code></pre></div><pre><code>A_a    A1
B_b    B2
C_c    C3
D      _4
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 提取  </span>
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>A_a    A_1
B_b    B_2
C_c    C_3
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>extract(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;([ABC])_(\d)&#39;</span>))  
</span></span></code></pre></div><pre><code>       0    1
A_a    A    1
B_b    B    2
C_c    C    3
D    NaN  NaN
</code></pre>
<h2 id="三-时间序列">三, 时间序列</h2>
<p>时间序列对数据分析很重要, 很多数据都和时间发生的先后顺序相关</p>
<p><strong>date_range 生成时间序列</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>date_range(start<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;20200701&#39;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;20200705&#39;</span>)  
</span></span></code></pre></div><pre><code>DatetimeIndex(['2020-07-01', '2020-07-02', '2020-07-03', '2020-07-04',
               '2020-07-05'],
              dtype='datetime64[ns]', freq='D')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以指定生成个数与频率等  </span>
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>date_range(start<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;6/1/2020&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;10D&#39;</span>)  
</span></span></code></pre></div><pre><code>DatetimeIndex(['2020-06-01', '2020-06-11', '2020-06-21', '2020-07-01',
               '2020-07-11'],
              dtype='datetime64[ns]', freq='10D')
</code></pre>
<p><strong>to_datetime 转换时间格式</strong></p>
<p>1970年 1 月 1 日 00:00:00 UTC+00:00 时区的时刻称为 epoch time，记为 0，当前时间就是相对于 epoch time
的秒数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 获取本地当前时间  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> datetime  
</span></span><span style="display:flex;"><span>print(datetime<span style="color:#f92672">.</span>now())  
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>now()<span style="color:#f92672">.</span>timestamp()  
</span></span><span style="display:flex;"><span>print(datetime<span style="color:#f92672">.</span>fromtimestamp(d))  
</span></span><span style="display:flex;"><span>d  
</span></span></code></pre></div><pre><code>2022-08-20 19:48:43.236534
2022-08-20 19:48:43.237531





1660996123.237531
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 数字形式的时间, 用 to_datetime 转换为时间格式后与上述有差别,  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 是由于时区的原因, 转换时区即可一样  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>to_datetime(d, utc<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, unit<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;s&#39;</span>))  
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(d)  
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>to_datetime(d, utc<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, unit<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;s&#39;</span>)<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>tz_convert(<span style="color:#e6db74">&#39;Asia/Shanghai&#39;</span>)  
</span></span></code></pre></div><pre><code>2022-08-20 11:48:43.237530880+00:00





0   2022-08-20 19:48:43.237530880+08:00
dtype: datetime64[ns, Asia/Shanghai]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 各种日期格式的转换  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>to_datetime([<span style="color:#e6db74">&#39;07-17-2020&#39;</span>, <span style="color:#e6db74">&#39;11-07-2020&#39;</span>], dayfirst<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>))  
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>to_datetime(<span style="color:#e6db74">&#39;2020年7月17日&#39;</span>, format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%Y年%m月</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">日&#39;</span>))  
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>to_datetime([<span style="color:#e6db74">&#39;jul 17, 2020&#39;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;2020-07-17&#39;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;20200717&#39;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;2020/07/17&#39;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;2020.07.17&#39;</span>,   
</span></span><span style="display:flex;"><span>                np<span style="color:#f92672">.</span>nan])  
</span></span></code></pre></div><pre><code>DatetimeIndex(['2020-07-17', '2020-07-11'], dtype='datetime64[ns]', freq=None)
2020-07-17 00:00:00





DatetimeIndex(['2020-07-17', '2020-07-17', '2020-07-17', '2020-07-17',
               '2020-07-17', 'NaT'],
              dtype='datetime64[ns]', freq=None)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以跳过非时间, 可以转换 DataFrame 但索引名是固定的名称  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>to_datetime([<span style="color:#e6db74">&#39;2020.07.17&#39;</span>, <span style="color:#e6db74">&#39;日期&#39;</span>], errors<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;coerce&#39;</span>))  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;year&#39;</span>: [<span style="color:#ae81ff">2019</span>, <span style="color:#ae81ff">2020</span>],  
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#39;month&#39;</span>: [<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>],  
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#39;day&#39;</span>: [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]})  
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>to_datetime(df)  
</span></span></code></pre></div><pre><code>DatetimeIndex(['2020-07-17', 'NaT'], dtype='datetime64[ns]', freq=None)





0   2019-06-04
1   2020-07-05
dtype: datetime64[ns]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">10</span>, (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">2</span>)),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;20180717&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;200D&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>            0  1
2018-07-17  4  3
2019-02-02  0  3
2019-08-21  5  0
2020-03-08  2  3
2020-09-24  8  1
</code></pre>
<p><strong>时间索引取值, between_time 取时间段</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[<span style="color:#e6db74">&#39;2018&#39;</span>:<span style="color:#e6db74">&#39;2019&#39;</span>])
</span></span></code></pre></div><pre><code>            0  1
2018-07-17  4  3
2019-02-02  0  3
2019-08-21  5  0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[<span style="color:#e6db74">&#39;2019-01&#39;</span>:<span style="color:#e6db74">&#39;2020-01&#39;</span>])  
</span></span></code></pre></div><pre><code>            0  1
2019-02-02  0  3
2019-08-21  5  0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;20200717&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;2H&#39;</span>) 
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>                     0  1
2020-07-17 00:00:00  4  3
2020-07-17 02:00:00  0  3
2020-07-17 04:00:00  5  0
2020-07-17 06:00:00  2  3
2020-07-17 08:00:00  8  1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>between_time(<span style="color:#e6db74">&#39;3:00&#39;</span>, <span style="color:#e6db74">&#39;7:00&#39;</span>)) 
</span></span></code></pre></div><pre><code>                     0  1
2020-07-17 04:00:00  5  0
2020-07-17 06:00:00  2  3
</code></pre>
<p><strong>时间序列作为数据的操作</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;20180717&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;100D&#39;</span>)  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;日期&#39;</span>  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>          日期  0  1
0 2018-07-17  4  3
1 2018-10-25  0  3
2 2019-02-02  5  0
3 2019-05-13  2  3
4 2019-08-21  8  1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>日期<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>day  
</span></span></code></pre></div><pre><code>0    17
1    25
2     2
3    13
4    21
Name: 日期, dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;月份&#39;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;日期&#39;</span>]<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>month  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>          日期  0  1  月份
0 2018-07-17  4  3   7
1 2018-10-25  0  3  10
2 2019-02-02  5  0   2
3 2019-05-13  2  3   5
4 2019-08-21  8  1   8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[df<span style="color:#f92672">.</span>日期<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>month <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">5</span>])
</span></span></code></pre></div><pre><code>          日期  0  1  月份
0 2018-07-17  4  3   7
1 2018-10-25  0  3  10
3 2019-05-13  2  3   5
4 2019-08-21  8  1   8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[df<span style="color:#f92672">.</span>月份 <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">5</span>])
</span></span></code></pre></div><pre><code>          日期  0  1  月份
0 2018-07-17  4  3   7
1 2018-10-25  0  3  10
3 2019-05-13  2  3   5
4 2019-08-21  8  1   8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>日期<span style="color:#f92672">.</span>astype(str)<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;-&#39;</span>, expand<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>print(d)
</span></span></code></pre></div><pre><code>      0   1   2
0  2018  07  17
1  2018  10  25
2  2019  02  02
3  2019  05  13
4  2019  08  21
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[d[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span><span style="color:#e6db74">&#39;2018&#39;</span>])  
</span></span></code></pre></div><pre><code>          日期  0  1  月份
0 2018-07-17  4  3   7
1 2018-10-25  0  3  10
</code></pre>
<h2 id="四-数据的导入导出与可视化">四, 数据的导入导出与可视化</h2>
<h3 id="1-pandas-可以导入导出多种格式的数据">1, pandas 可以导入导出多种格式的数据:</h3>
<p>read_csv, to_csv<br>
read_json, to_json<br>
read_html, to_html<br>
read_excel, to_excel<br>
read_hdf, to_hdf<br>
等等</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认读取第一个 sheet, 默认第一行为列索引  </span>
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_excel(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;./sheet.xlsx&#39;</span>,  
</span></span><span style="display:flex;"><span>                   sheet_name<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, header<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>   名次  战队名         说明
0   1  FPX      四包二战术
1   2   G2      个人能力强
2   3   IG       喜欢打架
3   4  SKT  Faker状态低迷
4   5  GRF      上单是短板
5   6  DWG        下路弱
6   7  FNC       欧洲强队
7   8  SPY        AD强
8   9  RNG        四保一
9  10   TL       北美强队
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以设置将某列作为行索引, 某列作为列索引  </span>
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_excel(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;./sheet.xlsx&#39;</span>,  
</span></span><span style="display:flex;"><span>                   sheet_name<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>   名次        上单
0   1   GIMGOOM
1   2    WUNDER
2   3      KHAN
3   4   FLANDER
4   5    THESHY
5   6    NUGURI
6   7     BWIPO
7   8   IPMPACT
8   9  LICORICE
9  10      HUNI
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_excel(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;./sheet.xlsx&#39;</span>,  
</span></span><span style="display:flex;"><span>                   sheet_name<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,  
</span></span><span style="display:flex;"><span>                   header<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,  
</span></span><span style="display:flex;"><span>                   index_col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>print(df2)
</span></span></code></pre></div><pre><code>     GIMGOOM
1           
2     WUNDER
3       KHAN
4    FLANDER
5     THESHY
6     NUGURI
7      BWIPO
8    IPMPACT
9   LICORICE
10      HUNI
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 有时需要根据文件调节编码和引擎参数  </span>
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;./ratings_chinses.csv&#39;</span>,  
</span></span><span style="display:flex;"><span>                 engine<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,  
</span></span><span style="display:flex;"><span>                 encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gbk&#39;</span>)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>      数量   收获  评分
0      1    1   4
1      2    3   4
2      3    6   4
3      4   47   5
4      5   50   5
..   ...  ...  ..
105  106   47   5
106  107   50   3
107  108   70   5
108  109  101   4
109  110  110   5

[110 rows x 3 columns]
</code></pre>
<h3 id="2-可视化">2, 可视化</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.family&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Microsoft YaHei&#39;</span>   
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.size&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>收获<span style="color:#f92672">.</span>plot()   
</span></span></code></pre></div><p><img src="output_291_1.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;评分&#39;</span>]<span style="color:#f92672">.</span>plot(kind<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;hist&#39;</span>)   
</span></span></code></pre></div><p><img src="output_292_1.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>plot(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;数量&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;评分&#39;</span>)   
</span></span></code></pre></div><p><img src="output_293_1.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>评分<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>box()  
</span></span></code></pre></div><p><img src="output_294_1.png" alt="png"></p>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/pandas/_index.files/sheet.xlsx">sheet.xlsx</a> (34 KB)</li>
    <li><a href="/pandas/_index.files/ratings_chinses.csv">ratings_chinses.csv</a> (1 KB)</li>
    <li><a href="/pandas/_index.files/pandas.ipynb">pandas.ipynb</a> (436 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>Matpotlib 快速入门</h1>

<p><a href="https://matplotlib.org/">matpotlib官网</a></p>
<h2 id="1-以一个例子开始">1, 以一个例子开始</h2>
<p>matpotlib 绘图非常灵活, 方法和参数繁多, 同样的效果, 可以有很多实现方法, 因此常常让人很混乱和困惑, 理解了绘图的层级结构, 使用起来更得心应手:</p>
<p><img src="mpt.jpg" alt=""></p>
<p>下面将其分四个层级来作说明: 画布 Figure, 绘图对象 Axes, 坐标和图像, 以及图像调整和辅助描述</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 导入库  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">设置 rc 参数: 可以用来修改图形的各种默认属性  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">包括窗体大小, 线条宽度, 颜色, 符号, 字体等等  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;</span>  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.family&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Microsoft YaHei&#39;</span> <span style="color:#75715e"># 字体  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.size&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">18</span> <span style="color:#75715e"># 全体字体大小  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;legend.fontsize&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span> <span style="color:#75715e"># 图例标签字体大小  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;axes.unicode_minus&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span> <span style="color:#75715e"># 正常显示符号  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 创建画布对象 Figure, 可以设置大小等  </span>
</span></span><span style="display:flex;"><span>fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure()  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 用 add_subplot()在画布上面创建绘图对象 Axes, 默认创建一个  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 也可以用 subplots() 直接将 Figure 和 Axes 一起创建  </span>
</span></span><span style="display:flex;"><span>ax <span style="color:#f92672">=</span> fig<span style="color:#f92672">.</span>add_subplot()  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在绘图对象 ax 上绘图, 并设置标签  </span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> range(<span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">10</span>)  
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> [n<span style="color:#f92672">**</span><span style="color:#ae81ff">3</span> <span style="color:#66d9ef">for</span> n <span style="color:#f92672">in</span> x]  
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>plot(x, y, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;曲线&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘制点 P(5, 125)  </span>
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>scatter(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">125</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘制曲线过 P 点的切线  </span>
</span></span><span style="display:flex;"><span>y1 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">3</span><span style="color:#f92672">*</span>(<span style="color:#ae81ff">5</span><span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">*</span>(m <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span>) <span style="color:#f92672">+</span> <span style="color:#ae81ff">125</span> <span style="color:#66d9ef">for</span> m <span style="color:#f92672">in</span> x]  
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>plot(x, y1, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;切线&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 一次性设置 ax 的多个属性  </span>
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>set(title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;y=x**3&#39;</span>, <span style="color:#75715e"># ax 标题  </span>
</span></span><span style="display:flex;"><span>       xlabel<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;x&#39;</span>, <span style="color:#75715e"># x轴标题  </span>
</span></span><span style="display:flex;"><span>       ylabel<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;y&#39;</span>, <span style="color:#75715e"># y轴标题  </span>
</span></span><span style="display:flex;"><span>       xlim<span style="color:#f92672">=</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">10</span>), <span style="color:#75715e"># x轴范围  </span>
</span></span><span style="display:flex;"><span>       ylim<span style="color:#f92672">=</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">600</span>), <span style="color:#75715e"># y轴范围  </span>
</span></span><span style="display:flex;"><span>       xticks<span style="color:#f92672">=</span>range(<span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">2</span>), <span style="color:#75715e"># x轴刻度和标签  </span>
</span></span><span style="display:flex;"><span>       yticks<span style="color:#f92672">=</span>range(<span style="color:#f92672">-</span><span style="color:#ae81ff">500</span>, <span style="color:#ae81ff">600</span>, <span style="color:#ae81ff">100</span>) <span style="color:#75715e"># y轴刻度和标签         </span>
</span></span><span style="display:flex;"><span>      )   
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 上述属性设置方法, 都可以改为如下方法:   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ax.set_title() 或 plt.title()  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 注释标注 P 点, (4, 160) 为 P 的坐标  </span>
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>text(<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">160</span>, <span style="color:#e6db74">&#39;P&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置轴标签字体和倾斜度  </span>
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>tick_params(labelsize<span style="color:#f92672">=</span><span style="color:#ae81ff">12</span>, labelrotation<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 去除非 x, y 轴的包围线  </span>
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>spines[<span style="color:#e6db74">&#39;right&#39;</span>]<span style="color:#f92672">.</span>set_color(<span style="color:#e6db74">&#39;none&#39;</span>)  
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>spines[<span style="color:#e6db74">&#39;top&#39;</span>]<span style="color:#f92672">.</span>set_color(<span style="color:#e6db74">&#39;none&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 显示每个图的标签  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend(fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">15</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 显示  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_1_0.png" alt="png"></p>
<p>通过上例, 能够对 matplotlib 绘图有初步了解:</p>
<p>先有一个画布”桌子”, 然后在上面放”画纸”, 有了”画纸”, 就可以开始画图, 然后按照需求去选”笔”, 布局, 着色, 顺便”作诗落款”注释一下</p>
<h2 id="2-绘制多个绘图对象-axes">2, 绘制多个绘图对象 Axes</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> math  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">12</span>), dpi<span style="color:#f92672">=</span><span style="color:#ae81ff">120</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># &#39;222&#39;表示第 2 行, 第 2 列的第 2 个位置  </span>
</span></span><span style="display:flex;"><span>ax1 <span style="color:#f92672">=</span> fig<span style="color:#f92672">.</span>add_subplot(<span style="color:#ae81ff">222</span>)  
</span></span><span style="display:flex;"><span>ax1<span style="color:#f92672">.</span>plot(range(<span style="color:#ae81ff">8</span>), [x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">8</span>)])  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 可以逗号隔开  </span>
</span></span><span style="display:flex;"><span>ax2 <span style="color:#f92672">=</span> fig<span style="color:#f92672">.</span>add_subplot(<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">3</span>)  
</span></span><span style="display:flex;"><span>ax2<span style="color:#f92672">.</span>plot(range(<span style="color:#ae81ff">8</span>), [math<span style="color:#f92672">.</span>sin(x) <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">8</span>)])  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ax3 <span style="color:#f92672">=</span> fig<span style="color:#f92672">.</span>add_subplot(<span style="color:#ae81ff">221</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># gca() 获取当前绘图对象, 最后绘制的那个  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 如果没有, 将创建一个新的  </span>
</span></span><span style="display:flex;"><span>pg <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>gca()  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置属性  </span>
</span></span><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>set(title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;最后绘制的图&#39;</span>, xlabel<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;x轴&#39;</span>)  
</span></span><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#39;y轴&#39;</span>, rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>) <span style="color:#75715e"># 设置 y 轴标签水平显示  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>plot(range(<span style="color:#ae81ff">10</span>), range(<span style="color:#ae81ff">10</span>))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将 y 轴移动到 x=4 处  </span>
</span></span><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>spines[<span style="color:#e6db74">&#39;left&#39;</span>]<span style="color:#f92672">.</span>set_position((<span style="color:#e6db74">&#39;data&#39;</span>, <span style="color:#ae81ff">4</span>))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 添加网格线, 设置颜色, 透明度  </span>
</span></span><span style="display:flex;"><span>pg<span style="color:#f92672">.</span>grid(color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, linestyle<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;-.&#39;</span>, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_3_0.png" alt="png"></p>
<p>有了层次结构的了解, 就可以更潇洒地直接使用 <code>plt</code> 绘图了, 用 <code>plt</code> 直接绘图, 如果不创建画布, 画布 和 绘图对象 自动生成</p>
<p>下面用常用的图形风格举例(参数非常多, 不做详细介绍):</p>
<h2 id="3-折线图">3, 折线图</h2>
<p>折线图一般用来反映数据的变化情况和趋势</p>
<p>上面例子中绘制的都是折线图, 下面 <strong>将折线图映射成一排排点, 比较数据的分散程度:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 创建两组数据  </span>
</span></span><span style="display:flex;"><span>x1 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">20</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">500</span>)  
</span></span><span style="display:flex;"><span>x2 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">10</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">500</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 映射成两排点  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">15</span>, <span style="color:#ae81ff">4</span>))  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylim(<span style="color:#f92672">-</span><span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">1.5</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(x1, np<span style="color:#f92672">.</span>zeros(len(x1)),  
</span></span><span style="display:flex;"><span>         ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>, <span style="color:#75715e"># 线条设为空  </span>
</span></span><span style="display:flex;"><span>         marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;o&#39;</span>, <span style="color:#75715e"># 数据点的样式  </span>
</span></span><span style="display:flex;"><span>         ms<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>, <span style="color:#75715e"># 点的大小  </span>
</span></span><span style="display:flex;"><span>         label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;x1&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(x2, np<span style="color:#f92672">.</span>ones(len(x2)), ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;o&#39;</span>, ms<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;x2&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘出两组数据均值所在位置  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>axvline(x1<span style="color:#f92672">.</span>mean(),  
</span></span><span style="display:flex;"><span>            <span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.4</span>, <span style="color:#75715e"># 竖线的范围, 取值为 0~1 之间  </span>
</span></span><span style="display:flex;"><span>            ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;--&#39;</span>, <span style="color:#75715e"># 线条样式  </span>
</span></span><span style="display:flex;"><span>            label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;x1均值&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>axvline(x2<span style="color:#f92672">.</span>mean(), <span style="color:#ae81ff">0.6</span>, <span style="color:#ae81ff">0.9</span>, ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;-.&#39;</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;x2均值&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 划出 x2 的范围线  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>hlines(<span style="color:#ae81ff">0.8</span>, x2<span style="color:#f92672">.</span>min(), x2<span style="color:#f92672">.</span>max())  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend(fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">18</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_5_0.png" alt="png"></p>
<h2 id="4-散点图">4, 散点图</h2>
<p>散点图一般用来反映数据之间关联性(类别和分布规律)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 创建数据  </span>
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randn(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">100</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 第一个类别  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(y[<span style="color:#ae81ff">0</span>], y[<span style="color:#ae81ff">1</span>], label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;第一类&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 第二个类别  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(y[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, y[<span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">3</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;第二类&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_7_0.png" alt="png"></p>
<h2 id="5-柱状图">5, 柱状图</h2>
<p>柱状图一般用来比较数据的统计量, 对数据进行直观的比较</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 接下来 5 天下雨的概率  </span>
</span></span><span style="display:flex;"><span>prob <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0.81</span>, <span style="color:#ae81ff">0.22</span>, <span style="color:#ae81ff">0.63</span>, <span style="color:#ae81ff">0.18</span>, <span style="color:#ae81ff">0.74</span>]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># x 轴标签  </span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;第一天&#39;</span>, <span style="color:#e6db74">&#39;第二天&#39;</span>, <span style="color:#e6db74">&#39;第三天&#39;</span>, <span style="color:#e6db74">&#39;第四天&#39;</span>, <span style="color:#e6db74">&#39;第五天&#39;</span>]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘图并将图赋值给 rects  </span>
</span></span><span style="display:flex;"><span>rects <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>bar(x, prob, width<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置 x 轴标签字体和倾斜度; y 轴范围  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xticks(fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">12</span>, rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">45</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylim(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在柱状图上添加概率标注  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> rect <span style="color:#f92672">in</span> rects:  
</span></span><span style="display:flex;"><span>    height <span style="color:#f92672">=</span> rect<span style="color:#f92672">.</span>get_height()  
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>text(rect<span style="color:#f92672">.</span>get_x(), height <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.01</span>, str(height))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_9_0.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 还可以横向绘制  </span>
</span></span><span style="display:flex;"><span>rects <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>barh(x, prob, height<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>yticks(fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">12</span>, rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">45</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlim(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 在柱状图上添加概率标注  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> rect <span style="color:#f92672">in</span> rects:  
</span></span><span style="display:flex;"><span>    width <span style="color:#f92672">=</span> rect<span style="color:#f92672">.</span>get_width()  
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>text(width,  
</span></span><span style="display:flex;"><span>             rect<span style="color:#f92672">.</span>get_y() <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.5</span><span style="color:#f92672">/</span><span style="color:#ae81ff">2</span>,  
</span></span><span style="display:flex;"><span>             str(width),  
</span></span><span style="display:flex;"><span>             va<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;center&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show() 
</span></span></code></pre></div><p><img src="output_10_0.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 假设概率大于 0.5 就是下雨, 展示下雨和不下雨, 同时展示概率  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 接下来 5 天下雨的概率  </span>
</span></span><span style="display:flex;"><span>prob1 <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0.81</span>, <span style="color:#ae81ff">0.22</span>, <span style="color:#ae81ff">0.63</span>, <span style="color:#ae81ff">0.18</span>, <span style="color:#ae81ff">0.74</span>]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 不下雨的概率  </span>
</span></span><span style="display:flex;"><span>prob2 <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> np<span style="color:#f92672">.</span>array(prob)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置 x 轴标签  </span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;第一天&#39;</span>, <span style="color:#e6db74">&#39;第二天&#39;</span>, <span style="color:#e6db74">&#39;第三天&#39;</span>, <span style="color:#e6db74">&#39;第四天&#39;</span>, <span style="color:#e6db74">&#39;第五天&#39;</span>]  
</span></span><span style="display:flex;"><span>m <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;下雨&#39;</span> <span style="color:#66d9ef">if</span> i <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0.5</span> <span style="color:#66d9ef">else</span> <span style="color:#e6db74">&#39;不下&#39;</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> prob1]  
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">=</span> [x[i] <span style="color:#f92672">+</span> m[i] <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(x))]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘图  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>bar(n, prob1, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;下雨的概率&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>bar(n, prob2, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;不下雨的概率&#39;</span>, bottom<span style="color:#f92672">=</span>prob1)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylim(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xticks(fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">12</span>, rotation<span style="color:#f92672">=</span><span style="color:#ae81ff">45</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend(fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>, loc<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;best&#39;</span>, bbox_to_anchor<span style="color:#f92672">=</span>(<span style="color:#ae81ff">0.7</span>, <span style="color:#ae81ff">1</span>))  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_11_0.png" alt="png"></p>
<h2 id="6-直方图">6, 直方图</h2>
<p>直方图用来直观地反映数据的总体分布情况</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 创建数据  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>normal(<span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">5</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">1000</span>)  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 30 是数据的均值, 5 是标准差  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘制直方图  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>hist(data,  
</span></span><span style="display:flex;"><span>         <span style="color:#ae81ff">40</span>, <span style="color:#75715e"># 组数  </span>
</span></span><span style="display:flex;"><span>         density<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span> <span style="color:#75715e"># 每组以占比显示  </span>
</span></span><span style="display:flex;"><span>        )  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘制概率密度曲线  </span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(int(data<span style="color:#f92672">.</span>min()), int(data<span style="color:#f92672">.</span>max()))  
</span></span><span style="display:flex;"><span>f <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> x, mu, sigma: np<span style="color:#f92672">.</span>exp(<span style="color:#f92672">-</span>((x <span style="color:#f92672">-</span> mu)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>) <span style="color:#f92672">/</span> (<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> sigma<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)  
</span></span><span style="display:flex;"><span>                               ) <span style="color:#f92672">/</span> (sigma <span style="color:#f92672">*</span> np<span style="color:#f92672">.</span>sqrt(<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> np<span style="color:#f92672">.</span>pi))  
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> f(x, <span style="color:#ae81ff">30</span>, <span style="color:#ae81ff">5</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(x, y, ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;-&#39;</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_13_0.png" alt="png"></p>
<p>上图可以利用基于 matpoltlib 的库 seaborn 绘制更方便:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> seaborn <span style="color:#66d9ef">as</span> sns  
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>displot(data)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show() 
</span></span></code></pre></div><p><img src="output_15_0.png" alt="png"></p>
<h2 id="7-饼图">7, 饼图</h2>
<p>饼图用来直观地反映各个类别占比</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.size&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">14</span>  
</span></span><span style="display:flex;"><span>fig <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 准备数据  </span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> [<span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">45</span>, <span style="color:#ae81ff">21</span>, <span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">2</span>] <span style="color:#75715e"># 每个类别数量  </span>
</span></span><span style="display:flex;"><span>labels <span style="color:#f92672">=</span> [<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">类&#39;</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, len(x) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>)] <span style="color:#75715e"># 类别名  </span>
</span></span><span style="display:flex;"><span>explode <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0.02</span>] <span style="color:#f92672">*</span> len(x) <span style="color:#75715e"># 每一块离中心的距离  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>pie(x,  
</span></span><span style="display:flex;"><span>        explode<span style="color:#f92672">=</span>explode,  
</span></span><span style="display:flex;"><span>        labels<span style="color:#f92672">=</span>labels,  
</span></span><span style="display:flex;"><span>        colors<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, <span style="color:#75715e"># 颜色不配置, 使用默认  </span>
</span></span><span style="display:flex;"><span>        autopct<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">%.1f%%</span><span style="color:#e6db74">&#39;</span>, <span style="color:#75715e"># 设置百分比标签  </span>
</span></span><span style="display:flex;"><span>        pctdistance<span style="color:#f92672">=</span><span style="color:#ae81ff">0.7</span>, <span style="color:#75715e"># 设置百分比标签离中心的距离  </span>
</span></span><span style="display:flex;"><span>        shadow<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, <span style="color:#75715e"># 设置阴影  </span>
</span></span><span style="display:flex;"><span>        labeldistance<span style="color:#f92672">=</span><span style="color:#ae81ff">1.05</span>, <span style="color:#75715e"># 设置类别标签离中心的距离  </span>
</span></span><span style="display:flex;"><span>        startangle<span style="color:#f92672">=</span><span style="color:#ae81ff">180</span>, <span style="color:#75715e"># 设置绘制起始位置  </span>
</span></span><span style="display:flex;"><span>        radius<span style="color:#f92672">=</span><span style="color:#ae81ff">1.1</span>, <span style="color:#75715e"># 设置饼图大小  </span>
</span></span><span style="display:flex;"><span>        counterclock<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, <span style="color:#75715e"># 设置顺逆时针  </span>
</span></span><span style="display:flex;"><span>       )  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend(fontsize<span style="color:#f92672">=</span><span style="color:#ae81ff">16</span>, loc<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;best&#39;</span>, bbox_to_anchor<span style="color:#f92672">=</span>(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>))  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_17_0.png" alt="png"></p>
<p><strong>拓展:</strong> 绘制三维立体图</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> mpl_toolkits.mplot3d <span style="color:#f92672">import</span> axes3d
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> matplotlib <span style="color:#f92672">import</span> cm
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>figure()<span style="color:#f92672">.</span>add_subplot(projection<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;3d&#39;</span>)
</span></span><span style="display:flex;"><span>X, Y, Z <span style="color:#f92672">=</span> axes3d<span style="color:#f92672">.</span>get_test_data(<span style="color:#ae81ff">0.05</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>contour(X, Y, Z, cmap<span style="color:#f92672">=</span>cm<span style="color:#f92672">.</span>coolwarm)  <span style="color:#75715e"># Plot contour curves</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><p><img src="output_19_0.png" alt="png"></p>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/matplotlib/_index.files/matplotlib.ipynb">matplotlib.ipynb</a> (345 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>数理统计、机器学习入门</h1>

<p>目录和附件</p>

<ul class="children children-li children-sort-weight">
<li><a href="/statistics/statistics1/" >描述统计</a></li><ul></ul>
<li><a href="/statistics/statistics2/" >推断统计</a></li><ul></ul>
<li><a href="/statistics/statistics3/" >线性回归</a></li><ul></ul>
<li><a href="/statistics/statistics4/" >逻辑回归</a></li><ul></ul>
<li><a href="/statistics/statistics5/" >分类模型评估</a></li><ul></ul>
<li><a href="/statistics/statistics6/" >KNN 算法</a></li><ul></ul>
<li><a href="/statistics/statistics7/" >朴素贝叶斯</a></li><ul></ul>
<li><a href="/statistics/statistics8/" >决策树</a></li><ul></ul>
<li><a href="/statistics/statistics9/" >K-Means 算法</a></li><ul></ul>
</ul>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/statistics/_index.files/statistics1.ipynb">statistics1.ipynb</a> (50 KB)</li>
    <li><a href="/statistics/_index.files/statistics2.ipynb">statistics2.ipynb</a> (47 KB)</li>
    <li><a href="/statistics/_index.files/statistics3.ipynb">statistics3.ipynb</a> (36 KB)</li>
    <li><a href="/statistics/_index.files/statistics4.ipynb">statistics4.ipynb</a> (70 KB)</li>
    <li><a href="/statistics/_index.files/statistics5.ipynb">statistics5.ipynb</a> (40 KB)</li>
    <li><a href="/statistics/_index.files/statistics6.ipynb">statistics6.ipynb</a> (11 KB)</li>
    <li><a href="/statistics/_index.files/statistics7.ipynb">statistics7.ipynb</a> (22 KB)</li>
    <li><a href="/statistics/_index.files/statistics8.ipynb">statistics8.ipynb</a> (94 KB)</li>
    <li><a href="/statistics/_index.files/statistics9.ipynb">statistics9.ipynb</a> (439 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>

          <section>
          <article class="default">
<h1>描述统计</h1>

<p>数理统计以概率论为基础, 研究大量随机现象的统计规律性. 分为 <strong>描述统计</strong> 和 <strong>推断统计</strong> , 在数据分析领域具有非常重要的地位</p>
<p>描述统计, 就是从总体数据中提取变量的主要信息(总和, 均值, 最大, 最多等), 从而从总体层面上, 对数据进行统计性描述.
通常配合绘制相关统计图进行辅助</p>
<h2 id="统计学的变量类型">统计学的变量类型</h2>
<p>统计学中的变量指研究对象的特征(属性), 每个变量都有变量值和类型, 类型可分为:</p>
<p><strong>类别变量</strong> : 对研究对象定性, 分类</p>
<p>类别变量又可分为:</p>
<ul>
<li>有序类别变量: 描述对象等级或顺序等, 例如, 优良中差</li>
<li>无序类别变量: 仅做分类, 例如 A, B 血型, 男女</li>
</ul>
<p><strong>数值变量</strong> : 对研究对象定量描述</p>
<p>数值变量又可分为:</p>
<ul>
<li>离散变量: 取值只能用自然数或整数个单位计算, 例如统计人数</li>
<li>连续变量: 在一定区间内可以任意取值, 例如计算身高</li>
</ul>
<p>数值变量对加, 减, 求平均等操作有意义, 而类别变量无意义</p>
<h2 id="统计量">统计量</h2>
<p>描述统计所提取的统计信息, 称为统计量, 主要包括:</p>
<ul>
<li>类别分析: 频数, 频率</li>
<li>集中趋势分析: 均值, 中位数, 众数, 分位数</li>
<li>离散程度分析: 极差, 方差, 标准差</li>
<li>描述分布形状: 偏度, 峰度</li>
</ul>
<p>准备数据:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> seaborn <span style="color:#66d9ef">as</span> sns  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.family&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;SimHei&#39;</span>  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;axes.unicode_minus&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 正态分布  </span>
</span></span><span style="display:flex;"><span>data1 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>around(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>normal(<span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">600</span>))<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 左偏  </span>
</span></span><span style="display:flex;"><span>t1 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">21</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)  
</span></span><span style="display:flex;"><span>t2 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">21</span>, <span style="color:#ae81ff">31</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">500</span>)  
</span></span><span style="display:flex;"><span>left_data <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>concatenate([t1, t2])<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 右偏  </span>
</span></span><span style="display:flex;"><span>t3 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">11</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">500</span>)  
</span></span><span style="display:flex;"><span>t4 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">21</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>)  
</span></span><span style="display:flex;"><span>right_data <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>concatenate([t3, t4])<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 类别  </span>
</span></span><span style="display:flex;"><span>type_data <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">600</span>)<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>concatenate([data1, left_data, right_data, type_data], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(data,  
</span></span><span style="display:flex;"><span>                   columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;data1&#39;</span>, <span style="color:#e6db74">&#39;left_data&#39;</span>, <span style="color:#e6db74">&#39;right_data&#39;</span>, <span style="color:#e6db74">&#39;type_data&#39;</span>])  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 随机取 10 条数据  </span>
</span></span><span style="display:flex;"><span>data<span style="color:#f92672">.</span>sample(<span style="color:#ae81ff">10</span>)  
</span></span></code></pre></div><pre><code>  data1	left_data	right_data	type_data
202	13.0	27.0	8.0	0.0
595	12.0	23.0	15.0	0.0
523	11.0	21.0	20.0	1.0
259	12.0	29.0	8.0	0.0
498	12.0	24.0	3.0	0.0
110	8.0	27.0	1.0	0.0
65	7.0	12.0	5.0	0.0
231	13.0	25.0	2.0	0.0
321	8.0	30.0	3.0	0.0
544	5.0	29.0	19.0	1.0
</code></pre>
<h3 id="a-频数">a, 频数</h3>
<p>数据中某个类别出现的次数称为该类别的频数</p>
<p>例如, 计算上述两个类别(<code>0.0</code> 和 <code>1.0</code>)出现的频数:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>frequency <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;type_data&#39;</span>]<span style="color:#f92672">.</span>value_counts()  
</span></span><span style="display:flex;"><span>frequency 
</span></span></code></pre></div><pre><code>0.0    309
1.0    291
Name: type_data, dtype: int64
</code></pre>
<h3 id="b-频率">b, 频率</h3>
<p>数据中某个类别出现次数与总次数的比值称为该类别的频率</p>
<p>例如, 计算上述两个类别(<code>0.0</code> 和 <code>1.0</code>)出现的频率:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>percentage <span style="color:#f92672">=</span> frequency <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">/</span> len(data)  
</span></span><span style="display:flex;"><span>percentage  
</span></span></code></pre></div><pre><code>0.0    51.5
1.0    48.5
Name: type_data, dtype: float64
</code></pre>
<h3 id="c-均值">c, 均值</h3>
<p>平均值, 一组数据的总和除以数据的个数</p>
<h3 id="d-中位数">d, 中位数</h3>
<p>将一组数据按顺序排列, 位于最中间位置的值, 即是中位数, 如果数据个数为偶数, 取中间两个的平均值</p>
<h3 id="e-众数">e, 众数</h3>
<p>一组数据中出现次数最多的值</p>
<p>通常三者的关系如下图所示:</p>
<p><img src="fenbu.png" alt=""></p>
<p><strong>注意点</strong> :<br>
数值变量通常使用均值和中值表示集中趋势, 类别变量则通常使用众数<br>
正态分布下, 数据量足够多, 三者相同<br>
均值使用所有数据计算, 容易受极端值影响, 中位数和众数则不会<br>
众数在一组数据中可能不唯一</p>
<p>例, 计算字段 <code>data1</code> 的均值, 中位数和众数:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>mean <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;data1&#39;</span>]<span style="color:#f92672">.</span>mean()  
</span></span><span style="display:flex;"><span>median <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;data1&#39;</span>]<span style="color:#f92672">.</span>median()  
</span></span><span style="display:flex;"><span>mode <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;data1&#39;</span>]<span style="color:#f92672">.</span>mode()  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;均值:</span><span style="color:#e6db74">{</span>mean<span style="color:#e6db74">}</span><span style="color:#e6db74"> 中位数:</span><span style="color:#e6db74">{</span>median<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">众数:</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">{</span>mode<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)  
</span></span></code></pre></div><pre><code>均值:10.121666666666666 中位数:10.0
众数:
0    9.0
dtype: float64
</code></pre>
<h3 id="f-分位数">f, 分位数</h3>
<p>通过 n - 1 个分位, 将升序排列的数据分为 n 个区间, 使得每个区间数值个数相等(或近似相等), 则每个分位对应的数, 就是该 n 分位的分位数.
常用的有四分位数和百分位数</p>
<p>以四分位数为例:<br>
第一个分位称为 1/4 分位(下四分位), 第二个称为 2/4 分位(中四分位), 第三个称为 3/4 分位(上四分位), 其中中四分位数, 其实就是中位数</p>
<p>求四分位的值:</p>
<ul>
<li>
<p>首先计算各个分位的位置<br>
index1 = (n - 1) * 0.25<br>
index2 = (n - 1) * 0.5<br>
index3 = (n - 1) * 0.75<br>
(index 从 0 开始, n 为元素的个数)</p>
</li>
<li>
<p>根据位置计算各个分位的值<br>
index 为整数, 值就是相应的 index 对应的元素<br>
index 不为整数, 四分位位置介于 ceil(index) 和 floor(index) 之间, 加权计算分位值</p>
</li>
</ul>
<p>例, 求 x 的四分位数:<br>
<strong>index 为整数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">9</span>)  
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">=</span> len(x)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>index1 <span style="color:#f92672">=</span> (n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.25</span>  
</span></span><span style="display:flex;"><span>index2 <span style="color:#f92672">=</span> (n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.5</span>    
</span></span><span style="display:flex;"><span>index3 <span style="color:#f92672">=</span> (n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.75</span>    
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>index <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([index1, index2, index3])<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>int32)  
</span></span><span style="display:flex;"><span>x[index]  
</span></span></code></pre></div><pre><code>array([2, 4, 6])
</code></pre>
<p><strong>index 不是整数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">10</span>)  
</span></span><span style="display:flex;"><span>n <span style="color:#f92672">=</span> len(x)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>index1 <span style="color:#f92672">=</span> (n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.25</span>  
</span></span><span style="display:flex;"><span>index2 <span style="color:#f92672">=</span> (n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.5</span>    
</span></span><span style="display:flex;"><span>index3 <span style="color:#f92672">=</span> (n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.75</span>    
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>index <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([index1, index2, index3])  
</span></span><span style="display:flex;"><span>left <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>floor(index)<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>int32)  
</span></span><span style="display:flex;"><span>right <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>ceil(index)<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>int32)  
</span></span><span style="display:flex;"><span>weight, _ <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>modf(index) <span style="color:#75715e"># 获取 index 整数和小数部分  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>result <span style="color:#f92672">=</span> x[left] <span style="color:#f92672">*</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> weight) <span style="color:#f92672">+</span> x[right] <span style="color:#f92672">*</span> weight  
</span></span><span style="display:flex;"><span>result  
</span></span></code></pre></div><pre><code>array([2.25, 4.5 , 6.75])
</code></pre>
<p>Numpy 中计算分位数可直接用方法 <code>np.quantile</code> 和 <code>np.percentile</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>np<span style="color:#f92672">.</span>quantile(x, q<span style="color:#f92672">=</span>[<span style="color:#ae81ff">0.25</span>, <span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">0.75</span>]), np<span style="color:#f92672">.</span>percentile(x, q<span style="color:#f92672">=</span>[<span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">50</span>, <span style="color:#ae81ff">75</span>])  
</span></span></code></pre></div><pre><code>(array([2.25, 4.5 , 6.75]), array([2.25, 4.5 , 6.75]))
</code></pre>
<p>Pandas 中计算分位数可利用 <code>describe</code> (默认 4 分位)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(x)  
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>describe()  
</span></span></code></pre></div><pre><code>count    10.00000
mean      4.50000
std       3.02765
min       0.00000
25%       2.25000
50%       4.50000
75%       6.75000
max       9.00000
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>describe()<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">4</span>:<span style="color:#ae81ff">7</span>]  
</span></span></code></pre></div><pre><code>25%    2.25
50%    4.50
75%    6.75
dtype: float64
</code></pre>
<p>可自定义分位:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>describe(percentiles<span style="color:#f92672">=</span>[<span style="color:#ae81ff">0.15</span>, <span style="color:#ae81ff">0.4</span>, <span style="color:#ae81ff">0.8</span>])  
</span></span></code></pre></div><pre><code>count    10.00000
mean      4.50000
std       3.02765
min       0.00000
15%       1.35000
40%       3.60000
50%       4.50000
80%       7.20000
max       9.00000
dtype: float64
</code></pre>
<h3 id="g-极差">g, 极差</h3>
<p>一组数据中, 最大值与最小值之差</p>
<h3 id="h-方差">h, 方差</h3>
<p>方差体现一组数据中, 每个元素与均值的偏离程度</p>

<span class="math align-center">$$\sigma^{2}=\frac{1}{n-1} \sum_{i=1}^{n}\left(x_{i}-\bar{x}\right)^{2}$$</span><p>
<span class="math align-center">$x_{i}:$</span> 数组中的每个元素<br>

<span class="math align-center">$n:$</span> 数组元素的个数<br>

<span class="math align-center">$\bar{x}:$</span> 数组中所有元素的均值</p>
<h3 id="i-标准差">i, 标准差</h3>
<p>标准差为方差的开方. 方差和标准差可以体现数据的分散性, 越大越分散, 越小越集中. 也可体现数据波动性(稳定性), 越大波动越大, 反之亦然</p>
<p>当数据足够多时, 可用 n 代替 n - 1</p>
<p>例, 计算 <code>left_data</code> 字段的极差, 方差, 标准差:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sub <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>ptp(data[<span style="color:#e6db74">&#39;left_data&#39;</span>])  
</span></span><span style="display:flex;"><span>var <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;left_data&#39;</span>]<span style="color:#f92672">.</span>var()  
</span></span><span style="display:flex;"><span>std <span style="color:#f92672">=</span> data[<span style="color:#e6db74">&#39;left_data&#39;</span>]<span style="color:#f92672">.</span>std()  
</span></span><span style="display:flex;"><span>sub, var, std  
</span></span></code></pre></div><pre><code>(29.0, 44.631048970506306, 6.680647346665315)
</code></pre>
<p>绘图对比 <code>data1</code> 和 <code>left_data</code> 的分散程度</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">11</span>, <span style="color:#ae81ff">1</span>))  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylim(<span style="color:#f92672">-</span><span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">1.5</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(data[<span style="color:#e6db74">&#39;data1&#39;</span>], np<span style="color:#f92672">.</span>zeros(len(data)), ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;o&#39;</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;data1&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(data[<span style="color:#e6db74">&#39;left_data&#39;</span>], np<span style="color:#f92672">.</span>ones(len(data)), ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;o&#39;</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;left_data&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>axvline(data[<span style="color:#e6db74">&#39;data1&#39;</span>]<span style="color:#f92672">.</span>mean(), ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;--&#39;</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;data1均值&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>axvline(data[<span style="color:#e6db74">&#39;left_data&#39;</span>]<span style="color:#f92672">.</span>mean(), ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;--&#39;</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;left_data均值&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_22_0.png" alt="png"></p>
<h3 id="j-偏度">j, 偏度</h3>
<p>统计数据分布偏斜方向和程度的度量, 统计数据分布非对称程度的数字特征, 偏度为 0 , 对称分布, 小于 0, 左偏分别, 大于 0, 右偏分布</p>
<h3 id="k-峰度">k, 峰度</h3>
<p>表征概率密度分布曲线在平均值处峰值高低的特征数. 直观看来, 峰度反映了峰部的尖度, 峰度高意味着标准差增大是由低频度的大于或小于平均值的极端差值引起的.
在相同的标准差下，峰度越大，分布就有更多的极端值，那么其余值必然要更加集中在众数周围，其分布必然就更加陡峭</p>
<p>样本的峰度是和正态分布相比较而言的统计量, 符合正态分布的峰度为 0</p>
<p>例, 计算 <code>data</code> 中前三个字段的偏度, 峰度与标准差, 并绘图比较:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;偏度:&#39;</span>, data[<span style="color:#e6db74">&#39;data1&#39;</span>]<span style="color:#f92672">.</span>skew(), data[<span style="color:#e6db74">&#39;left_data&#39;</span>]<span style="color:#f92672">.</span>skew(), data[<span style="color:#e6db74">&#39;right_data&#39;</span>]<span style="color:#f92672">.</span>skew())  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;峰度:&#39;</span>, data[<span style="color:#e6db74">&#39;data1&#39;</span>]<span style="color:#f92672">.</span>kurt(), data[<span style="color:#e6db74">&#39;left_data&#39;</span>]<span style="color:#f92672">.</span>kurt(), data[<span style="color:#e6db74">&#39;right_data&#39;</span>]<span style="color:#f92672">.</span>kurt())  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;标准差:&#39;</span>, data[<span style="color:#e6db74">&#39;data1&#39;</span>]<span style="color:#f92672">.</span>std(), data[<span style="color:#e6db74">&#39;left_data&#39;</span>]<span style="color:#f92672">.</span>std(), data[<span style="color:#e6db74">&#39;right_data&#39;</span>]<span style="color:#f92672">.</span>std())  
</span></span></code></pre></div><pre><code>偏度: 0.0013827051273872734 -1.704193031847586 0.9122511031664028
峰度: 0.01807838530280126 2.5013831586663304 0.29539776195275813
标准差: 2.891504548352662 6.680647346665315 4.672046842962734
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>kdeplot(data[<span style="color:#e6db74">&#39;data1&#39;</span>], shade<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;正态&#39;</span>)  
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>kdeplot(data[<span style="color:#e6db74">&#39;left_data&#39;</span>], shade<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;左偏&#39;</span>)  
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>kdeplot(data[<span style="color:#e6db74">&#39;right_data&#39;</span>], shade<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;右偏&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_25_0.png" alt="png"></p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>推断统计</h1>

<p>推断统计, 通过样本推断总体的统计方法, 包括对总体的未知参数进行估计; 对关于参数的假设进行检查; 对总体进行预测预报等.
推断统计的基本问题可以分为两大类：一类是 <strong>参数估计</strong> 问题; 另一类是 <strong>假设检验</strong> 问题</p>
<h2 id="1-总体-个体与样本">1, 总体, 个体与样本</h2>
<p>总体, 要研究对象的所有数据, 获取通常比较困难. 总体中的某个数据, 就是个体. 从总体中抽取部分个体, 就构成了样本, 样本中的个体数, 称为样本容量.</p>
<h2 id="2-参数估计">2, 参数估计</h2>
<p>参数估计, 用样本指标(统计量)估计总体指标(参数). 参数估计有 <strong>点估计</strong> 和 <strong>区间估计</strong> 两种</p>
<h3 id="201-点估计">2.01, 点估计</h3>
<p>点估计是依据样本统计量估计总体中的未知参数. 通常它们是总体的某个特征值，如数学期望, 方差和相关系数等.
点估计问题就是要构造一个只依赖于样本的量，作为总体未知参数的估计值.</p>
<h3 id="202-区间估计">2.02, 区间估计</h3>
<p>区间估计是根据样本的统计量, 计算出一个可能的区间(置信区间) 和 概率(置信度), 表示总体的未知参数有多少概率位于该区间.</p>
<p><strong>注意:</strong><br>
点估计使用一个值来作为总体参数值, 能给出具体值, 但易受随机抽样影响, 准确性不够<br>
区间估计使用一个置信区间和置信度, 表示总体参数值有多少可能(置信度)会在该范围(置信区间)内, 能给出合理的范围和信心指数, 不能给出具体值</p>
<h3 id="203-中心极限定理">2.03, 中心极限定理</h3>
<p>要确定置信区间与置信度, 我们先要知道总体与样本之间, 在分布上有着怎样的联系. 中心极限定理(独立同分布的中心极限定理)给出了它们之间的联系:</p>
<p>如果总体均值为 
<span class="math align-center">$\mu$</span>, 方差为 
<span class="math align-center">$\sigma^{2}$</span>, 我们进行随机抽样, 样本容量为 n, 当 n 增大时，则样本均值 
<span class="math align-center">$\bar{X}$</span>
逐渐趋近服从均值为 
<span class="math align-center">$\mu$</span>, 方差为 
<span class="math align-center">$\sigma^{2} / n$</span> 的正态分布：</p>

<span class="math align-center">$$\bar{X} \sim N\left(\mu, \sigma^{2} / n\right)$$</span><p><strong>说明:</strong><br>
进行多次抽样，每次抽样会得到一个均值, 这些均值会围绕在总体均值左右，呈正态分布<br>
当样本容量 n 足够大时, 抽样样本均值的均值 ≈ 样本均值 
<span class="math align-center">$\bar{X}$</span> ≈ 总体均值 
<span class="math align-center">$\mu$</span>, 样本均值分布的标准差等于 
<span class="math align-center">$\sigma / \sqrt{n}$</span><br>
样本均值分布的标准差, 称为标准误差, 简称标准误</p>
<p>模拟证明:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> seaborn <span style="color:#66d9ef">as</span> sns  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.family&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;SimHei&#39;</span>  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;axes.unicode_minus&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义非正态分布总体(也可以是正态分布)  </span>
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>normal(<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">5</span>, size<span style="color:#f92672">=</span><span style="color:#ae81ff">10000</span>)  
</span></span><span style="display:flex;"><span>data<span style="color:#f92672">.</span>sort()  
</span></span><span style="display:flex;"><span>all_ <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>choice(data[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">8000</span>], size<span style="color:#f92672">=</span><span style="color:#ae81ff">10000</span>)  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sns.displot(all_)  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将总体的均值和标准差设为已知条件  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;总体均值:&#39;</span>, all_<span style="color:#f92672">.</span>mean(), <span style="color:#e6db74">&#39;总体标准差:&#39;</span>, all_<span style="color:#f92672">.</span>std())  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 创建存放每次抽样的平均值的数组(初始值为 0)  </span>
</span></span><span style="display:flex;"><span>mean_arr <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>zeros(<span style="color:#ae81ff">1000</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 循环抽取 1000 个样本, 每次抽 100 个  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(mean_arr)):  
</span></span><span style="display:flex;"><span>    mean_arr[i] <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>choice(all_, size<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>, replace<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>mean()  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 验证结果  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;样本均值:&#39;</span>, mean_arr[<span style="color:#ae81ff">1</span>], <span style="color:#e6db74">&#39;样本均值的均值:&#39;</span>, mean_arr<span style="color:#f92672">.</span>mean(),   
</span></span><span style="display:flex;"><span>      <span style="color:#e6db74">&#39;标准误差:&#39;</span>, mean_arr<span style="color:#f92672">.</span>std(), <span style="color:#e6db74">&#39;偏度:&#39;</span>, pd<span style="color:#f92672">.</span>Series(mean_arr)<span style="color:#f92672">.</span>skew(), sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>displot(mean_arr, kde<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show() 
</span></span></code></pre></div><pre><code>总体均值: 18.270423532980452 总体标准差: 3.8201265113791596
样本均值:
18.194948520041606
样本均值的均值:
18.26385715935595
标准误差:
0.373202226318143
偏度:
0.00746666188264042
</code></pre>
<p><img src="output_1_1.png" alt="png"></p>
<h3 id="204-正态分布的特性">2.04, 正态分布的特性</h3>
<p>正态分布: 
<span class="math align-center">$X \sim N\left(\mu, \sigma^{2}\right)$</span></p>
<p><img src="zttx.png" alt="png"></p>
<p>以均值为中心:<br>
在 1 倍标准差内包含约 68.2% 的样本数据<br>
在 2 倍标准差内包含约 95.4% 的样本数据<br>
在 3 倍标准差内包含约 99.7% 的样本数据</p>
<p>证明:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 定义标准差  </span>
</span></span><span style="display:flex;"><span>scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义数据  </span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>normal(<span style="color:#ae81ff">0</span>, scale, size<span style="color:#f92672">=</span><span style="color:#ae81ff">100000</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> times <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>):  
</span></span><span style="display:flex;"><span>    y <span style="color:#f92672">=</span> x[(x <span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>times <span style="color:#f92672">*</span> scale) <span style="color:#f92672">&amp;</span> (x <span style="color:#f92672">&lt;</span> times <span style="color:#f92672">*</span> scale)]  
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>times<span style="color:#e6db74">}</span><span style="color:#e6db74">倍的标准差:&#39;</span>)  
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;</span><span style="color:#e6db74">{</span>len(y) <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span> <span style="color:#f92672">/</span> len(x)<span style="color:#e6db74">}</span><span style="color:#e6db74">%&#39;</span>)  
</span></span></code></pre></div><pre><code>1倍的标准差:
68.206%
2倍的标准差:
95.354%
3倍的标准差:
99.711%
</code></pre>
<h3 id="205-重要结论">2.05, 重要结论</h3>
<p>根据中心极限定理和正态分布的特性, 如果总体标准差为
<span class="math align-center">$\sigma$</span>, 对总体进行一次抽样, 如果样本足够大, 则样品均值 
<span class="math align-center">$\bar{X}$</span>
服从正态分布, 该均值约有 95.4% 的概率会在 2 倍的标准误差 (
<span class="math align-center">$\mu - 2\sigma / \sqrt{n}, \mu + 2\sigma / \sqrt{n}$</span>) 范围内, 并且该样本均值约等于总体均值 
<span class="math align-center">$\mu$</span>. 从而, 可以利用这一结论, 对总体均值进行区间估计.</p>
<p><strong>结论验证:</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 随机生成总体均值, 其值未知  </span>
</span></span><span style="display:flex;"><span>mean <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">10000</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 总体的标准差已知为 50  </span>
</span></span><span style="display:flex;"><span>std <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义总体数据  </span>
</span></span><span style="display:flex;"><span>all_ <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>normal(mean, std, size<span style="color:#f92672">=</span><span style="color:#ae81ff">100000</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 从总体抽取 100 个元素构成样本  </span>
</span></span><span style="display:flex;"><span>sample <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>choice(all_, size<span style="color:#f92672">=</span><span style="color:#ae81ff">100</span>, replace<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算样本均值  </span>
</span></span><span style="display:flex;"><span>sample_mean <span style="color:#f92672">=</span> sample<span style="color:#f92672">.</span>mean()  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;样本均值:&#39;</span>, sample_mean)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算样本的标准误差  </span>
</span></span><span style="display:flex;"><span>se <span style="color:#f92672">=</span> std <span style="color:#f92672">/</span> np<span style="color:#f92672">.</span>sqrt(n)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算置信区间 95%置信度  </span>
</span></span><span style="display:flex;"><span>min_ <span style="color:#f92672">=</span> sample_mean <span style="color:#f92672">-</span> <span style="color:#ae81ff">1.96</span> <span style="color:#f92672">*</span> se  
</span></span><span style="display:flex;"><span>max_ <span style="color:#f92672">=</span> sample_mean <span style="color:#f92672">+</span> <span style="color:#ae81ff">1.96</span> <span style="color:#f92672">*</span> se  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;置信区间(95%置信度):&#39;</span>, (min_, max_))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 区间估计  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;总体均值有 95% 的概率在</span><span style="color:#e6db74">{</span>(min_, max_)<span style="color:#e6db74">}</span><span style="color:#e6db74">区间内&#39;</span>)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;总体均值:&#39;</span>, mean)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘图辅助  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(mean, <span style="color:#ae81ff">0</span>, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;*&#39;</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;orange&#39;</span>, ms<span style="color:#f92672">=</span><span style="color:#ae81ff">12</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;总体均值&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(sample_mean, <span style="color:#ae81ff">0</span>, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;o&#39;</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;样本均值&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>hlines(<span style="color:#ae81ff">0</span>, xmin<span style="color:#f92672">=</span>min_, xmax<span style="color:#f92672">=</span>max_, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;b&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;置信区间&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>axvline(min_, <span style="color:#ae81ff">0.4</span>, <span style="color:#ae81ff">0.6</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;--&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;左边界&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>axvline(max_, <span style="color:#ae81ff">0.4</span>, <span style="color:#ae81ff">0.6</span>, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>, ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;--&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;右边界&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><pre><code>样本均值: 9695.658932218576
置信区间(95%置信度): (9685.858932218576, 9705.458932218575)
总体均值有 95% 的概率在(9685.858932218576, 9705.458932218575)区间内
总体均值: 9696
</code></pre>
<p><img src="output_5_1.png" alt="png"></p>
<h2 id="3-假设检验">3, 假设检验</h2>
<p>假设检验(显著性检验), 先对总体做出假设, 然后通过判断样本与总体之间是否存在显著性差异, 来验证总体的假设</p>
<p>假设检验使用了一种类似于 “反证法” 的推理方法，它的特点是：</p>
<ul>
<li>
<p>先对总体做出两个完全相反的假设, 原假设(设为真) 和 备择假设, 计算后导致不合理现象产生，则拒绝原假设, 接受备择假设, 反之接受原假设, 放弃备择假设</p>
</li>
<li>
<p>这种 “反证法” 不同于一般的反证法. 所谓不合理现象产生，并非指形式逻辑上的绝对矛盾，而是基于小概率原理：概率很小的事件在一次试验中几乎是不可能发生的，若发生了，就是不合理的.</p>
</li>
<li>
<p>怎样才算 “小概率”, 通常可将概率不超过 0.05 的事件称为 “小概率事件” ，也可视具体情形而取 0.1 或 0.01 等. 在假设检验中常记这个概率为 α，称为显著性水平</p>
</li>
</ul>
<p>假设检验可分为正态分布检验, 正态总体均值检验, 非参数检验三类, 本文只介绍 <strong>正态总体均值检验</strong> , 包括 Z检验 和 t检验 两种情况</p>
<h3 id="301-关键概念">3.01, 关键概念:</h3>
<p>对总体参数做出两个完全对立的假设, 分别为:<br>
<strong>原假设(零假设) 
<span class="math align-center">$H_{0}$</span><br>
备择假设(对立假设) 
<span class="math align-center">$H_{1}$</span></strong></p>
<p><strong>双边假设检验</strong> :<br>

<span class="math align-center">$H_{0}: \mu=\mu_{0}, H_{1}: \mu \neq \mu_{0}$</span></p>
<p><strong>单边假设检验</strong> :<br>

<span class="math align-center">$H_{0}: \mu \geq \mu_{0}, H_{1}: \mu<\mu_{0}$</span> (<strong>左边检验</strong>)<br>

<span class="math align-center">$H_{0}: \mu \leq \mu_{0}, H_{1}: \mu>\mu_{0}$</span> ( <strong>右边检验</strong> )<br>

<span class="math align-center">$\mu$</span> 为总体均值, 
<span class="math align-center">$\mu_{0}$</span> 为假设均值</p>
<p><strong>显著性水平</strong> : 根据需要设定的小概率事件的概率 α (1 - α 为置信度)</p>
<p><strong>检验统计量</strong> (Z 和 t): 用来判断样本均值与总体均值是否存在显著性差异</p>
<p><strong>P值:</strong> 通过检验统计量计算而得的概率值, 表示原假设可被拒绝的最小值(或可支持原假设的概率):<br>
P ≤ α, 原假设可被拒绝的最小值比显著性水平还低, 原假设可被拒绝, 则拒绝原假设<br>
P &gt; α, 原假设可被拒绝的最小值大于显著性水平, 原假设不可被拒绝, 支持原假设</p>
<h3 id="302-假设检验的步骤">3.02, 假设检验的步骤</h3>
<p>设置原假设与备择假设<br>
设置显著性水平 α<br>
根据问题选择假设检验的方式<br>
计算统计量(Z 或 t)<br>
计算 P值(Z 或 t 围成的分布面积)<br>
根据 P值 与 α值, 决定接受原假设还是备择假设</p>
<p>例, 某车间用一台包装机包装葡萄糖. 袋装糖的净重是一个随机变量，它服从正态分布. 当机器正常时，其均值为 0.5kg，标准差为 0.015kg.
某日开工后为检验包装机是否正常，随机地抽取它所包装的糖 9 袋，称得净重为(kg):<br>
0.497, 0.506, 0.518, 0.524, 0.498, 0.511, 0.520, 0.515, 0.512<br>
判断下面说法是否正确:<br>
(1) 机器正常</p>
<p>例, 某车间用包装机包装葡萄糖. 袋装糖的净重是一个随机变量，它服从正态分布. 随机地抽取糖 9 袋，称得净重为(kg):<br>
0.497, 0.506, 0.518, 0.524, 0.498, 0.511, 0.520, 0.515, 0.512<br>
判断下面说法是否正确:<br>
(2) 该车间袋装糖净重均值为 0.5kg<br>
(3) 该车间袋装糖净重均值不少于 0.5kg<br>
(4) 该车间袋装糖净重均值不多于 0.5kg</p>
<h3 id="303-z检验">3.03, Z检验</h3>
<p>Z检验适用于: 总体正态分布且方差已知, 样本容量较大(一般 ≥ 30)</p>
<p>Z统计量计算公式:</p>

<span class="math align-center">$$Z=\frac{\bar{x}-\mu_{0}}{S_{\bar{x}}}=\frac{\bar{x}-\mu_{0}}{\sigma /
\sqrt{n}}$$</span><p>
<span class="math align-center">$\bar{x}$</span>: 样本均值<br>

<span class="math align-center">$\mu_{0}$</span>: 假设的总体均值<br>

<span class="math align-center">$S_{\bar{x}}$</span>: 样本的标准误差<br>

<span class="math align-center">$\sigma$</span>: 总体的标准差<br>

<span class="math align-center">$n$</span>: 样本容量</p>
<p>检验说法(1): 机器正常</p>
<p>双边检验:<br>
原假设机器正常: 
<span class="math align-center">$H_{0}: \mu=\mu_{0}=0.5kg$</span><br>
备择假设机器不正常: 
<span class="math align-center">$H_{1}: \mu \neq \mu_{0} \neq 0.5kg$</span><br>
设置显著性水平: α = 0.05</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> scipy <span style="color:#f92672">import</span> stats  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 样本已知  </span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0.497</span>, <span style="color:#ae81ff">0.506</span>, <span style="color:#ae81ff">0.518</span>, <span style="color:#ae81ff">0.524</span>, <span style="color:#ae81ff">0.498</span>, <span style="color:#ae81ff">0.511</span>, <span style="color:#ae81ff">0.520</span>, <span style="color:#ae81ff">0.515</span>, <span style="color:#ae81ff">0.512</span>])  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 总体均值和标准差已知  </span>
</span></span><span style="display:flex;"><span>mean, std <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>, <span style="color:#ae81ff">0.015</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算样本均值  </span>
</span></span><span style="display:flex;"><span>sample_mean <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>mean()  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算样本标准误差  </span>
</span></span><span style="display:flex;"><span>se <span style="color:#f92672">=</span> std <span style="color:#f92672">/</span> np<span style="color:#f92672">.</span>sqrt(len(a))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算 Z统计量  </span>
</span></span><span style="display:flex;"><span>Z <span style="color:#f92672">=</span> (sample_mean <span style="color:#f92672">-</span> mean) <span style="color:#f92672">/</span> se  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;Z统计量:&#39;</span>, Z)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算 P值, 双边检验: Z值与其右边曲线围成的面积的 2 倍  </span>
</span></span><span style="display:flex;"><span>P <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> stats<span style="color:#f92672">.</span>norm<span style="color:#f92672">.</span>sf(abs(Z))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;P值:&#39;</span> , P)  
</span></span></code></pre></div><pre><code>Z统计量: 2.244444444444471
P值: 0.02480381963225589
</code></pre>
<p><img src="mianji.png" alt=""></p>
<p>由结果可知, Z值 超过了 1.96, 由 Z值 与其右边曲线围成的面积的 2 倍, 必然小于 α(1.96 与其右边曲线围成的面积的 2 倍), 计算结果 P &lt; α, 因此拒绝原假设, 接受备择假设, 机器不正常</p>
<h3 id="304-t检验">3.04, t检验</h3>
<p>t检验适用于: 总体正态分布, 方差未知, 样本数量较少(一般 &lt; 30), 但是随着样本容量的增加, 分布逐渐趋于正态分布</p>
<p><img src="tzyd.png" alt=""></p>
<p>t统计量计算公式:</p>

<span class="math align-center">$$t=\frac{\bar{x}-\mu_{0}}{S_{\bar{x}}}=\frac{\bar{x}-\mu_{0}}{S / \sqrt{n}}$$</span><p>
<span class="math align-center">$\bar{x}$</span>: 样本均值<br>

<span class="math align-center">$\mu_{0}$</span>: 假设的总体均值<br>

<span class="math align-center">$S_{\bar{x}}$</span>: 样本的标准误差<br>

<span class="math align-center">$S$</span>: 样本的标准差<br>

<span class="math align-center">$n$</span>: 样本容量</p>
<p><strong>双边检验</strong> :<br>
检验说法(2): 该车间袋装糖净重均值为 0.5kg</p>
<p>原假设, 该车间袋装糖净重均值为 0.5kg: 
<span class="math align-center">$H_{0}: \mu=\mu_{0}=0.5kg$</span><br>
备择假设, 该车间袋装糖净重均值不为 0.5kg: 
<span class="math align-center">$H_{1}: \mu \neq \mu_{0} \neq 0.5kg$</span><br>
设置显著性水平: α = 0.05</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 样本已知  </span>
</span></span><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0.497</span>, <span style="color:#ae81ff">0.506</span>, <span style="color:#ae81ff">0.518</span>, <span style="color:#ae81ff">0.524</span>, <span style="color:#ae81ff">0.498</span>, <span style="color:#ae81ff">0.511</span>, <span style="color:#ae81ff">0.520</span>, <span style="color:#ae81ff">0.515</span>, <span style="color:#ae81ff">0.512</span>])  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 假设的总体均值已知  </span>
</span></span><span style="display:flex;"><span>mean <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.5</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算样本均值  </span>
</span></span><span style="display:flex;"><span>sample_mean <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>mean()  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算样本标准差  </span>
</span></span><span style="display:flex;"><span>std <span style="color:#f92672">=</span> a<span style="color:#f92672">.</span>std()  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算 t统计量  </span>
</span></span><span style="display:flex;"><span>t <span style="color:#f92672">=</span> (sample_mean <span style="color:#f92672">-</span> mean) <span style="color:#f92672">/</span> ( std <span style="color:#f92672">/</span> np<span style="color:#f92672">.</span>sqrt(len(a)))  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;t统计量:&#39;</span>, t)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算 P值, df 是自由度: 样本变量可自由取值的个数  </span>
</span></span><span style="display:flex;"><span>P <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> stats<span style="color:#f92672">.</span>t<span style="color:#f92672">.</span>sf(abs(t), df<span style="color:#f92672">=</span>len(a) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;P值:&#39;</span>, P)  
</span></span></code></pre></div><pre><code>t统计量: 3.802382179137283
P值: 0.005218925008708613
</code></pre>
<p>P &lt; α, 拒绝原假设, 接受备择假设: 该车间袋装糖净重均值不为 0.5kg</p>
<p>还可以通过 scipy 提供的方法 <code>ttest_1samp</code> 来进行 t检验计算:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> scipy <span style="color:#f92672">import</span> stats
</span></span><span style="display:flex;"><span>stats<span style="color:#f92672">.</span>ttest_1samp(a, <span style="color:#ae81ff">0.5</span>)  
</span></span></code></pre></div><pre><code>Ttest_1sampResult(statistic=3.584920298041139, pvalue=0.007137006417828698)
</code></pre>
<p><strong>左边检验</strong> :<br>
检验说法(3): 该车间袋装糖净重均值不少于 0.5kg</p>
<p>原假设, 该车间袋装糖净重均值不少于 0.5kg: 
<span class="math align-center">$H_{0}: \mu \geq \mu_{0}$</span><br>
备择假设, 该车间袋装糖净重均值少于 0.5kg: 
<span class="math align-center">$H_{1}: \mu<\mu_{0}$</span><br>
设置显著性水平: α = 0.05</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># t统计量上述已经计算, 只需计算 P值: t统计量与其左边曲线围成的面积  </span>
</span></span><span style="display:flex;"><span>P <span style="color:#f92672">=</span> stats<span style="color:#f92672">.</span>t<span style="color:#f92672">.</span>cdf(t, df<span style="color:#f92672">=</span>len(a) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;P值:&#39;</span>, P)  
</span></span></code></pre></div><pre><code>P值: 0.9973905374956458
</code></pre>
<p>P &gt; α, 接受原假设, 该车间袋装糖净重均值不少于 0.5kg</p>
<p><strong>右边检验</strong> :<br>
检验说法(4): 该车间袋装糖净重均值不多于 0.5kg</p>
<p>原假设, 该车间袋装糖净重均值不多于 0.5kg: 
<span class="math align-center">$H_{0}: \mu \leq \mu_{0}$</span><br>
备择假设, 该车间袋装糖净重均值多于 0.5kg: 
<span class="math align-center">$H_{1}: \mu>\mu_{0}$</span><br>
设置显著性水平: α = 0.05</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 计算 P值: t统计量与其右边曲线围成的面积  </span>
</span></span><span style="display:flex;"><span>P <span style="color:#f92672">=</span> stats<span style="color:#f92672">.</span>t<span style="color:#f92672">.</span>sf(t, df<span style="color:#f92672">=</span>len(a) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;P值:&#39;</span>, P)  
</span></span></code></pre></div><pre><code>P值: 0.0026094625043543065
</code></pre>
<p>P &lt; α, 拒绝原假设, 接受备择假设, 该车间袋装糖净重均值多于 0.5kg</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>线性回归</h1>

<h2 id="1-模型">1, 模型</h2>
<p>模型是指对于某个(类)实际问题的求解或客观事物运行规律进行抽象后的一种形式化表达方式, 可以理解为一个函数(一种映射规则)</p>
<p>任何模型都是由三个部分组成: 目标, 变量和关系.
建模时明确了模型的目标，才能进一步确定影响目标(因变量)的各关键变量(自变量)，进而确定变量之间的关系(函数关系)</p>
<p>通过大量数据检验(训练)模型, 将模型(函数)的各个参数求解, 当参数确定之后, 便可利用模型对未知数据进行求值, 预测</p>
<p>用于训练模型的样本数据中的每个属性称为特征, 用 x 表示, 样本中的每条数据经过模型计算得到的输出值称为标签(监督学习), 用 y 表示, 从而得到 y
= f(x) 的函数关系</p>
<h2 id="2-回归分析">2, 回归分析</h2>
<p>在统计学中, 回归分析指的是确定两种或两种以上变量间相互依赖的定量关系的一种统计分析方法</p>
<p>回归分析按照涉及的变量的多少，分为一元回归分析和多元回归分析；按照因变量的多少，可分为简单回归分析和多重回归分析；按照自变量和因变量之间的关系类型，可分为线性回归分析和非线性回归分析</p>
<p>回归分析解释自变量 x 发生改变, 因变量 y 会如何改变</p>
<p><strong>拟合</strong> , 插值 和 逼近 是数值分析的三大基础工具. 线性回归和非线性回归, 也叫线性拟合和非线性拟合,
拟合就是从整体上靠近已知点列，构造一种算法(模型或函数), 使得算法能够更加符合真实数据</p>
<h2 id="3-简单线性回归">3, 简单线性回归</h2>
<p>线性回归分析的自变量和因变量之间是线性关系, 只有一个自变量时称为 <strong>简单线性回归</strong> , 多个自变量时称为 <strong>多元线性回归</strong></p>
<p>简单线性回归方程:</p>

<span class="math align-center">$$\hat{y}=w * x+b$$</span><p>
<span class="math align-center">$\hat{y}$</span> 为因变量, x 为自变量, w 为比例关系, b 为截距, w 和 b 就是模型的参数. 例如房屋价格与房屋面积的正比例关系</p>
<h2 id="4-多元线性回归">4, 多元线性回归</h2>
<p>现实生活中自变量通常不止一个, 例如影响房屋价格的, 除了房屋面积, 还有交通, 地段, 新旧, 楼层等等因素.
不同的因素对房屋的价格影响力度(权重)不同, 因此使用多个因素来分析房屋的价格(各个因素与房屋价格近似线性关系), 可以得出多元线性回归方程:</p>

<span class="math align-center">$\hat{y}=w_{1} * x_{1}+w_{2} * x_{2}+w_{3} * x_{3}+\cdots+w_{n} * x_{n}+b$</span>
<p>
<span class="math align-center">$x$</span>: 影响因素, 特征<br>

<span class="math align-center">$w$</span>: 每个 x 的影响力度<br>

<span class="math align-center">$n$</span>: 特征个数<br>

<span class="math align-center">$\hat{y}$</span>: 房屋的预测价格</p>
<p>令:</p>

<span class="math align-center">$x_{0}=1, w_{0}=b$</span>
<p>设 
<span class="math align-center">$\vec{w}$</span> 和 
<span class="math align-center">$\vec{x}$</span> 为两个向量如下:</p>

<span class="math align-center">$$\vec{w}=\left(w_{0}, w_{1}, w_{2}, w_{3}, \ldots, w_{n}\right)^{T}$$  

$$\vec{x}=\left(x_{0}, x_{1}, x_{2}, x_{3}, \ldots, x_{n}\right)^{T}$$</span><p>则方程可表示为:</p>

<span class="math align-center">$$\begin{aligned}  
\hat{y} &=w_{0} * x_{0}+w_{1} * x_{1}+w_{2} * x_{2}+w_{3} * x_{3}+\ldots
\ldots+w_{n} * x_{n} \  
=\sum_{j=0}^{n} w_{j} * x_{j} \  
=\vec{w}^{T} \cdot \vec{x}  
\end{aligned}$$</span><p>接下来只需要计算出参数 
<span class="math align-center">$\vec{w}^{T}$</span>, 便可以建立模型</p>
<h2 id="5-损失函数">5, 损失函数</h2>
<p>损失函数, 用来衡量模型预测值与真实值之间的差异的函数, 也称目标函数或代价函数. 损失函数的值越小, 表示预测值与真实值之间的差异越小.</p>
<p>因此, 求解上述模型的参数 
<span class="math align-center">$\vec{w}^{T}$</span>, 就是要建立一个关于模型参数的损失函数(以模型参数 
<span class="math align-center">$\vec{w}^{T}$</span> 为自变量的函数),
然而 
<span class="math align-center">$\vec{w}^{T}$</span> 的取值组合是无限的, 目标就是通过机器学习, 求出一组最佳组合, 使得损失函数的值最小</p>
<p>在线性回归中, 使用平方损失函数(最小二乘法), 用 J(w) 表示:</p>

<span class="math align-center">$$\begin{array}{l}  
J(w)=\frac{1}{2} \sum_{i=1}^{m}\left(y^{(i)}-\hat{y}^{(i)}\right)^{2} \  
=\frac{1}{2} \sum_{i=1}^{m}\left(y^{(i)}-\vec{w}^{T} \vec{x}^{(i)}\right)^{2}  
\end{array}$$</span><p>m: 样本(训练集)数据的条数<br>

<span class="math align-center">$y^{(i)}$</span>: 样本第 i 条数据的真实值<br>

<span class="math align-center">$\hat{y}^{(i)}$</span>: 样本第 i 条数据的预测值<br>

<span class="math align-center">$\vec{x}^{(i)}$</span>: 样本第 i 条数据的特征</p>
<p>m, 
<span class="math align-center">$y^{(i)}$</span> 和 
<span class="math align-center">$\vec{x}^{(i)}$</span> 已知, 要使 J(w) 最小, 对 
<span class="math align-center">$\vec{w}^{T}$</span> 求导并令导数等于 0 ,
便可求得 
<span class="math align-center">$\vec{w}^{T}$</span>, 然后将样本(训练集)输入通过机器学习计算出具体的 
<span class="math align-center">$\vec{w}^{T}$</span></p>
<h2 id="6-回归模型评估">6, 回归模型评估</h2>
<p>建立模型之后, 模型的效果如何, 需要进行评估, 对于回归模型, 可用如下指标来衡量:</p>
<p><strong>MSE</strong> :<br>
平均平方误差, 所有样本数据误差的平方和取均值:</p>

<span class="math align-center">$$M S E=\frac{1}{m} \sum_{i=1}^{m}\left(y^{(i)}-\hat{y}^{(i)}\right)^{2}$$</span><p><strong>RMSE</strong> :<br>
平均平方误差的平方根:</p>

<span class="math align-center">$$R M S E=\sqrt{M S E}=\sqrt{\frac{1}{m}
\sum_{i=1}^{m}\left(y^{(i)}-\hat{y}^{(i)}\right)^{2}}$$</span><p><strong>MAE</strong> :<br>
平均绝对值误差, 所有样本数据误差的绝对值的和取均值:</p>

<span class="math align-center">$$M A E=\frac{1}{m} \sum_{i=1}^{m}\left|y^{(i)}-\hat{y}^{(i)}\right|$$</span><p>上述指标越小越好, 小到什么程度, 不同的对象建立的模型不一样</p>
<p><strong>R²</strong> :<br>
决定系数，反应因变量的全部变异能通过回归关系被自变量解释的比例. 如 R²=0.8，则表示回归关系可以解释因变量 80% 的变异.
换句话说，如果我们能控制自变量不变，则因变量的变异程度会减少 80%</p>
<p>在训练集中 R² 取值范围为 [0, 1], 在测试集(未知数据)中, R² 的取值范围为 [-∞, 1], R² 的值越大, 模型拟合越好</p>
<p>R² 的计算公式:</p>

<span class="math align-center">$$R^{2}=1-\frac{R S S}{T S
S}=1-\frac{\sum_{i=1}^{m}\left(y^{(i)}-\hat{y}^{(i)}\right)^{2}}{\sum_{i=1}^{m}\left(y^{(i)}-\bar{y}\right)^{2}}$$</span><p>
<span class="math align-center">$\bar{y}$</span>: 样本(测试集)的平均值</p>
<p>不管何种对象建立的模型, R² 都是越大模拟越好</p>
<p><strong>例一, 简单线性回归模型: 求鸢尾花花瓣长度和宽度的关系</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 导入用于线性回归的类  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.linear_model <span style="color:#f92672">import</span> LinearRegression  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 切分训练集与测试集的模块  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> train_test_split  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 鸢尾花数据集  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.datasets <span style="color:#f92672">import</span> load_iris  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置输出数据的精度为 2 (默认是8)  </span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>set_printoptions(precision<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获取花瓣长度 x, 宽度 y  </span>
</span></span><span style="display:flex;"><span>iris <span style="color:#f92672">=</span> load_iris()  
</span></span><span style="display:flex;"><span>x, y <span style="color:#f92672">=</span> iris<span style="color:#f92672">.</span>data[:, <span style="color:#ae81ff">2</span>]<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>), iris<span style="color:#f92672">.</span>data[:, <span style="color:#ae81ff">3</span>]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将数据拆分为训练集和测试集, 指定测试集占比 test_size  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 指定随机种子 random_state(可以任意值但必须确定), 锁定拆分行为  </span>
</span></span><span style="display:flex;"><span>x_train, x_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(  
</span></span><span style="display:flex;"><span>    x, y, test_size<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 使用训练集训练模型  </span>
</span></span><span style="display:flex;"><span>lr <span style="color:#f92672">=</span> LinearRegression()  
</span></span><span style="display:flex;"><span>lr<span style="color:#f92672">.</span>fit(x_train, y_train)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 求得模型参数  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;权重 w:&#39;</span>, lr<span style="color:#f92672">.</span>coef_, <span style="color:#e6db74">&#39;截距 b:&#39;</span>, lr<span style="color:#f92672">.</span>intercept_)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 调用模型进行预测  </span>
</span></span><span style="display:flex;"><span>y_hat <span style="color:#f92672">=</span> lr<span style="color:#f92672">.</span>predict(x_test)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 结果可视化  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.family&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;SimHei&#39;</span>  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;axes.unicode_minus&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.size&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(x_train, y_train, c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;orange&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;训练集&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(x_test, y_test, c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;D&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;测试集&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(x, lr<span style="color:#f92672">.</span>predict(x), <span style="color:#e6db74">&#39;r-&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;花瓣长度&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;花瓣宽度&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><pre><code>权重 w: [0.42] 截距 b: -0.370615595909495
</code></pre>
<p><img src="output_1_1.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 模型评估  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.metrics <span style="color:#f92672">import</span> mean_squared_error, mean_absolute_error, r2_score  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;MSE:&#39;</span>, mean_squared_error(y_test, y_hat))  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;RMSE:&#39;</span>, np<span style="color:#f92672">.</span>sqrt(mean_squared_error(y_test, y_hat)))  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;MAE:&#39;</span>, mean_absolute_error(y_test, y_hat))  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;训练集R²:&#39;</span>, r2_score(y_train, lr<span style="color:#f92672">.</span>predict(x_train))) <span style="color:#75715e"># 可换成 lr.score(x_train, y_train)  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;测试集R²:&#39;</span>, r2_score(y_test, y_hat)) <span style="color:#75715e"># 可换成 lr.score(x_test, y_test)  </span>
</span></span></code></pre></div><pre><code>MSE: 0.047866747643216113
RMSE: 0.21878470614559903
MAE: 0.1543808898175286
训练集R²: 0.9317841638431329
测试集R²: 0.9119955391492289
</code></pre>
<p><strong>列二, 多元线性回归模型: 波士顿房价预测</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.linear_model <span style="color:#f92672">import</span> LinearRegression  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> train_test_split  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.datasets <span style="color:#f92672">import</span> load_boston  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>boston <span style="color:#f92672">=</span> load_boston()  
</span></span><span style="display:flex;"><span>x, y <span style="color:#f92672">=</span> boston<span style="color:#f92672">.</span>data, boston<span style="color:#f92672">.</span>target  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>concatenate([x, y<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>),   
</span></span><span style="display:flex;"><span>                 columns<span style="color:#f92672">=</span>boston<span style="color:#f92672">.</span>feature_names<span style="color:#f92672">.</span>tolist() <span style="color:#f92672">+</span> [<span style="color:#e6db74">&#39;MEDV&#39;</span>])  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 部分数据  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>head(<span style="color:#ae81ff">3</span>)  
</span></span></code></pre></div><pre tabindex="0"><code>  CRIM	ZN	INDUS	CHAS	NOX	RM	AGE	DIS	RAD	TAX	PTRATIO	B	LSTAT	MEDV
0	0.00632	18.0	2.31	0.0	0.538	6.575	65.2	4.0900	1.0	296.0	15.3	396.90	4.98	24.0
1	0.02731	0.0	7.07	0.0	0.469	6.421	78.9	4.9671	2.0	242.0	17.8	396.90	9.14	21.6
2	0.02729	0.0	7.07	0.0	0.469	7.185	61.1	4.9671	2.0	242.0	17.8	392.83	4.03	34.7
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>x_train, x_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(  
</span></span><span style="display:flex;"><span>    x, y, test_size<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>)  
</span></span><span style="display:flex;"><span>lr <span style="color:#f92672">=</span> LinearRegression()  
</span></span><span style="display:flex;"><span>lr<span style="color:#f92672">.</span>fit(x_train, y_train)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;权重:&#39;</span>, lr<span style="color:#f92672">.</span>coef_)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;截距:&#39;</span>, lr<span style="color:#f92672">.</span>intercept_)  
</span></span><span style="display:flex;"><span>y_hat <span style="color:#f92672">=</span> lr<span style="color:#f92672">.</span>predict(x_test)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;训练集R²:&#39;</span>, lr<span style="color:#f92672">.</span>score(x_train, y_train))  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;测试集R²:&#39;</span>, lr<span style="color:#f92672">.</span>score(x_test, y_test))   
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 假如获取了一间房屋的数据, 预测其房价  </span>
</span></span><span style="display:flex;"><span>room_data <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0.00732</span>, <span style="color:#ae81ff">17.0</span>, <span style="color:#ae81ff">1.31</span>, <span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">0.638</span>, <span style="color:#ae81ff">7.575</span>, <span style="color:#ae81ff">62.2</span>, <span style="color:#ae81ff">5.0900</span>,  
</span></span><span style="display:flex;"><span>                      <span style="color:#ae81ff">1.0</span>, <span style="color:#ae81ff">296.0</span>, <span style="color:#ae81ff">15.3</span>, <span style="color:#ae81ff">396.90</span>, <span style="color:#ae81ff">4.98</span>])<span style="color:#f92672">.</span>reshape(<span style="color:#ae81ff">1</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>y_price <span style="color:#f92672">=</span> lr<span style="color:#f92672">.</span>predict(room_data)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;房屋价格:&#39;</span>, y_price)  
</span></span></code></pre></div><pre><code>权重: [-1.53e-01  4.79e-02 -8.60e-03  2.58e+00 -1.46e+01  3.96e+00 -7.92e-03
 -1.46e+00  3.45e-01 -1.25e-02 -9.19e-01  1.32e-02 -5.17e-01]
截距: 32.214120389743606
训练集R²: 0.7468034208269784
测试集R²: 0.7059096071098042
房屋价格: [33.62]
</code></pre>
<p>多元线性回归在空间中, 可表示为一个超平面去拟合空间中的数据点</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>逻辑回归</h1>

<p>逻辑回归和线性回归有类似之处, 都是利用线性加权计算的模型, 但逻辑回归是分类算法, 例如对是否患癌症进行预测, 因变量就是 <strong>是</strong> 和 <strong>否</strong> ,
两个类别, 自变量可以是年龄, 性别, 饮食, 作息, 病菌感染等, 自变量既可以是数值变量, 也可以是类别变量</p>
<h2 id="1-逻辑回归二分类推导">1, 逻辑回归二分类推导</h2>
<p>和线性回归类似, 设自变量为 x, 每个自变量的权重为 w, 令:</p>

<span class="math align-center">$$\begin{array}{l}  
z=w_{1} x_{1}+w_{2} x_{2}+\cdots+w_{n} x_{n}+b \  
=\sum_{j=1}^{n} w_{j} x_{j}+b \  
=\sum_{j=0}^{n} w_{j} x_{j} \  
=\vec{w}^{T} \cdot \vec{x}  
\end{array}$$</span><p>z 是一个连续值, 取值范围(-∞, +∞), 为了实现分类, 一般设置阈值 z = 0, 当 z &gt; 0 时, 将样本判定为一个类别(正例), 该类别设为
1, 当 z ≤ 0 时, 判定为另一个类别(负例), 该类别设为 0, 再设因变量为 y, 从而逻辑回归方程可表示为:</p>

<span class="math align-center">$y=1, z>0$</span>

<span class="math align-center">$y=0, z \leq 0$</span>
<p>上述方程虽然实现了分类, 但提供的信息有限, 因此引入 <strong>sigmoid函数</strong> (也叫 Logistic函数), 将 z 映射到 (0, 1)
区间，可以实现二分类的同时, 还能体现将样本分为某个类的可能性, 这个可能性设为 p:</p>

<span class="math align-center">$$p=\operatorname{sigmoid}(z)=\frac{1}{1+e^{-z}}$$</span><p>sigmoid 函数图像如下:</p>
<p><img src="sigmoid.png" alt=""></p>
<p>于是, 逻辑回归方程又可表示为:</p>

<span class="math align-center">$y=1, p>0.5$</span>

<span class="math align-center">$y=0, 1-p \geq 0.5$</span>
<p>从而可见, 通过比较 p 和 1-p 哪个更大(z 的阈值不取 0 时做出调整即可), 预测结果就是对应的一类</p>
<h2 id="2-逻辑回归的损失函数">2, 逻辑回归的损失函数</h2>
<p>通过上述推导过程可知, 要得到逻辑回归模型, 最终就是要求得参数 
<span class="math align-center">$\vec{w}^{T}$</span>, 于是将 p 和 1-p 统一, 构造一个损失函数来求

<span class="math align-center">$\vec{w}^{T}$</span>:</p>

<span class="math align-center">$$p(y=1 | x ; w)=s(z)$$</span>
<span class="math align-center">$$p(y=0 | x ; w)=1-s(z)$$</span><p>合并:</p>

<span class="math align-center">$$p(y | x ; w)=s(z)^{y}(1-s(z))^{1-y}$$</span><p>上式表示一个样本的概率, 我们要求解能够使所有样本联合概率密度最大的 
<span class="math align-center">$\vec{w}^{T}$</span> 值, 根据极大似然估计,
所有样本的联合概率密度函数(似然函数)为:</p>

<span class="math align-center">$$\begin{array}{l}  
L(w)=\prod_{i=1}^{m} p\left(y^{(i)} | x^{(i)} ; w\right) \  
=\prod_{i=1}^{m}
s\left(z^{(i)}\right)^{y^{(i)}}\left(1-s\left(z^{(i)}\right)\right)^{1-y^{(i)}}  
\end{array}$$</span><p>取对数, 让累积乘积变累积求和:</p>

<span class="math align-center">$$\begin{array}{l}  
\ln L(w)=\ln \left(\prod_{i=1}^{m}
s\left(z^{(i)}\right)^{y^{(i)}}\left(1-s\left(z^{(i)}\right)^{1-y^{(i)}}\right)\right)
\  
=\sum_{i=1}^{m}\left(y^{(i)} \ln s\left(z^{(i)}\right)+\left(1-y^{(i)}\right)
\ln \left(1-s\left(z^{(i)}\right)\right)\right)  
\end{array}$$</span><p>要求上式最大值, 取反变成求最小值, 就作为逻辑回归的损失函数(交叉熵损失函数):</p>

<span class="math align-center">$$J(w)=-\sum_{i=1}^{m}\left(y^{(i)} \ln
s\left(z^{(i)}\right)+\left(1-y^{(i)}\right) \ln
\left(1-s\left(z^{(i)}\right)\right)\right)$$</span><p>利用梯度下降法最终求得 
<span class="math align-center">$\vec{w}^{T}$</span> (省略)</p>
<p>例, 对鸢尾花实现二分类并分析:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.linear_model <span style="color:#f92672">import</span> LogisticRegression  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> train_test_split  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.datasets <span style="color:#f92672">import</span> load_iris  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> warnings  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>warnings<span style="color:#f92672">.</span>filterwarnings(<span style="color:#e6db74">&#39;ignore&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>iris <span style="color:#f92672">=</span> load_iris()  
</span></span><span style="display:flex;"><span>x, y <span style="color:#f92672">=</span> iris<span style="color:#f92672">.</span>data, iris<span style="color:#f92672">.</span>target  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 鸢尾花数据集有 3 个类别, 4 个特性, 取两个类别, 两个特性  </span>
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> x[y<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>:]  
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> y[y<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 拆分训练集与测试集  </span>
</span></span><span style="display:flex;"><span>x_train, x_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(x, y,  
</span></span><span style="display:flex;"><span>        test_size<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 训练分类模型  </span>
</span></span><span style="display:flex;"><span>lr <span style="color:#f92672">=</span> LogisticRegression()  
</span></span><span style="display:flex;"><span>lr<span style="color:#f92672">.</span>fit(x_train, y_train)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 测试  </span>
</span></span><span style="display:flex;"><span>y_hat <span style="color:#f92672">=</span> lr<span style="color:#f92672">.</span>predict(x_test)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;权重:&#39;</span>, lr<span style="color:#f92672">.</span>coef_)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;偏置:&#39;</span>, lr<span style="color:#f92672">.</span>intercept_)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;真实值:&#39;</span>, y_test)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;预测值:&#39;</span>, y_hat)  
</span></span></code></pre></div><pre><code>权重: [[2.54536368 2.15257324]]
偏置: [-16.08741502]
真实值: [2 1 2 1 1 1 1 1 1 1 2 2 2 1 1 1 1 1 2 2 1 1 2 1 2]
预测值: [2 1 1 1 1 1 1 2 1 1 2 2 2 1 1 1 1 1 2 2 1 1 2 1 2]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 样本的真实类别可视化  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.family&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;SimHei&#39;</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 取出两种鸢尾花的特征  </span>
</span></span><span style="display:flex;"><span>c1 <span style="color:#f92672">=</span> x[y<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>]  
</span></span><span style="display:flex;"><span>c2 <span style="color:#f92672">=</span> x[y<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘制样本分布  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(x<span style="color:#f92672">=</span>c1[:, <span style="color:#ae81ff">0</span>], y<span style="color:#f92672">=</span>c1[:, <span style="color:#ae81ff">1</span>], c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;类别1&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(x<span style="color:#f92672">=</span>c2[:, <span style="color:#ae81ff">0</span>], y<span style="color:#f92672">=</span>c2[:, <span style="color:#ae81ff">1</span>], c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;类别2&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;花瓣长度&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;花瓣宽度&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">&#39;鸢尾花样本分布&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_3_0.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将预测类别和真实类别可视化对比  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2.2</span>))  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(y_test, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;o&#39;</span>, ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>, ms<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>, c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;真实类别&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(y_hat, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;x&#39;</span>, ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>, ms<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>, c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;预测类别&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;样本序号&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;类别&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">&#39;预测结果&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_5_0.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 因预测样本所属类别时, 通过比较概率得到结果,   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 我们可将结果对应的概率可视化  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获取预测的概率值  </span>
</span></span><span style="display:flex;"><span>probability <span style="color:#f92672">=</span> lr<span style="color:#f92672">.</span>predict_proba(x_test)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;概率:&#39;</span>, probability[:<span style="color:#ae81ff">5</span>], sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>index <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(len(x_test))  
</span></span><span style="display:flex;"><span>pro_0 <span style="color:#f92672">=</span> probability[:, <span style="color:#ae81ff">0</span>]  
</span></span><span style="display:flex;"><span>pro_1 <span style="color:#f92672">=</span> probability[:, <span style="color:#ae81ff">1</span>]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置预测结果标签, 对和错  </span>
</span></span><span style="display:flex;"><span>tick_label <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>where(y_test<span style="color:#f92672">==</span>y_hat, <span style="color:#e6db74">&#39;对&#39;</span>, <span style="color:#e6db74">&#39;错&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘制堆叠图  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>bar(index, height<span style="color:#f92672">=</span>pro_0, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;类别1的概率&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>bar(index, height<span style="color:#f92672">=</span>pro_1, color<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, bottom<span style="color:#f92672">=</span>pro_0,  
</span></span><span style="display:flex;"><span>        label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;类别2的概率&#39;</span>, tick_label<span style="color:#f92672">=</span>tick_label)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;预测结果&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;各类别的概率&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">&#39;分类概率&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show() 
</span></span></code></pre></div><pre><code>概率:
[[0.46933862 0.53066138]
 [0.98282882 0.01717118]
 [0.72589695 0.27410305]
 [0.91245661 0.08754339]
 [0.80288412 0.19711588]]
</code></pre>
<p><img src="output_7_1.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 绘制决策边界  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 决策边界: 不同类别的分界线  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> matplotlib.colors <span style="color:#f92672">import</span> ListedColormap  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义绘制函数  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">plot_decision_boundary</span>(model, x, y):  
</span></span><span style="display:flex;"><span>    color <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;r&#39;</span>, <span style="color:#e6db74">&#39;g&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>]  
</span></span><span style="display:flex;"><span>    marker <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;o&#39;</span>, <span style="color:#e6db74">&#39;v&#39;</span>, <span style="color:#e6db74">&#39;x&#39;</span>]  
</span></span><span style="display:flex;"><span>    class_label <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>unique(y)  
</span></span><span style="display:flex;"><span>    cmap <span style="color:#f92672">=</span> ListedColormap(color[:len(class_label)])  
</span></span><span style="display:flex;"><span>    x1_min, x2_min <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>min(x, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>    x1_max, x2_max <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>max(x, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>    x1 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(x1_min <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, x1_max <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0.02</span>)  
</span></span><span style="display:flex;"><span>    x2 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>arange(x2_min <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>, x2_max <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0.02</span>)  
</span></span><span style="display:flex;"><span>    x1, x2 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>meshgrid(x1, x2)  
</span></span><span style="display:flex;"><span>    z <span style="color:#f92672">=</span> model<span style="color:#f92672">.</span>predict(np<span style="color:#f92672">.</span>array([x1<span style="color:#f92672">.</span>ravel(), x2<span style="color:#f92672">.</span>ravel()])<span style="color:#f92672">.</span>T)<span style="color:#f92672">.</span>reshape(x1<span style="color:#f92672">.</span>shape)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>contourf(x1, x2, z, cmap<span style="color:#f92672">=</span>cmap, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i, class_ <span style="color:#f92672">in</span> enumerate(class_label):  
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>scatter(x<span style="color:#f92672">=</span>x[y<span style="color:#f92672">==</span>class_, <span style="color:#ae81ff">0</span>], y<span style="color:#f92672">=</span>x[y<span style="color:#f92672">==</span>class_, <span style="color:#ae81ff">1</span>],  
</span></span><span style="display:flex;"><span>                c<span style="color:#f92672">=</span>cmap<span style="color:#f92672">.</span>colors[i], label<span style="color:#f92672">=</span>class_, marker<span style="color:#f92672">=</span>marker[i])  
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘制模型在训练集上的决策边界  </span>
</span></span><span style="display:flex;"><span>plot_decision_boundary(lr, x_train, y_train)  
</span></span></code></pre></div><p><img src="output_8_0.png" alt="png"></p>
<p><strong>拓展</strong> :<br>
逻辑回归实现多分类</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>iris <span style="color:#f92672">=</span> load_iris()  
</span></span><span style="display:flex;"><span>x, y <span style="color:#f92672">=</span> iris<span style="color:#f92672">.</span>data, iris<span style="color:#f92672">.</span>target  
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> x[:, <span style="color:#ae81ff">2</span>:]  
</span></span><span style="display:flex;"><span>x_train, x_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(x, y,   
</span></span><span style="display:flex;"><span>        test_size<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)  
</span></span><span style="display:flex;"><span>lr <span style="color:#f92672">=</span> LogisticRegression()  
</span></span><span style="display:flex;"><span>lr<span style="color:#f92672">.</span>fit(x_train, y_train)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 测试分类  </span>
</span></span><span style="display:flex;"><span>y_hat <span style="color:#f92672">=</span> lr<span style="color:#f92672">.</span>predict(x_test)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 可视化结果  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;axes.unicode_minus&#39;</span>]<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>  
</span></span><span style="display:flex;"><span>plot_decision_boundary(lr, x_test, y_test)  
</span></span></code></pre></div><p><img src="output_10_0.png" alt="png"></p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>分类模型评估</h1>

<p>在完成模型训练之后，需要对模型的效果进行评估，根据评估结果继续调整模型的参数, 特征或者算法，以达到满意的结果</p>
<h2 id="1-混淆矩阵">1, 混淆矩阵</h2>
<p>将 真正例(TP), 假正例(FP), 真负例(TN), 假负例(FN) 统计于一个方阵中, 观察比较, 评价模型好坏, 矩阵如下:</p>
<p><img src="hxjz.png" alt=""></p>
<p>混淆矩阵统计数量, 评价不直观也有限, 基于混淆矩阵又延伸出 正确率, 精准率, 召回率, F1(调和平均值), ROC曲线和AUC等</p>
<h2 id="2-评估指标分析">2, 评估指标分析</h2>
<p><strong>正确率:</strong></p>

<span class="math align-center">$$\text { 正确率 }=\frac{T P+T N}{T P+T N+F P+F N}$$</span><p>正确率, 表示总体(包括正负)预测正确的比率, 在模型对正例和负例的预测准确度差异较大时, 难以评价模型的好坏, 例如正例较多, 负例较少,
正例全部预测对了, 负例只预测对几个, 正确率却可能较高</p>
<p><strong>精准率:</strong></p>

<span class="math align-center">$$\text { 精准率 }=\frac{T P}{T P+F P}$$</span><p>精准率, 表示所有预测为正例的结果中 预测正确的正例 的占比, 精准率越高, 说明正例预测正确概率越高, 因此精准率更关注”一击必中”,
比如通过预测找出上涨的概率很高的一支股票</p>
<p><strong>召回率:</strong></p>

<span class="math align-center">$$\text { 召回率 }=\frac{T P}{T P+F N}$$</span><p>召回率, 表示所有真实的正例中, 预测正确的正例 的占比, 召回率越高, 说明正例被”召回”的越多, 因此召回率更关注”宁错一千, 不放一个”,
例如通过预测尽可能将新冠肺炎患者全部隔离观察</p>
<p><strong>调和平均值 F1</strong> :</p>

<span class="math align-center">$$F 1=\frac{2 * \text {精准率} * \text {召回率}}{\text {精准率}+\text {召回率}}$$</span><p>F1 将综合了精准率和召回率, F1越高, 说明模型预测效果越好, F1 能够直接评估模型的好坏</p>
<p><strong>ROC曲线:</strong></p>
<p>ROC (Receiver Operating Characteristic) 曲线, 用图像来描述分类模型的性能好坏. 图像纵轴为 真 正例率(TPR),
横轴为 假 正例率(FPR):</p>

<span class="math align-center">$$\begin{array}{l}  
T P R=\text { 召回率 }=\frac{T P}{T P+F N} \  
F P R=\frac{F P}{F P+T N}  
\end{array}$$</span><p>上述两式通过取分类模型的不同阈值, 从而计算出不同的值, 绘制出曲线, 曲线必过 (0,0) 和 (1, 1) 两个点, TPR 增长得越快,
曲线越往上凸, 模型的分类性能就越好. 如果 ROC 曲线为对角线, 可将模型理解为随机猜测; 如果 ROC 曲线在 0 点 真 正例率就达到了 1,
此时模型最完美</p>
<p><strong>AUC:</strong></p>
<p>AUC (Area Under the Curve), 是 ROC 曲线下面的面积, 因为有时通过 ROC 曲线看不出哪个分类模型性能好, 而 AUC
比较数值就不存在这样的问题</p>
<p>以鸢尾花数据集做如下练习:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.datasets <span style="color:#f92672">import</span> load_iris  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.linear_model <span style="color:#f92672">import</span> LogisticRegression   
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> train_test_split  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.metrics <span style="color:#f92672">import</span> confusion_matrix  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> warnings  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#34;font.family&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;SimHei&#34;</span>  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#34;axes.unicode_minus&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>   
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#34;font.size&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>   
</span></span><span style="display:flex;"><span>warnings<span style="color:#f92672">.</span>filterwarnings(<span style="color:#e6db74">&#34;ignore&#34;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>iris <span style="color:#f92672">=</span> load_iris()  
</span></span><span style="display:flex;"><span>x, y <span style="color:#f92672">=</span> iris<span style="color:#f92672">.</span>data, iris<span style="color:#f92672">.</span>target  
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> x[y<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>:]  
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> y[y<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>]  
</span></span><span style="display:flex;"><span>x_train, x_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(x, y,  
</span></span><span style="display:flex;"><span>                        test_size<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)  
</span></span><span style="display:flex;"><span>lr <span style="color:#f92672">=</span> LogisticRegression()  
</span></span><span style="display:flex;"><span>lr<span style="color:#f92672">.</span>fit(x_train, y_train)  
</span></span><span style="display:flex;"><span>y_hat <span style="color:#f92672">=</span> lr<span style="color:#f92672">.</span>predict(x_test)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 传入真实值与预测值, 创建混淆矩阵  </span>
</span></span><span style="display:flex;"><span>matrix <span style="color:#f92672">=</span> confusion_matrix(y_true<span style="color:#f92672">=</span>y_test, y_pred<span style="color:#f92672">=</span>y_hat)  
</span></span><span style="display:flex;"><span>print(matrix)  
</span></span><span style="display:flex;"><span>y_hat[y_hat<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>sum()  
</span></span></code></pre></div><pre><code>[[15  1]
 [ 1  8]]





16
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将混淆矩阵可视化  </span>
</span></span><span style="display:flex;"><span>mat <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>matshow(matrix, cmap<span style="color:#f92672">=</span>plt<span style="color:#f92672">.</span>cm<span style="color:#f92672">.</span>Blues, alpha<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>)  
</span></span><span style="display:flex;"><span>label <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#34;负例&#34;</span>, <span style="color:#e6db74">&#34;正例&#34;</span>]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获取当前的绘图对象  </span>
</span></span><span style="display:flex;"><span>ax <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>gca()  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置属性, 设类别 1 为负例  </span>
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>set(  
</span></span><span style="display:flex;"><span>    xticks<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>arange(matrix<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">1</span>]),   
</span></span><span style="display:flex;"><span>    yticks<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>arange(matrix<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>]),  
</span></span><span style="display:flex;"><span>    xticklabels<span style="color:#f92672">=</span>label,   
</span></span><span style="display:flex;"><span>    yticklabels<span style="color:#f92672">=</span>label,   
</span></span><span style="display:flex;"><span>    title<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;混淆矩阵可视化</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,   
</span></span><span style="display:flex;"><span>    ylabel<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;真实值&#34;</span>,   
</span></span><span style="display:flex;"><span>    xlabel<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;预测值&#34;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置统计值的位置  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(matrix<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>]):  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(matrix<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">1</span>]):  
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>text(x<span style="color:#f92672">=</span>j, y<span style="color:#f92672">=</span>i, s<span style="color:#f92672">=</span>matrix[i, j], va<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;center&#34;</span>, ha<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;center&#34;</span>)   
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_2_0.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 计算各个评估指标  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.metrics <span style="color:#f92672">import</span> accuracy_score, precision_score, recall_score, f1_score  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;正确率：&#34;</span>, accuracy_score(y_test, y_hat))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 默认以 1 为正例, 我们将 2 设为正例  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;精准率：&#34;</span>, precision_score(y_test, y_hat, pos_label<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;召回率：&#34;</span>, recall_score(y_test, y_hat, pos_label<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;F1：&#34;</span>, f1_score(y_test, y_hat, pos_label<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 也可以用逻辑回归模型对象的score方法计算正确率   </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;score方法计算正确率：&#34;</span>, lr<span style="color:#f92672">.</span>score(x_test, y_test))  
</span></span></code></pre></div><pre><code>正确率： 0.92
精准率： 0.8888888888888888
召回率： 0.8888888888888888
F1： 0.8888888888888888
score方法计算正确率： 0.92
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 还可以用 classification_report 方法直接计算各个指标  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.metrics <span style="color:#f92672">import</span> classification_report  
</span></span><span style="display:flex;"><span>print(classification_report(y_true<span style="color:#f92672">=</span>y_test, y_pred<span style="color:#f92672">=</span>y_hat))  
</span></span></code></pre></div><pre><code>              precision    recall  f1-score   support

           1       0.94      0.94      0.94        16
           2       0.89      0.89      0.89         9

    accuracy                           0.92        25
   macro avg       0.91      0.91      0.91        25
weighted avg       0.92      0.92      0.92        25
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 绘制 ROC曲线 和计算 AUC  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.metrics <span style="color:#f92672">import</span> roc_curve, auc, roc_auc_score  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>iris <span style="color:#f92672">=</span> load_iris()  
</span></span><span style="display:flex;"><span>x, y <span style="color:#f92672">=</span> iris<span style="color:#f92672">.</span>data, iris<span style="color:#f92672">.</span>target  
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> x[y<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>:]  
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> y[y<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>]  
</span></span><span style="display:flex;"><span>x_train, x_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(x, y,  
</span></span><span style="display:flex;"><span>                            test_size<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置模型参数(有默认值可以不设), 并进行训练  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 不同的参数训练结果不一样, 需要注意参数之间关系  </span>
</span></span><span style="display:flex;"><span>lr <span style="color:#f92672">=</span> LogisticRegression(multi_class<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ovr&#34;</span>, solver<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;liblinear&#34;</span>)  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># lr = LogisticRegression(multi_class=&#34;multinomial&#34;)  </span>
</span></span><span style="display:flex;"><span>lr<span style="color:#f92672">.</span>fit(x_train, y_train)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 获取样本的概率  </span>
</span></span><span style="display:flex;"><span>probo <span style="color:#f92672">=</span> lr<span style="color:#f92672">.</span>predict_proba(x_test)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;类别 2 的概率:&#39;</span>, probo[:, <span style="color:#ae81ff">1</span>][:<span style="color:#ae81ff">5</span>])  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 将概率值传入 roc_curve 方法, 从概率中选择若干个值作为阈值  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 同时根据阈值判定正负例, 返回 fpr, tpr 和 阈值 thresholds  </span>
</span></span><span style="display:flex;"><span>fpr, tpr, thresholds <span style="color:#f92672">=</span> roc_curve(y_true<span style="color:#f92672">=</span>y_test,  
</span></span><span style="display:flex;"><span>                       y_score<span style="color:#f92672">=</span>probo[:, <span style="color:#ae81ff">1</span>], pos_label<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 阈值中的第一个值是第二个值 +1 得到, 为了让让曲线过 0 点  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;阈值:&#39;</span>, thresholds)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 计算 AUC   </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;用auc计算:&#39;</span>, auc(fpr, tpr))  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;用roc_auc_score计算:&#39;</span>, roc_auc_score(y_true<span style="color:#f92672">=</span>y_test,  
</span></span><span style="display:flex;"><span>                                    y_score<span style="color:#f92672">=</span>probo[:, <span style="color:#ae81ff">1</span>]))  
</span></span></code></pre></div><pre><code>类别 2 的概率: [0.4663913  0.28570842 0.60050037 0.3758227  0.48450719]
阈值: [1.69092453 0.69092453 0.60050037 0.54308778 0.50384451 0.49358343
 0.48450719 0.47242245 0.4663913  0.42043757 0.39590375 0.39413886
 0.3843811  0.24698327]
用auc计算: 0.8819444444444444
用roc_auc_score计算: 0.8819444444444444
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 绘制 ROC 曲线  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(fpr, tpr, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;o&#34;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ROC曲线&#34;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot([<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>], [<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>], lw<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--&#34;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;随机猜测&#34;</span>)   
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>], [<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>], lw<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-.&#34;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;完美预测&#34;</span>)   
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlim(<span style="color:#f92672">-</span><span style="color:#ae81ff">0.01</span>, <span style="color:#ae81ff">1.02</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylim(<span style="color:#f92672">-</span><span style="color:#ae81ff">0.01</span>, <span style="color:#ae81ff">1.02</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xticks(np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1.1</span>, <span style="color:#ae81ff">0.2</span>))  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>yticks(np<span style="color:#f92672">.</span>arange(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1.1</span>, <span style="color:#ae81ff">0.2</span>))  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#34;FPR&#34;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;TPR&#34;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>grid()  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;ROC曲线, AUC值为:</span><span style="color:#e6db74">{</span>auc(fpr, tpr)<span style="color:#e6db74">:</span><span style="color:#e6db74">.2f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_6_0.png" alt="png"></p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>KNN 算法</h1>

<h2 id="1-关于-knn">1, 关于 KNN</h2>
<p>KNN (K-Nearest Neighbor), 即 K 近邻算法, K 个最近的邻居. 当需要预测一个未知样本的时候, 就由与该样本最近的 K
个邻居来决定</p>
<p>KNN 既可以用于分类, 也可用于回归. 用来分类时, 使用 K 个邻居中, 类别数量最多(或加权最多)者, 作为预测结果; 当用来回归分析时, 使用 K
个邻居的均值(或加权均值), 作为预测结果</p>
<p>KNN 算法的原理是: 样本映射到多维空间时, 相似度较高的样本, 距离也会较接近, “近朱者赤近墨者黑”</p>
<h2 id="2-k-值">2, K 值</h2>
<p>KNN 算法的 K 值是一个模型训练前就要人为指定的参数 <strong>超参数</strong> , 不同于模型内部通过训练数据计算得到的参数. KNN 的超参数, 需要通常通过
<strong>交叉验证</strong> 的方式来选择最合适的参数组合</p>
<p>K 值的选择非常重要, K 值较小时, 模型预测依赖附近的邻居, 敏感性高, 稳定性低, 容易导致过拟合; 反之, K 值较大, 敏感性低, 稳定性高,
容易欠拟合</p>
<p>K 值在数据量小时, 可以通过遍历所有样本(穷举)的方式找出最近的 K 个邻居, 当数据量庞大时, 穷举耗费大量时间, 此时可以采用 <strong>KD树</strong> 来找
K 个邻居</p>
<h2 id="3-交叉验证">3, 交叉验证</h2>
<p>KNN 的网格搜索交叉验证: 取不同的 K, 选择不同的距离或权重计算方式等, 将数据分为多个组, 一个组作为测试集, 其他部分作为训练集,
不断循环训练和测试, 对模型进行循环验证, 找出最佳参数组合</p>
<h2 id="4-距离的度量方式">4, 距离的度量方式</h2>
<p><strong>闵可夫斯基距离:</strong></p>
<p>设 n 维空间中两个点位 X 和 Y:</p>

<span class="math align-center">$X=\left(x_{1}, x_{2}, \ldots \ldots, x_{n}\right)$</span>

<span class="math align-center">$Y=\left(y_{1}, y_{2}, \ldots \ldots, y_{n}\right)$</span>
<p>则阁可夫斯基距离为:</p>

<span class="math align-center">$D(X, Y)=\left(\sum_{i=1}^{n}\left|x_{i}-y_{i}\right|^{p}\right)^{1 / p}$</span>
<p>当 p 为 1 时, 又称 <strong>曼哈顿距离</strong> ; 当 p 为 2 时, 称 <strong>欧几里得距离</strong></p>
<h2 id="5-权重">5, 权重</h2>
<p><strong>统一权重:</strong> K 个邻居权重相同, 不管近远都是 1/K</p>
<p><strong>距离加权权重:</strong> K 个邻居的权重, 与他们各自和待测样本的距离成反比, 同时要保证权重之和为 1. 例如 3 个邻居 a, b, c
距离待测样本的距离分别为 a, b 和 c, 则 a 的权重为:</p>

<span class="math align-center">$$\frac{\frac{1}{a}}{\frac{1}{a}+\frac{1}{b}+\frac{1}{c}}=\frac{b c}{b c+a c+a
b}$$</span><p>b 和 c 同理</p>
<h2 id="6-数据标准化">6, 数据标准化</h2>
<p>样本中的特征通常非常多，由于各特征的性质不同，通常具有不同的量纲(数量级).
当各特征间的量纲相差很大时，如果直接用原始特征值进行分析，就会突出数值较高的特征在综合分析中的作用，相对削弱数值较低特征的作用, 因此需要通过数据标准化,
将量纲统一, 才能客观地描述各个特征对模型的影响程度</p>
<p>线性回归和逻辑回归, 都是通过每个特征与其权重的乘积相加来进行计算, 不进行数据标准化(不考虑正则化), 对每个特征的权重影响较大, 但对结果不会造成影响,
而 KNN 是基于距离计算的, 如果特征的量纲不同, 量纲较大的特征会占据主导地位, 导致忽略量纲较小的特征, 从而对模型性能造成较大影响</p>
<h2 id="7-算法实现步骤">7, 算法实现步骤</h2>
<p>a, 确定超参数<br>
确定 K<br>
确定距离度量方式<br>
确定权重计算方式<br>
其他超参数</p>
<p>b, 从训练集中选择距离待测样本最近的 K 个样本</p>
<p>c, 根据 K 个样本对待测样本进行预测, 如果遇到多个样本距离相同的情况, 默认选取训练集中靠前的</p>
<h2 id="8-流水线-pipline">8, 流水线 Pipline</h2>
<p>流水线可以将每个评估器视为一个步骤, 然后将多个步骤作为整体依次执行. 例如数据处理工作较多时, 可能涉及更多步骤, 例如多项式扩展, One-Hot
编码, 特征选择, 数据标准化, 交叉验证等, 分别执行过于繁琐, 我们可以将数据处理与模型训练各个步骤作为一个整体来执行</p>
<p>流水线具有最后一个评估器的所有方法:</p>
<p>a, 当流水线对象调用 fit 方法时, 会从第一个评估器依次调用 fit_transform 方法, 然后到最后一个评估器调用 fit 方法</p>
<p>b, 当流水线对象调用 <em>其他</em> 方法时, 会从第一个评估器依次调用 transform 方法, 然后到最后一个评估器调用 <em>其他</em> 方法</p>
<h2 id="9-以鸢尾花为例-对逻辑回归和-knn-进行比较">9, 以鸢尾花为例, 对逻辑回归和 KNN 进行比较:</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> train_test_split  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.neighbors <span style="color:#f92672">import</span> KNeighborsClassifier  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.metrics <span style="color:#f92672">import</span> classification_report  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.datasets <span style="color:#f92672">import</span> load_iris  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.preprocessing <span style="color:#f92672">import</span> StandardScaler  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.linear_model <span style="color:#f92672">import</span> LogisticRegression  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib <span style="color:#66d9ef">as</span> mpl  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> warnings  
</span></span><span style="display:flex;"><span>warnings<span style="color:#f92672">.</span>filterwarnings(<span style="color:#e6db74">&#34;ignore&#34;</span>)  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mpl<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#34;font.family&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;SimHei&#34;</span>  
</span></span><span style="display:flex;"><span>mpl<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#34;axes.unicode_minus&#34;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>iris <span style="color:#f92672">=</span> load_iris()  
</span></span><span style="display:flex;"><span>X <span style="color:#f92672">=</span> iris<span style="color:#f92672">.</span>data[:, :<span style="color:#ae81ff">2</span>]  
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> iris<span style="color:#f92672">.</span>target  
</span></span><span style="display:flex;"><span>X_train, X_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(X, y,   
</span></span><span style="display:flex;"><span>                        test_size<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 数据标准化: StandardScaler 均值标准差标准化, MinMaxScaler 最大最小值标准化  </span>
</span></span><span style="display:flex;"><span>ss <span style="color:#f92672">=</span> StandardScaler()  
</span></span><span style="display:flex;"><span>X_train <span style="color:#f92672">=</span> ss<span style="color:#f92672">.</span>fit_transform(X_train)  
</span></span><span style="display:flex;"><span>X_test <span style="color:#f92672">=</span> ss<span style="color:#f92672">.</span>transform(X_test)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 逻辑回归训练  </span>
</span></span><span style="display:flex;"><span>lr <span style="color:#f92672">=</span> LogisticRegression()  
</span></span><span style="display:flex;"><span>lr<span style="color:#f92672">.</span>fit(X_train,y_train)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># KNN 训练  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># n_neighbors: 邻居的数量  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># weights：权重计算方式, 可选值为 uniform 统一权重, 与 distance 加权权重  </span>
</span></span><span style="display:flex;"><span>knn <span style="color:#f92672">=</span> KNeighborsClassifier(n_neighbors<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, weights<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;uniform&#34;</span>)  
</span></span><span style="display:flex;"><span>knn<span style="color:#f92672">.</span>fit(X_train, y_train)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 比较 AUC  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.metrics <span style="color:#f92672">import</span> roc_curve, auc,roc_auc_score  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>lr_fpr, lr_tpr, lr_thresholds <span style="color:#f92672">=</span> roc_curve(y_test,  
</span></span><span style="display:flex;"><span>                lr<span style="color:#f92672">.</span>predict_proba(X_test)[:,<span style="color:#ae81ff">1</span>], pos_label<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>lr_auc <span style="color:#f92672">=</span> auc(lr_fpr, lr_tpr)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;Logistic 算法: AUC = </span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> lr_auc)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>knn_fpr, knn_tpr, knn_thresholds <span style="color:#f92672">=</span> roc_curve(y_test,  
</span></span><span style="display:flex;"><span>                knn<span style="color:#f92672">.</span>predict_proba(X_test)[:,<span style="color:#ae81ff">1</span>], pos_label<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>knn_auc <span style="color:#f92672">=</span> auc(knn_fpr, knn_tpr)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;KNN 算法: AUC = </span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> knn_auc) 
</span></span></code></pre></div><pre><code>Logistic 算法: AUC = 0.835
KNN 算法: AUC = 0.794
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将 KNN 算法参数进行调优再来比较  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> GridSearchCV  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># K 值取 1~10, 并定义需要的参数组合  </span>
</span></span><span style="display:flex;"><span>knn <span style="color:#f92672">=</span> KNeighborsClassifier()  
</span></span><span style="display:flex;"><span>grid <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;n_neighbors&#39;</span>: range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">11</span>,<span style="color:#ae81ff">1</span>), <span style="color:#e6db74">&#39;weights&#39;</span>: [<span style="color:#e6db74">&#39;uniform&#39;</span>,<span style="color:#e6db74">&#39;distance&#39;</span>]}  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 网格搜索交叉验证  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># param_grid：需要检验的超参数组合  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># scoring：模型评估标准, accuracy 正确率  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># n_jobs：并发数量  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># cv：交叉验证折数  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># verbose：输出冗余信息  </span>
</span></span><span style="display:flex;"><span>gs <span style="color:#f92672">=</span> GridSearchCV(estimator<span style="color:#f92672">=</span>knn, param_grid<span style="color:#f92672">=</span>grid, scoring<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;accuracy&#39;</span>,  
</span></span><span style="display:flex;"><span>                  n_jobs<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>, cv<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, verbose<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>gs<span style="color:#f92672">.</span>fit(X_train, y_train)  
</span></span><span style="display:flex;"><span>gs_fpr, gs_tpr, gs_thresholds <span style="color:#f92672">=</span> roc_curve(y_test,  
</span></span><span style="display:flex;"><span>                gs<span style="color:#f92672">.</span>predict_proba(X_test)[:,<span style="color:#ae81ff">1</span>], pos_label<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>gs_auc <span style="color:#f92672">=</span> auc(gs_fpr, gs_tpr)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;KNN 算法: AUC = </span><span style="color:#e6db74">%.3f</span><span style="color:#e6db74">&#39;</span> <span style="color:#f92672">%</span> gs_auc) 
</span></span></code></pre></div><pre><code>KNN 算法: AUC = 0.855
</code></pre>
<h2 id="10-以波士顿房价为例-对线性回归和-knn-进行比较">10, 以波士顿房价为例, 对线性回归和 KNN 进行比较:</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.datasets <span style="color:#f92672">import</span> load_boston  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.neighbors <span style="color:#f92672">import</span> KNeighborsRegressor   
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.linear_model <span style="color:#f92672">import</span> LinearRegression  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>X, y <span style="color:#f92672">=</span> load_boston(return_X_y<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>X_train, X_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(X, y,  
</span></span><span style="display:flex;"><span>                        test_size<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>knn <span style="color:#f92672">=</span> KNeighborsRegressor(n_neighbors<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, weights<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;distance&#34;</span>)   
</span></span><span style="display:flex;"><span>knn<span style="color:#f92672">.</span>fit(X_train, y_train)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;KNN 算法 R²：&#34;</span>, knn<span style="color:#f92672">.</span>score(X_test, y_test))  
</span></span><span style="display:flex;"><span>lr <span style="color:#f92672">=</span> LinearRegression()  
</span></span><span style="display:flex;"><span>lr<span style="color:#f92672">.</span>fit(X_train, y_train)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;线性回归算法 R²：&#34;</span>, lr<span style="color:#f92672">.</span>score(X_test, y_test))  
</span></span></code></pre></div><pre><code>KNN 算法 R²： 0.5158073940789912
线性回归算法 R²： 0.6354638433202129
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 对 KNN 数据标准化和参数调优之后再来比较  </span>
</span></span><span style="display:flex;"><span>knn <span style="color:#f92672">=</span> KNeighborsRegressor()  
</span></span><span style="display:flex;"><span>grid <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;n_neighbors&#39;</span>: range(<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">11</span>,<span style="color:#ae81ff">1</span>), <span style="color:#e6db74">&#39;weights&#39;</span>: [<span style="color:#e6db74">&#39;uniform&#39;</span>,<span style="color:#e6db74">&#39;distance&#39;</span>]}  
</span></span><span style="display:flex;"><span>gs <span style="color:#f92672">=</span> GridSearchCV(estimator<span style="color:#f92672">=</span>knn, param_grid<span style="color:#f92672">=</span>grid, scoring<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r2&#39;</span>,  
</span></span><span style="display:flex;"><span>                  n_jobs<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>, cv<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, verbose<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)   
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 利用流水线处理  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.pipeline <span style="color:#f92672">import</span> Pipeline  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义流水线的步骤: 类型为一个列表, 列表中的每个元素是元组类型  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 格式为：[(步骤名1，评估器1), (步骤名2， 评估器2), ……, (步骤名n, 评估器n)  </span>
</span></span><span style="display:flex;"><span>knn_steps <span style="color:#f92672">=</span> [(<span style="color:#e6db74">&#34;scaler&#34;</span>, StandardScaler()), (<span style="color:#e6db74">&#34;knn&#34;</span>, gs)]  
</span></span><span style="display:flex;"><span>knn_p <span style="color:#f92672">=</span> Pipeline(knn_steps)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 可以设置流水线的参数. 所有可用的参数可以通过 get_params 获取  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置格式如下: (步骤名__参数)  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># p.set_params(knn__n_neighbors=3, knn__weights=&#34;uniform&#34;)  </span>
</span></span><span style="display:flex;"><span>knn_p<span style="color:#f92672">.</span>fit(X_train, y_train)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;KNN 算法 R²：&#34;</span>, knn_p<span style="color:#f92672">.</span>score(X_test, y_test))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 线性回归数据标准化  </span>
</span></span><span style="display:flex;"><span>lr_steps <span style="color:#f92672">=</span> [(<span style="color:#e6db74">&#34;scaler&#34;</span>, StandardScaler()), (<span style="color:#e6db74">&#34;lr&#34;</span>, LinearRegression())]  
</span></span><span style="display:flex;"><span>lr_p <span style="color:#f92672">=</span> Pipeline(lr_steps)  
</span></span><span style="display:flex;"><span>lr_p<span style="color:#f92672">.</span>fit(X_train, y_train)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;线性回归算法 R²：&#34;</span>, lr_p<span style="color:#f92672">.</span>score(X_test, y_test))  
</span></span></code></pre></div><pre><code>KNN 算法 R²： 0.6441485149216897
线性回归算法 R²： 0.6354638433202131
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>朴素贝叶斯</h1>

<h2 id="1-概率基础">1, 概率基础</h2>
<p><strong>样本空间</strong> :</p>
<p>在 <strong>随机试验</strong> E 中, 实验的所有可能结果组成的集合, 称为 <strong>样本空间</strong> S, 样本空间的每个元素, 即 E 的每个结果, 称 <strong>样本点</strong></p>
<p><strong>随机事件</strong> :</p>
<p>进行随机试验时, 满足某种条件的样本点组成的集合, S 的子集, 称作 <strong>随机事件</strong> , 只有一个样本点时, 称作 <strong>基本事件</strong></p>
<p><strong>概率</strong> :</p>
<p>对于随机事件 A, 概率为:</p>

<span class="math align-center">$P(A)=\frac{A \text { 中基本事件数 }}{S \text { 中基本事件数 }}$</span>
<p><strong>条件概率</strong> :</p>
<p>定义事件 A 发生的前提下, 事件 B 发生的概率 P(B | A) 为条件概率:</p>

<span class="math align-center">$$P(B \mid A)=\frac{P(A B)}{P(A)}$$</span><p>由条件概率的定义可得, 事件 A 和 B 同时发生的概率 P(AB) 满足如下 <strong>乘法定理</strong> :</p>

<span class="math align-center">$$P(A B)=P(B \mid A) P(A)$$</span><p><strong>独立性:</strong></p>
<p>定义 A 和 B 两个事件, 如果满足:</p>

<span class="math align-center">$$P(A B)=P(A) P(B)$$</span><p>则称事件 A, B 相互独立. 再结合乘法定理, 则有:</p>

<span class="math align-center">$$P(B \mid A) = P(B)$$</span><p><strong>全概率公式:</strong></p>
<p>设随机试验 E 的样本空间为 S, 若事件 
<span class="math align-center">$B_{1}$</span>，
<span class="math align-center">$B_{2}$</span>，…, 
<span class="math align-center">$B_{n}$</span> 构成一个完备事件组(即它们两两相互独立，事件并集为 S),
且都有正概率，则对任意一个 E 的事件 A，有如下公式成立：</p>

<span class="math align-center">$$P(A)=P\left(A \mid B_{1}\right) P\left(B_{1}\right)+P\left(A \mid
B_{2}\right) P\left(B_{2}\right)+\ldots \ldots+P\left(A \mid B_{n}\right)
P\left(B_{n}\right)$$</span><p>此公式即为全概率公式. 特别地，对于任意两随机事件 A 和 B，有如下成立：</p>

<span class="math align-center">$$P(B)=P(B \mid A) P(A)+P(B \mid \bar{A}) P(\bar{A})$$</span><p><strong>贝叶斯公式:</strong></p>
<p>设随机试验 E 的样本空间为 S, 若事件 
<span class="math align-center">$B_{1}$</span>，
<span class="math align-center">$B_{2}$</span>，…, 
<span class="math align-center">$B_{n}$</span> 构成一个完备事件组(即它们两两相互独立，事件并集为 S),
且都有正概率，则对任意一个 E 的正概率事件 A，有如下公式成立( i 为 1~n 的正整数)：</p>

<span class="math align-center">$$P\left(B_{i} \mid A\right)=\frac{P\left(A B_{i}\right)}{P(A)}=\frac{P\left(A
\mid B_{i}\right) P\left(B_{i}\right)}{P(A)} \  
=\frac{P\left(A \mid B_{i}\right) P\left(B_{i}\right)}{\sum_{j=1}^{n} P\left(A
\mid B_{j}\right) P\left(B_{j}\right)}$$</span><p>贝叶斯公式将求解 P(B | A) 的概率转换成求 P(A | B) 的概率, 在求解某个事件概率非常困难时, 转换一下更方便求解</p>
<p>例: 从以往数据得出, 机器调整良好时生产的产品合格的概率是 98%, 机器故障时合格的概率是 55%, 每天开机时机器调整良好的概率为 95%.
求某日开机生产的第一件产品是合格品时, 机器调整良好的概率?</p>
<p>解: 设事件 A 为产品合格, B 为机器调整良好, 则 
<span class="math align-center">$\bar{B}$</span> 为机器故障</p>

<span class="math align-center">$$P(B \mid A)=\frac{P(A \mid B) P(B)}{P(A \mid B) P(B)+P(A \mid \bar{B})
P(\bar{B})} \  
=\frac{0.98 \times 0.95}{0.98 \times 0.95+0.55 \times 0.05} \  
=0.97$$</span><p><strong>先验概率和后验概率:</strong></p>
<p>由以往的数据得出的概率称为 <strong>先验概率</strong> , 如上例中的已知概率</p>
<p>得到某些信息后, 在先验概率的基础上进行修正而得到的概率, 称为 <strong>后验概率</strong> , 如上例中求解的概率</p>
<h2 id="2-朴素贝叶斯算法原理">2, 朴素贝叶斯算法原理</h2>
<p>朴素贝叶斯是基于概率的分类算法, 前提假设各个特征(自变量)之间是相互独立的, 设类别(因变量)为 Y, Y 包含 m 个类别(
<span class="math align-center">$y_{1},\ldots, y_{m}$</span>), 特征为 X, X 包含含有 n 个特征 (
<span class="math align-center">$x_{1}, \ldots, x_{n}$</span>), 然后通过计算比较, 在特征 X
确定的前提下, 类别 Y 中每个类别的概率大小, 概率最大者即为预测结果</p>
<p>设 Y 中任意一个类别为 y, 则:</p>

<span class="math align-center">$$P(y \mid X) = P\left(y \mid x_{1}, \ldots, x_{n}\right) \  
=\frac{P(y) P\left(x_{1}, \ldots, x_{n} \mid y\right)}{P\left(x_{1}, \ldots,
x_{n}\right)} \  
=\frac{P(y) P\left(x_{1} \mid y\right) P\left(x_{2} \mid y\right) \ldots
P\left(x_{n} \mid y\right)}{P\left(x_{1}, \ldots, x_{n}\right)} \  
=\frac{P(y) \prod_{i=1}^{n} P\left(x_{i} \mid y\right)}{P\left(x_{1}, \ldots,
x_{n}\right)}$$</span><p>上式分母为定值, 则:</p>

<span class="math align-center">$$P\left(y \mid X \right) \propto P(y) \prod_{i=1}^{n} P\left(x_{i} \mid
y\right)$$</span><p>所以最终预测类别 
<span class="math align-center">$\hat{y}$</span> 为分子部分值最大对应的类别:</p>

<span class="math align-center">$$\hat{y}=\arg \max_{y} P(y) \prod_{i=1}^{n} P\left(x_{i} \mid y\right)$$</span><p>不同的朴素贝叶斯算法, 主要是对 
<span class="math align-center">$P\left(x_{i} \mid y\right)$</span> 的分布假设不同, 进而采取不同的参数估计方式.
最终主要就是通过计算 
<span class="math align-center">$P\left(x_{i} \mid y\right)$</span> 的概率来计算结果</p>
<p>例: 预测第 11 条记录, 学生是否上课</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>天气</th>
<th>上课距离</th>
<th>成绩</th>
<th>课程</th>
<th>上课情况</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>晴</td>
<td>远</td>
<td>差</td>
<td>选修</td>
<td>逃课</td>
</tr>
<tr>
<td>2</td>
<td>晴</td>
<td>近</td>
<td>差</td>
<td>必修</td>
<td>上课</td>
</tr>
<tr>
<td>3</td>
<td>晴</td>
<td>近</td>
<td>好</td>
<td>必修</td>
<td>上课</td>
</tr>
<tr>
<td>4</td>
<td>阴</td>
<td>远</td>
<td>差</td>
<td>选修</td>
<td>逃课</td>
</tr>
<tr>
<td>5</td>
<td>阴</td>
<td>近</td>
<td>好</td>
<td>选修</td>
<td>上课</td>
</tr>
<tr>
<td>6</td>
<td>阴</td>
<td>近</td>
<td>好</td>
<td>必修</td>
<td>上课</td>
</tr>
<tr>
<td>7</td>
<td>雨</td>
<td>远</td>
<td>差</td>
<td>选修</td>
<td>逃课</td>
</tr>
<tr>
<td>8</td>
<td>雨</td>
<td>近</td>
<td>好</td>
<td>必修</td>
<td>上课</td>
</tr>
<tr>
<td>9</td>
<td>雨</td>
<td>近</td>
<td>差</td>
<td>必修</td>
<td>逃课</td>
</tr>
<tr>
<td>10</td>
<td>雨</td>
<td>远</td>
<td>好</td>
<td>选修</td>
<td>逃课</td>
</tr>
<tr>
<td>11</td>
<td>阴</td>
<td>近</td>
<td>差</td>
<td>选修</td>
<td>?</td>
</tr>
<tr>
<td>12</td>
<td>晴</td>
<td>远</td>
<td>好</td>
<td>选修</td>
<td>?</td>
</tr>
</tbody>
</table>
<p>分别计算上课和逃课情况下, 各自的概率:</p>

<span class="math align-center">$$P(y=\text { 上课 }) \prod_{i=1}^{n} P\left(x_{i} \mid y=\text { 上课 }\right) \  
=P(y=\text { 上课 }) P\left(x_{1}=\text { 阴 } \mid y=\text { 上课 }\right)
P\left(x_{2}=\text { 近 } \mid y=\text { 上课 }\right) \  
P\left(x_{3}=\text {差 } \mid y=\text { 上课 }\right) P\left(x_{4}=\text { 选修 }
\mid y=\text { 上课 }\right) \  
=0.5 \times 0.4 \times 1 \times 0.2 \times 0.2 \  
=0.008$$</span>
<span class="math align-center">$$P(y=\text { 逃课 }) \prod_{i=1}^{n} P\left(x_{i} \mid y=\text { 逃课 }\right) \  
=P(y=\text { 逃课 }) P\left(x_{1}=\text { 阴 } \mid y=\text { 逃课 }\right)
P\left(x_{2}=\text { 近 } \mid y=\text { 逃课 }\right) \  
P\left(x_{3}=\text { 差 } \mid y=\text { 逃课 }\right) P\left(x_{4}=\text { 选修 }
\mid y=\text { 逃课 }\right) \  
=0.5 \times 0.2 \times 0.2 \times 0.8 \times 0.8 \  
=0.0128$$</span><p>可得预测结果为: 逃课</p>
<h2 id="3-平滑改进">3, 平滑改进</h2>
<p>当我们预测上例中, 第 12 条记录所属的类别时, 因为样本不是总体, 会出现上课的前提下, 距离远的概率为 0, 造成计算结果也为 0, 影响了预测结果,
因此需要平滑改进:</p>

<span class="math align-center">$$ P\left(x_{i} \mid y\right)=\frac{\text { 类别 } y \text { 中 } x_{i} \text {
取某个值出现的次数 }+ \alpha}{\text { 类别别 } y \text { 的总数 }+k * \alpha} $$</span><p>其中, k 为特征 
<span class="math align-center">$x_{i}$</span> 可能的取值数, α (α ≥ 0) 称为平滑系数, 当 α = 1 时, 称拉普拉斯平滑( Laplace
smoothing)</p>
<h2 id="4-算法优点">4, 算法优点</h2>
<p>即使训练集数据较少, 也能实现不错的预测; 算法训练速度非常快</p>
<p>因此算法假设特征之间是独立的, 可以单独考虑. 如果训练集有 N 个特征, 每个特征需要 M 个样本来训练, 则只需要训练 N*M 的样本数量,
而不是笛卡儿积的形式指数级增加</p>
<p>常用的朴素贝叶斯有: 高斯朴素贝叶斯, 伯努利朴素贝叶斯, 多项式朴素贝叶斯</p>
<h2 id="5-高斯朴素贝叶斯">5, 高斯朴素贝叶斯</h2>
<p>适用于连续变量, 其假定各个特征 x 在各个类别 y 下服从正态分布:</p>

<span class="math align-center">$$x_{i} \sim N\left(\mu_{y}, \sigma_{y}^{2}\right)$$</span><p>算法使用概率密度函数来计算 
<span class="math align-center">$P\left(x_{i} \mid y\right)$</span> 的概率:</p>

<span class="math align-center">$$P\left(x_{i} \mid y\right)=\frac{1}{\sqrt{2 \pi \sigma_{y}^{2}}} \exp
\left(-\frac{\left(x_{i}-\mu_{y}\right)^{2}}{2 \sigma_{y}^{2}}\right) $$</span><p>
<span class="math align-center">$\mu_{y}$</span>: 在类别为 y 的样本中, 特征 
<span class="math align-center">$x_{i}$</span> 的均值<br>

<span class="math align-center">$\sigma_{y}$</span>: 在类别为 y 的样本中, 特征 
<span class="math align-center">$x_{i}$</span> 的标件差</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.naive_bayes <span style="color:#f92672">import</span> GaussianNB  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">10</span>, size<span style="color:#f92672">=</span>(<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>])  
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>concatenate([x, y<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>),  
</span></span><span style="display:flex;"><span>                   columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;x1&#39;</span>, <span style="color:#e6db74">&#39;x2&#39;</span>, <span style="color:#e6db74">&#39;x3&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>])  
</span></span><span style="display:flex;"><span>display(data[:<span style="color:#ae81ff">3</span>])  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>gnb <span style="color:#f92672">=</span> GaussianNB()  
</span></span><span style="display:flex;"><span>gnb<span style="color:#f92672">.</span>fit(x, y)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;类别标签:&#39;</span>, gnb<span style="color:#f92672">.</span>classes_)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;每个类别的先验概率:&#39;</span>, gnb<span style="color:#f92672">.</span>class_prior_)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;样本数量:&#39;</span>, gnb<span style="color:#f92672">.</span>class_count_)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;每个类别下特征的均值:&#39;</span>, gnb<span style="color:#f92672">.</span>theta_)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;每个类别下特征的方差:&#39;</span>, gnb<span style="color:#f92672">.</span>sigma_)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 测试集  </span>
</span></span><span style="display:flex;"><span>x_test <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([[<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#ae81ff">2</span>]])  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;预测结果:&#39;</span>, gnb<span style="color:#f92672">.</span>predict(x_test))  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;预测结果概率:&#39;</span>, gnb<span style="color:#f92672">.</span>predict_proba(x_test))  
</span></span></code></pre></div><pre><code>  x1	x2	x3	y
0	5	0	3	0
1	3	7	9	1
2	3	5	2	0


类别标签: [0 1]
每个类别的先验概率: [0.5 0.5]
样本数量: [4. 4.]
每个类别下特征的均值: [[5.   5.   3.  ]
 [6.5  5.75 7.5 ]]
每个类别下特征的方差: [[3.50000001 9.50000001 3.50000001]
 [5.25000001 7.68750001 2.75000001]]
预测结果: [0]
预测结果概率: [[0.99567424 0.00432576]]
</code></pre>
<h2 id="6-伯努利朴素贝叶斯">6, 伯努利朴素贝叶斯</h2>
<p>设实验 E 只有两个可能的结果, A 与 
<span class="math align-center">$\bar{A}$</span>, 则称 E 为伯努利试验</p>
<p>伯努利朴素贝叶斯, 适用于离散变量, 其假设各个特征 x 在各个类别 y 下服从 n 重伯努利分布(二项分布), 因伯努利试验仅有两个结果,
算法会首先对特征值进行二值化处理(假设二值化结果为 1 和 0 )</p>
<p>
<span class="math align-center">$P\left(x_{i} \mid y\right)$</span> 的概率为:</p>

<span class="math align-center">$$P\left(x_{i} \mid y\right)=P\left(x_{i}=1 \mid y\right)
x_{i}+\left(1-P\left(x_{i}=1 \mid y\right)\right)\left(1-x_{i}\right)$$</span><p>在训练集中, 会进行如下评估:</p>

<span class="math align-center">$$ P\left(x_{i}=1 \mid y\right)=\frac{N_{y i}+\alpha}{N_{y}+2 * \alpha} \  
P\left(x_{i}=0 \mid y\right)=1-P\left(x_{i}=1 \mid y\right) $$</span><p>
<span class="math align-center">$N_{y i}$</span>: 第 i 特征中, 属于类别 y, 数值为 1 的样本个数<br>

<span class="math align-center">$N_{y}$</span>: 属于类別 y 的所有样本个数<br>

<span class="math align-center">$\alpha$</span>: 平滑系数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.naive_bayes <span style="color:#f92672">import</span> BernoulliNB  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>, size<span style="color:#f92672">=</span>(<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>])  
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>concatenate([x, y<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>),  
</span></span><span style="display:flex;"><span>                   columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;x1&#39;</span>, <span style="color:#e6db74">&#39;x2&#39;</span>, <span style="color:#e6db74">&#39;x3&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>])  
</span></span><span style="display:flex;"><span>display(data[:<span style="color:#ae81ff">3</span>])  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bnb <span style="color:#f92672">=</span> BernoulliNB()  
</span></span><span style="display:flex;"><span>bnb<span style="color:#f92672">.</span>fit(x, y)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 统计每个类别下, 特征中二值化后, 每个特征下值 1 出现的次数  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;值 1 出现的次数:&#39;</span>, bnb<span style="color:#f92672">.</span>feature_count_)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 每个类别的先验概率, 算法得到的该概率值是取对数后的结果,  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 需要取指数还原  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;每个类别的先验概率:&#39;</span>, np<span style="color:#f92672">.</span>exp(bnb<span style="color:#f92672">.</span>class_log_prior_))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 每个类别下, 每个特征的概率(也需要取指数还原)  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;每个特征的概率:&#39;</span>, np<span style="color:#f92672">.</span>exp(bnb<span style="color:#f92672">.</span>feature_log_prob_))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 测试集  </span>
</span></span><span style="display:flex;"><span>x_test <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([[<span style="color:#f92672">-</span><span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>]])  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;预测结果:&#39;</span>, bnb<span style="color:#f92672">.</span>predict(x_test))  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;预测结果概率:&#39;</span>, bnb<span style="color:#f92672">.</span>predict_proba(x_test))  
</span></span></code></pre></div><pre><code>  x1	x2	x3	y
0	0	-5	-2	0
1	-2	2	4	1
2	-2	0	-3	0


值 1 出现的次数: [[1. 2. 1.]
 [3. 3. 3.]]
每个类别的先验概率: [0.5 0.5]
每个特征的概率: [[0.33333333 0.5        0.33333333]
 [0.66666667 0.66666667 0.66666667]]
预测结果: [0]
预测结果概率: [[0.6 0.4]]
</code></pre>
<h2 id="7-多项式朴素贝叶斯">7, 多项式朴素贝叶斯</h2>
<p>多项式朴素贝叶斯, 适用于离散变量, 其假设各个特征 x 在各个类别 y 下服从多项式分布(每个特征下的值之和, 就是该特征发生(出现)的次数),
因此每个特征值不能是负数</p>
<p>
<span class="math align-center">$P\left(x_{i} \mid y\right)$</span> 的概率为:</p>

<span class="math align-center">$$P\left(x_{i} \mid y\right)=\frac{N_{y i}+\alpha}{N_{y}+\alpha n} $$</span><p>
<span class="math align-center">$N_{y i}$</span>: 特征 i 在类别 y 的样本中发生(出现)的次数<br>

<span class="math align-center">$N_{y}$</span>: 类别 y 的样本中, 所有特征发生(出现)的次数<br>

<span class="math align-center">$n$</span>: 特征数量<br>

<span class="math align-center">$\alpha$</span>: 平滑系数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.naive_bayes <span style="color:#f92672">import</span> MultinomialNB  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">5</span>, size<span style="color:#f92672">=</span>(<span style="color:#ae81ff">8</span>, <span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>y <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>])  
</span></span><span style="display:flex;"><span>data <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>concatenate([x, y<span style="color:#f92672">.</span>reshape(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>)], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>),  
</span></span><span style="display:flex;"><span>                   columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;x1&#39;</span>, <span style="color:#e6db74">&#39;x2&#39;</span>, <span style="color:#e6db74">&#39;x3&#39;</span>, <span style="color:#e6db74">&#39;y&#39;</span>])  
</span></span><span style="display:flex;"><span>display(data[:<span style="color:#ae81ff">3</span>])  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mnb <span style="color:#f92672">=</span> MultinomialNB()  
</span></span><span style="display:flex;"><span>mnb<span style="color:#f92672">.</span>fit(x, y)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 每个类别的样本数量  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;每个类别的样本数:&#39;</span>, mnb<span style="color:#f92672">.</span>class_count_)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 每个特征在每个类别下发生(出现)的次数  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;每个特征发生(出现)次数:&#39;</span>, mnb<span style="color:#f92672">.</span>feature_count_)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 每个类别下, 每个特征的概率(需要取指数还原)  </span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;每个类别下特征的概率:&#39;</span>, np<span style="color:#f92672">.</span>exp(mnb<span style="color:#f92672">.</span>feature_log_prob_))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 测试集  </span>
</span></span><span style="display:flex;"><span>x_test <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>]])  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;预测结果:&#39;</span>, mnb<span style="color:#f92672">.</span>predict(x_test))  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;预测结果概率:&#39;</span>, mnb<span style="color:#f92672">.</span>predict_proba(x_test))  
</span></span></code></pre></div><pre><code>  x1	x2	x3	y
0	1	4	2	0
1	1	4	4	1
2	4	4	2	0


每个类别的样本数: [4. 4.]
每个特征发生(出现)次数: [[10. 14. 10.]
 [ 9. 11. 11.]]
每个类别下特征的概率: [[0.2972973  0.40540541 0.2972973 ]
 [0.29411765 0.35294118 0.35294118]]
预测结果: [1]
预测结果概率: [[0.36890061 0.63109939]]
</code></pre>
<p><strong>利用鸢尾花数据集比较上述 3 个贝叶斯算法:</strong></p>
<p>对不同的数据集, 根据其分布情况选择适合的算法, 能得到更好的结果</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.datasets <span style="color:#f92672">import</span> load_iris  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> train_test_split  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x, y <span style="color:#f92672">=</span> load_iris(return_X_y<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>x_train, x_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(x, y,  
</span></span><span style="display:flex;"><span>                        test_size<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>models <span style="color:#f92672">=</span> [(<span style="color:#e6db74">&#39;高斯朴素贝叶斯分值:&#39;</span>, GaussianNB()),  
</span></span><span style="display:flex;"><span>          (<span style="color:#e6db74">&#39;伯努利朴素贝叶斯分值:&#39;</span>, BernoulliNB()),  
</span></span><span style="display:flex;"><span>          (<span style="color:#e6db74">&#39;多项式朴素贝叶斯分值:&#39;</span>, MultinomialNB())]  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> name, m <span style="color:#f92672">in</span> models:  
</span></span><span style="display:flex;"><span>    m<span style="color:#f92672">.</span>fit(x_train, y_train)  
</span></span><span style="display:flex;"><span>    print(name, m<span style="color:#f92672">.</span>score(x_test, y_test))  
</span></span></code></pre></div><pre><code>高斯朴素贝叶斯分值: 1.0
伯努利朴素贝叶斯分值: 0.23684210526315788
多项式朴素贝叶斯分值: 0.5789473684210527
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>决策树</h1>

<h2 id="1-概念理解">1, 概念理解</h2>
<p>决策树: 通过数据特征的差别, 用已知数据训练将不同数据划分到不同分支(子树)中, 层层划分, 最终得到一个树型结构, 用来对未知数据进行预测,
实现分类或回归</p>
<p>例如, 有如下数据集, 预测第 11 条数据能否偿还债务:</p>
<table>
<thead>
<tr>
<th>序号</th>
<th>有无房产</th>
<th>婚姻状况</th>
<th>年收入</th>
<th>能否偿还债务</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>是</td>
<td>单身</td>
<td>125</td>
<td>能</td>
</tr>
<tr>
<td>2</td>
<td>否</td>
<td>已婚</td>
<td>100</td>
<td>能</td>
</tr>
<tr>
<td>3</td>
<td>否</td>
<td>单身</td>
<td>100</td>
<td>能</td>
</tr>
<tr>
<td>4</td>
<td>是</td>
<td>已婚</td>
<td>110</td>
<td>能</td>
</tr>
<tr>
<td>5</td>
<td>是</td>
<td>离婚</td>
<td>60</td>
<td>能</td>
</tr>
<tr>
<td>6</td>
<td>否</td>
<td>离婚</td>
<td>95</td>
<td>不能</td>
</tr>
<tr>
<td>7</td>
<td>否</td>
<td>单身</td>
<td>85</td>
<td>不能</td>
</tr>
<tr>
<td>8</td>
<td>否</td>
<td>已婚</td>
<td>75</td>
<td>能</td>
</tr>
<tr>
<td>9</td>
<td>否</td>
<td>单身</td>
<td>90</td>
<td>不能</td>
</tr>
<tr>
<td>10</td>
<td>是</td>
<td>离婚</td>
<td>220</td>
<td>能</td>
</tr>
<tr>
<td>11</td>
<td>否</td>
<td>已婚</td>
<td>94</td>
<td>?</td>
</tr>
</tbody>
</table>
<p>我们可以将已知样本作如下划分(训练), 构建一颗决策树, 然后将第 11 条数据代入(测试), 落在哪一个叶子中, 它就是对应叶子的类别: 预测结果是
<strong>能</strong></p>
<p><img src="23-36-33.jpg" alt=""></p>
<p>上例中, 层级已经不可再分, 但如果只划分到婚姻状况就不再划分如何实现预测?</p>
<p>决策树实现预测:<br>
对于分类树, 叶子节点中, 哪个类别样本数量最多, 就将其作为未知样本的类别<br>
对于回归树, 使用叶子节点中, 所有样本的均值, 作为未知样本的结果</p>
<p>对于上例, 如果只划分到婚姻状况, 那对于婚姻状况这个叶子中, 不能偿还的最多, 预测结果就是 <strong>不能</strong></p>
<h2 id="2-分类决策树">2, 分类决策树</h2>
<p>对上例出现的情况, 我们会有如下问题:<br>
我们为什么以年收入开始划分, 依据是什么? 划分顺序怎么定?<br>
年收入为什么选 97.5 为划分阈值?<br>
要划分多少层才好, 是否越多越好?<br>
等等…</p>
<p>下面一步步来作讨论:</p>
<h3 id="201-信息熵">2.01, 信息熵</h3>
<p><strong>信息熵</strong> : 用来描述信源的不确定度, 不确定性越大, 信息熵越大. 例如, 明天海南要下雪, 不确定性非常小, 信息熵很小, 明天海南要下雨,
不确定性大, 信息熵就大</p>
<p>设随机变量 X 具有 m 个特征值, 各个值出现的概率为 
<span class="math align-center">$p_{1}$</span>, …, 
<span class="math align-center">$p_{m}$</span>, 且</p>

<span class="math align-center">$$p_{1}+p_{2}+\cdots+p_{m} = 1$$</span><p>则变量 X 的信息熵(信息期望值)为:</p>

<span class="math align-center">$$H(X)=-p_{1} \log_{2} p_{1} -p_{2} \log_{2} p_{2}-\cdots -p_{m} \log_{2}
p_{m}$$</span>
<span class="math align-center">$$ =-\sum_{i=1}^{m}p_{i}\log_{2}p_{i}$$</span><h3 id="202-概率分布与信息商的关系">2.02, 概率分布与信息商的关系</h3>
<p>假设明天下雨的概率从 0.01 ~ 0.99 递增, 那么不下雨的概率就从 0.99 ~ 0.01 递减, 看看概率分布和信息熵的关系:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.family&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;SimHei&#39;</span>  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.size&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">14</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 下雨的概率  </span>
</span></span><span style="display:flex;"><span>p <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>linspace(<span style="color:#ae81ff">0.01</span>, <span style="color:#ae81ff">0.99</span>, <span style="color:#ae81ff">100</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 信息熵  </span>
</span></span><span style="display:flex;"><span>h <span style="color:#f92672">=</span> <span style="color:#f92672">-</span>p <span style="color:#f92672">*</span> np<span style="color:#f92672">.</span>log2(p) <span style="color:#f92672">-</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>p) <span style="color:#f92672">*</span> np<span style="color:#f92672">.</span>log2(<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>p)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘制关系图  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(p, h)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;概率分布&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;信息熵&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">&#39;概率分布和信息熵关系图&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_1_0.png" alt="png"></p>
<p>可见, 概率分布越均衡, 不确定性越大, 信息熵越大, 在所有概率都相等(p下雨=p不下雨)时, 信息熵最大</p>
<p>如果把概率分布转换到决策树的数据集上, 信息熵体现的就是数据的 <strong>不纯度</strong> , 即样本类别的均衡程度. 因为数据集是未分类的, 要把它分类,
样本类别越均衡, 各个类别的占比(概率)分布越均衡, 不纯度越高, 信息熵越大</p>
<h3 id="203-信息增益">2.03, 信息增益</h3>
<p>信息增益的定义如下:</p>

<span class="math align-center">$$I G\left(D_{p}, f\right)=I\left(D_{p}\right)-\sum_{j=1}^{n}
\frac{N_{j}}{N_{p}} I\left(D_{j}\right) $$</span><p>
<span class="math align-center">$f$</span>: 划分的特征<br>

<span class="math align-center">$D_{p}$</span>: 父节点, 即使用特征 f 分割之前的节点<br>

<span class="math align-center">$I G\left(D_{p}, f\right)$</span>: 父节点 
<span class="math align-center">$D_{p}$</span> 使用特征 f 划分下, 获得的信息增益<br>

<span class="math align-center">$I\left(D_{p}\right)$</span>：父节点不纯度, 信息熵是度量标准之一<br>

<span class="math align-center">$D_{j}$</span>: 父节点 
<span class="math align-center">$D_{p}$</span> 经过分割之后, 会产生 n 个子节点, 
<span class="math align-center">$D_{j}$</span> 为第 j 个子节点<br>

<span class="math align-center">$I\left(D_{j}\right)$</span>：子节点不纯度<br>

<span class="math align-center">$N_{p}$</span>: 父节点 
<span class="math align-center">$D_{p}$</span> 包含样本的数量<br>

<span class="math align-center">$N_{j}$</span>: 第 j 个子节点 
<span class="math align-center">$D_{j}$</span> 包含样本的数量</p>
<p>如果是二叉树, 即父节点最多分为左右两个子节点, 此时, 信息增益为:</p>

<span class="math align-center">$$I G\left(D_{p}, f\right)=I\left(D_{p}\right)-\frac{N_{l e f t}}{N_{p}}
I\left(D_{l e f t}\right)-\frac{N_{r i g h t}}{N_{p}} I\left(D_{r i g h
t}\right)$$</span><p>可见, 信息增益就是父节点的不纯度减去所有子节点的(加权)不纯度</p>
<p>父节点的不纯度是不变的, 在选择特征进行类别划分时, 应该让子节点的不纯度尽可能低, 这样训练可以更快完成, 信息增益也最大. 这正是训练决策树时,
选择特征顺序的依据</p>
<p>以开头的例子为例, 不纯度使用信息熵度量, 则根节点的信息熵为:</p>

<span class="math align-center">$$I\left(D_{p}\right)=-0.7 * \log _{2} 0.7-0.3 * \log _{2} 0.3=0.88$$</span><p>如果以”有无房产”划分, 则可计算得子节点信息熵:</p>

<span class="math align-center">$$\begin{array}{l}  
I\left(D_{\text {有房产 }}\right)=0 \  
I\left(D_{\text {无房产 }}\right)=1  
\end{array}$$</span><p>从而可得根节点信息增益为:</p>

<span class="math align-center">$$I G(\text { 有无房产 })=0.88-0.4 * 0-0.6 * 1=0.28 $$</span><p>同理,</p>

<span class="math align-center">$$I G(\text { 婚姻状况 })=0.205 $$</span><p>而对于年收入, 将年收入排序后, 取不同类别的分界点年收入(75 与 85, 95 与 100)的均值进行划分, 比较哪一个信息增益大:</p>

<span class="math align-center">$$\begin{array}{l}  
I\left(D_{\text {年收入 }< 80}\right)=0 \  
I\left(D_{\text { 年收入 } >=80}\right)=0.954 \  
I G(\text { 年收入 }=80)=0.88-0.2 * 0-0.8 * 0.954=0.117  
\end{array}$$</span><p>同理,</p>

<span class="math align-center">$$I G(\text { 年收入 }=97.5)=0.395$$</span><p>可见, 以 年收入=97.5 划分时, 信息增益最大, 故首先选它进行划分</p>
<p>根节点划分结束, 第二层的父节点以同样的方式计算之后再次划分, 一直到划分停止</p>
<h3 id="204-过拟合与欠拟合">2.04, 过拟合与欠拟合</h3>
<p>如果不设置条件, 是不是划分深度越大越好呢?</p>
<p>下面以鸢尾花数据集为例, 看看划分深度对模型效果的影响:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.datasets <span style="color:#f92672">import</span> load_iris  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> train_test_split  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.tree <span style="color:#f92672">import</span> DecisionTreeClassifier  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x, y <span style="color:#f92672">=</span> load_iris(return_X_y<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>x <span style="color:#f92672">=</span> x[:, :<span style="color:#ae81ff">2</span>]  
</span></span><span style="display:flex;"><span>x_train, x_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(  
</span></span><span style="display:flex;"><span>    x, y, test_size<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">参数介绍:  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">criterion: 不纯度度量标准, 默认基尼系数 gini, 信息熵为 entropy  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">splitter: 选择划分节点的方式, 默认最好 best, 随机 random  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">max_depth: 划分深度, 默认 None 不设限  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">min_samples_split: 划分节点的最小样本数, 默认 2  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">min_samples_leaf: 划分节点后, 叶子节点的最少样本数, 默认 1  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">max_features: 划分节点时, 考虑的最大特征数, 默认 None 考虑所有, 设置数量后会随机选择  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">random_state: 随机种子, 控制模型的随机行为  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;</span>  
</span></span><span style="display:flex;"><span>tree <span style="color:#f92672">=</span> DecisionTreeClassifier()  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义列表, 用来储存不同深度下, 模型的分值  </span>
</span></span><span style="display:flex;"><span>train_score <span style="color:#f92672">=</span> []  
</span></span><span style="display:flex;"><span>test_score <span style="color:#f92672">=</span> []  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 设置深度 1~12 开始训练  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> depth <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">13</span>):  
</span></span><span style="display:flex;"><span>    tree <span style="color:#f92672">=</span> DecisionTreeClassifier(criterion<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;entropy&#39;</span>,  
</span></span><span style="display:flex;"><span>                    max_depth<span style="color:#f92672">=</span>depth, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>    tree<span style="color:#f92672">.</span>fit(x_train, y_train) 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    train_score<span style="color:#f92672">.</span>append(tree<span style="color:#f92672">.</span>score(x_train, y_train))  
</span></span><span style="display:flex;"><span>    test_score<span style="color:#f92672">.</span>append(tree<span style="color:#f92672">.</span>score(x_test, y_test))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(train_score, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;训练集分值&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(test_score, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;测试集分值&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;划分深度&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;分值&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show() 
</span></span></code></pre></div><p><img src="output_6_0.png" alt="png"></p>
<p>可见, 划分深度小, 训练集和测试集的分值都小, 容易欠拟合<br>
随着划分深度的增加, 分值都在增加, 模型预测效果也在变好<br>
当深度增加到一定程度, 深度再增加, 训练集分值随着增加, 但造成了模型过分依赖训练集数据特征, 从而测试集分值减小, 容易过拟合</p>
<h2 id="3-不纯度度量标准">3, 不纯度度量标准</h2>
<p>不纯度度量标准有:</p>
<p><strong>信息熵</strong></p>

<span class="math align-center">$$I_{H}(D)=-\sum_{i=1}^{m} p(i \mid D) \log _{2} p(i \mid D) $$</span><p>m: 节点 D 中含有样本的类别数量<br>

<span class="math align-center">$p(i \mid D)$</span>: 节点 D 中, 属于类别 i 的样本占节点 D 中样本总数的比例(概率)</p>
<p><strong>基尼系数</strong></p>

<span class="math align-center">$$I_{G}(D)=1-\sum_{i=1}^{m} p(i \mid D)^{2}$$</span><p><strong>错误率</strong></p>

<span class="math align-center">$$I_{E}(D)=1-\max {p(i \mid D)}$$</span><p>看看各个度量标准与概率分布的关系:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">entropy</span>(p):  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#f92672">-</span>p <span style="color:#f92672">*</span> np<span style="color:#f92672">.</span>log2(p) <span style="color:#f92672">-</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>p) <span style="color:#f92672">*</span> np<span style="color:#f92672">.</span>log2(<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>p)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">gini</span>(p):  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> p<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">-</span> (<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>p)<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">error</span>(p):  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">-</span> np<span style="color:#f92672">.</span>max([p, <span style="color:#ae81ff">1</span><span style="color:#f92672">-</span>p], axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>p <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>linspace(<span style="color:#ae81ff">0.0001</span>, <span style="color:#ae81ff">0.9999</span>, <span style="color:#ae81ff">200</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>en <span style="color:#f92672">=</span> entropy(p)  
</span></span><span style="display:flex;"><span>er <span style="color:#f92672">=</span> error(p)  
</span></span><span style="display:flex;"><span>g <span style="color:#f92672">=</span> gini(p)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i, lab, ls <span style="color:#f92672">in</span> zip([en, g, er],  
</span></span><span style="display:flex;"><span>                      [<span style="color:#e6db74">&#39;信息熵&#39;</span>, <span style="color:#e6db74">&#39;基尼系数&#39;</span>, <span style="color:#e6db74">&#39;错误率&#39;</span>],  
</span></span><span style="display:flex;"><span>                      [<span style="color:#e6db74">&#39;-&#39;</span>, <span style="color:#e6db74">&#39;:&#39;</span>, <span style="color:#e6db74">&#39;--&#39;</span>]):  
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>plot(p, i, label<span style="color:#f92672">=</span>lab, linestyle<span style="color:#f92672">=</span>ls, lw<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#39;概率分布&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#39;不纯度&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_9_0.png" alt="png"></p>
<p>可见, 无论选哪一种度量标准, 样本属于同一类, 不纯度都是 0; 样本中不同类别占比相同时, 不纯度最大</p>
<h2 id="4-决策树常用算法介绍">4, 决策树常用算法介绍</h2>
<p><strong>ID3</strong></p>
<p>ID3 (Iterative Dichotomiser3), 迭代二分法特点:<br>
-使用多叉树结构<br>
-使用信息熵作为不纯度度量, 选择信息增益最大的特征划分<br>
-经典算法, 简单, 训练快<br>
局限:<br>
-不支持连续特征<br>
-不支持缺失值处理<br>
-不支持回归<br>
-倾向选择特征取值多的特征来划分, 例如按身份证号划分, 一个号码就是一个特征</p>
<p><strong>C4.5</strong></p>
<p>ID3算法改进而来, 特点:<br>
-使用多叉树结构<br>
-不支持回归<br>
优化:<br>
-支持缺失值处理<br>
-连续值进行离散化处理<br>
-信息熵作为不纯度度量, 但选择 <strong>信息增益率</strong> 最大的特征划分</p>
<p>信息增益率:</p>

<span class="math align-center">$$I G_{\text {Ratio}}\left(D_{p}, f\right)=\frac{I G_{H}\left(D_{p},
f\right)}{I_{H}(f)} $$</span><p>
<span class="math align-center">$I_{H}(f)$</span>: 在特征 
<span class="math align-center">$f$</span> 下, 取各个特征值计算得到的信息熵之和, 其实就是特征 
<span class="math align-center">$f$</span> 的不纯度, 特征值越多, 特征不纯度越大</p>
<p>选择信息增益最大的特征来划分, 父节点的信息熵不变, 就要求信息增益的第二项 $\sum_{j=1}^{n} \frac{N_{j}}{N_{p}}
I\left(D_{j}\right)$ 最小, 从而会倾向选择特征取值多的特征</p>
<p>因为, 特征取值多, 通常划分之后子节点的不纯度(信息熵)就更低, 例如极端情况, 选身份证划分, 划分之后不管什么类别, 子节点都只有一种类别,
不纯度都是 0, 第二项就是 0, 信息增益就最大</p>
<p>因此, 采用信息增益率, 将 信息增益/特征不纯度, 就避免了 特征不纯度大 造成 信息增益大 而选择类别多的特征来划分的情况</p>
<p>看看类别数量与信息熵的关系:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>en <span style="color:#f92672">=</span> <span style="color:#66d9ef">lambda</span> p: np<span style="color:#f92672">.</span>sum(<span style="color:#f92672">-</span>p <span style="color:#f92672">*</span> np<span style="color:#f92672">.</span>log2(p))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>a1 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0.3</span>, <span style="color:#ae81ff">0.7</span>])  
</span></span><span style="display:flex;"><span>a2 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0.3</span>, <span style="color:#ae81ff">0.3</span>, <span style="color:#ae81ff">0.4</span>])  
</span></span><span style="display:flex;"><span>a3 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0.25</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">4</span>)  
</span></span><span style="display:flex;"><span>a4 <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#ae81ff">0.1</span>] <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(en(a1), en(a2), en(a3), en(a4), sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#39;</span>)  
</span></span></code></pre></div><pre><code>0.8812908992306927
1.5709505944546684
2.0
3.321928094887362
</code></pre>
<p><strong>CART</strong></p>
<p>CART (Classification And Regression Tree), 分类回归树, 特点如下:<br>
-使用二叉树结构<br>
-支持连续值与缺失值处理<br>
-分类时, 使用基尼系数作为不纯度度量, 选择基尼增益最大的特征划分<br>
-回归时, 使用 MSE 或 MAE 最小的特征划分</p>
<h2 id="5-回归决策树">5, 回归决策树</h2>
<p>回归决策树因变量 y 是连续的, 使用叶子节点的均值来预测未知样本, 使用 MSE 或 MAE 作为特征划分的评估指标</p>
<p>在 scikit-learn 中, 使用的是优化的 CART 算法来实现决策树</p>
<p>以波士顿房价为例来实现(参数参考分类决策树):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.datasets <span style="color:#f92672">import</span> load_boston  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.tree <span style="color:#f92672">import</span> DecisionTreeRegressor  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.model_selection <span style="color:#f92672">import</span> train_test_split  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>x, y <span style="color:#f92672">=</span> load_boston(return_X_y<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>x_train, x_test, y_train, y_test <span style="color:#f92672">=</span> train_test_split(  
</span></span><span style="display:flex;"><span>            x, y, test_size<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tree <span style="color:#f92672">=</span> DecisionTreeRegressor(max_depth<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>tree<span style="color:#f92672">.</span>fit(x_train, y_train)  
</span></span><span style="display:flex;"><span>print(tree<span style="color:#f92672">.</span>score(x_train, y_train))  
</span></span><span style="display:flex;"><span>print(tree<span style="color:#f92672">.</span>score(x_test, y_test))  
</span></span></code></pre></div><pre><code>0.9204825770764915
0.8763987309111113
</code></pre>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
<h1>K-Means 算法</h1>

<h2 id="1-聚类">1, 聚类</h2>
<p>前面接触的算法, 都是 <strong>监督学习</strong> , 即训练数据中自变量(特征)和因变量(结果)都是已知的, 用含有结果的训练集建立模型,
然后对未知结果的数据进行预测</p>
<p>聚类属于 <strong>无监督学习</strong> , 训练数据中没有”已知结果的监督”. 聚类的目的, 就是通过已知样本数据的特征, 将数据划分为若干个类别,
每个类别成一个类簇, 使得同一个簇内的数据相似度越大, “物以类聚”, 不同簇之间的数据相似度越小, 聚类效果越好</p>
<p>聚类的样本相似度根据距离来度量</p>
<h2 id="2-k-means">2, K-Means</h2>
<p>即 K 均值算法, 是常见的聚类算法, 该算法将数据集分为 K 个簇, 每个簇使用簇内所有样本的均值来表示, 该均值称为”质心”</p>
<p>K-Means 算法的目标, 就是选择适合的质心, 使得每个簇内, 样本点距质心的距离尽可能的小, 从而保证簇内样本有较高相似度</p>
<p>算法实现步骤:</p>
<p>a, 从样本中选择 K 个点作为初始质心<br>
b, 计算每个样本点到各个质心的距离, 将样本点划分到距离最近的质心所对应的簇中<br>
c, 计算每个簇内所有样本的均值, 使用该均值作为新的质心<br>
d, 重复 b 和 c, 重复一定次数质心一般会趋于稳定, 如果达到以下条件, 重复结束:<br>
– 质心位置变化小于指定的阈值<br>
– 达到最迭代环次数</p>
<p>对于算法的实现步骤, 我们有几个重要的疑问:</p>
<p>– 1.怎么评价质心是否达到了最佳位置?<br>
– 2.初始质心随机选, 还是选在哪里?<br>
– 3. K 值怎么定?</p>
<h2 id="3-算法优化目标">3, 算法优化目标</h2>
<p>样本的相似度是根据距离来度量的, 一般使用簇内 <strong>误差平方和</strong> (within-cluster SSE 簇惯性) 来作为优化算法的目标函数,
距离常用欧氏距离, 优化目标就是使 SSE 最小化:</p>

<span class="math align-center">$$S S E=\sum_{i=1}^{k}
\sum_{j=1}^{m_{i}}\left(\left|x_{j}-\mu_{i}\right|^{2}\right)$$</span><p>k: 族的数量</p>
<p>
<span class="math align-center">$m_{i}$</span>: 第 i 个簇含有的样本数量</p>
<p>
<span class="math align-center">${\mu}_{i}$</span>: 第 i 个族的质心</p>
<p>
<span class="math align-center">$\left|x_{j}-\mu_{i}\right|$</span>: 第 i 个族中，每个样本 
<span class="math align-center">$x_{j}$</span> 与质心 
<span class="math align-center">$\mu_{i}$</span> 的距离</p>
<p>同一个数据集, 相同的簇数, SSE 越小, 通常质心位置更佳, 算法模型更好</p>
<h2 id="4-初始质心的影响">4, 初始质心的影响</h2>
<p>初始质心可以随机选择, 但由于算法是通过迭代初始质心一步步实现, 初始质心的位置受随机性影响, 算法训练的最终结果也会受到影响</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.cluster <span style="color:#f92672">import</span> KMeans  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.datasets <span style="color:#f92672">import</span> make_blobs  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.family&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Microsoft YaHei&#39;</span>   
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.size&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>   
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;axes.unicode_minus&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">False</span>   
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">生成数据:  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">n_samples: 样本数量  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">n_features: 特征数  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">centers: 聚类中心  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">cluster_std: 簇的标准差, 可以统一指定, 也分别指定  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;&#39;&#39;</span>  
</span></span><span style="display:flex;"><span>centers <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>], [<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">2</span>], [<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">5</span>]]  
</span></span><span style="display:flex;"><span>x, y <span style="color:#f92672">=</span> make_blobs(n_samples<span style="color:#f92672">=</span><span style="color:#ae81ff">90</span>,  
</span></span><span style="display:flex;"><span>                  n_features<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,  
</span></span><span style="display:flex;"><span>                  centers<span style="color:#f92672">=</span>centers,  
</span></span><span style="display:flex;"><span>                  cluster_std<span style="color:#f92672">=</span>[<span style="color:#ae81ff">2.2</span>, <span style="color:#ae81ff">2.5</span>, <span style="color:#ae81ff">2</span>],  
</span></span><span style="display:flex;"><span>                  random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># x 是特征, y 是类别标签  </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘制原始数据  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">12</span>,<span style="color:#ae81ff">8</span>))  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">221</span>)  
</span></span><span style="display:flex;"><span>colors <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([<span style="color:#e6db74">&#39;Coral&#39;</span>, <span style="color:#e6db74">&#39;SeaGreen&#39;</span>, <span style="color:#e6db74">&#39;RoyalBlue&#39;</span>])  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(x[:, <span style="color:#ae81ff">0</span>], x[:, <span style="color:#ae81ff">1</span>], c<span style="color:#f92672">=</span>colors[y], marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;.&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;原始数据&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">&#39;原始数据&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义绘制聚类结果的函数  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">plot_cluster</span>(model, train, test<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>):  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">global</span> colors  <span style="color:#75715e"># 使用上面的颜色  </span>
</span></span><span style="display:flex;"><span>    cc <span style="color:#f92672">=</span> model<span style="color:#f92672">.</span>cluster_centers_ <span style="color:#75715e"># 获取质心  </span>
</span></span><span style="display:flex;"><span>    label <span style="color:#f92672">=</span> model<span style="color:#f92672">.</span>labels_ <span style="color:#75715e"># 获取聚类结果的标签  </span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 绘制质心  </span>
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>scatter(cc[:, <span style="color:#ae81ff">0</span>], <span style="color:#75715e"># 质心的 x 坐标  </span>
</span></span><span style="display:flex;"><span>                cc[:, <span style="color:#ae81ff">1</span>], <span style="color:#75715e"># 质心的 y 坐标  </span>
</span></span><span style="display:flex;"><span>                marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;*&#39;</span>,  
</span></span><span style="display:flex;"><span>                s<span style="color:#f92672">=</span><span style="color:#ae81ff">150</span>,  
</span></span><span style="display:flex;"><span>                c<span style="color:#f92672">=</span>colors)  
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 绘制训练集  </span>
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>scatter(train[:, <span style="color:#ae81ff">0</span>], train[:, <span style="color:#ae81ff">1</span>], marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;.&#39;</span>, c<span style="color:#f92672">=</span>colors[label])  
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 绘制测试集  </span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> test <span style="color:#f92672">is</span> <span style="color:#f92672">not</span> <span style="color:#66d9ef">None</span>:  
</span></span><span style="display:flex;"><span>        y_hat <span style="color:#f92672">=</span> model<span style="color:#f92672">.</span>predict(test)  
</span></span><span style="display:flex;"><span>        plt<span style="color:#f92672">.</span>scatter(test[:, <span style="color:#ae81ff">0</span>], test[:, <span style="color:#ae81ff">1</span>], marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;+&#39;</span>,  
</span></span><span style="display:flex;"><span>                    s<span style="color:#f92672">=</span><span style="color:#ae81ff">150</span>, c<span style="color:#f92672">=</span>colors[y_hat])          
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 标题  </span>
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;SSE:</span><span style="color:#e6db74">{</span>model<span style="color:#f92672">.</span>inertia_<span style="color:#e6db74">:</span><span style="color:#e6db74">.1f</span><span style="color:#e6db74">}</span><span style="color:#e6db74"> 迭代次数:</span><span style="color:#e6db74">{</span>model<span style="color:#f92672">.</span>n_iter_<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 测试集  </span>
</span></span><span style="display:flex;"><span>test <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>array([[<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">5</span>]])      
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘制不同初始质心的聚类结果  </span>
</span></span><span style="display:flex;"><span>seed <span style="color:#f92672">=</span> [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">10</span>, <span style="color:#ae81ff">100</span>]  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">5</span>):  
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>, i)  
</span></span><span style="display:flex;"><span>    kmeans <span style="color:#f92672">=</span> KMeans(n_clusters<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, <span style="color:#75715e"># 簇数  </span>
</span></span><span style="display:flex;"><span>                    init<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;random&#39;</span>, <span style="color:#75715e"># 初始化方式  </span>
</span></span><span style="display:flex;"><span>                    n_init<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, <span style="color:#75715e"># 初始化质心组数  </span>
</span></span><span style="display:flex;"><span>                    random_state<span style="color:#f92672">=</span>seed[i<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>])  
</span></span><span style="display:flex;"><span>    kmeans<span style="color:#f92672">.</span>fit(x)  
</span></span><span style="display:flex;"><span>    plot_cluster(kmeans, x)  
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 测试结果  </span>
</span></span><span style="display:flex;"><span>    plot_cluster(kmeans, x, test)  
</span></span></code></pre></div><p><img src="output_1_0.png" alt="png"></p>
<p>从上图可以看出受初始化质心的影响, 聚类效果(SSE) 与 收敛速度(迭代次数) 会不同, 也即是可能会收敛到局部最小, 而不是整体最优; 同时,
也可以看出 SSE 越小, 整体结果越优, 越接近原始数据</p>
<h2 id="5-k-means-优化">5, K-Means++ 优化</h2>
<p>针对上述初始化质心造成的问题, 设置初始化多组质心可以得到缓解, 但通常限于聚类簇数较少的情况, 如果簇数较多, 可能就不会有效</p>
<p>于是有了 K-Means++, 选择初始化质心时, 不在随机选, 而是按下述步骤进行选择:</p>
<p>– 1, 从训练数据中随机选择一个样本点, 作为初始质心<br>
– 2, 对任意一个非质心样本点 
<span class="math align-center">$x^{(i)}$</span>, 计算 
<span class="math align-center">$x^{(i)}$</span> 与现有最近质心的距离 
<span class="math align-center">$D\left(x^{(i)}\right)$</span><br>
– 3, 根据概率 
<span class="math align-center">$\frac{D\left(x^{(i)}\right)^{2}}{\sum_{j=1}^{m}D\left(x^{(j)}\right)^{2}}$</span> 最大, 来选择最远的一个样本点 
<span class="math align-center">$x^{(i)}$</span> 作为质心, m 为非质心样本点数量<br>
– 4, 重复 2 和 3, 直到选择了 K 个质心为止</p>
<p>做了优化之后, 保证了初始质心不会集中, 而是分散在数据集中</p>
<p>下面试试 K-Means++ 的聚类效果:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>kmeans <span style="color:#f92672">=</span> KMeans(n_clusters<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>, init<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;k-means++&#39;</span>, n_init<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>kmeans<span style="color:#f92672">.</span>fit(x)  
</span></span><span style="display:flex;"><span>plot_cluster(kmeans, x)  
</span></span></code></pre></div><p><img src="output_3_0.png" alt="png"></p>
<h2 id="6-确定-k-值">6, 确定 K 值</h2>
<p>K 是超参数, 需要预先人为指定</p>
<p>有时需要按照建模的需求和目的来选择聚类的个数, 但是 K 值选择不当, 聚类效果可能不佳. 例如实际 3 类, K 选了 10, 或者 K 无限制,
取值和样本点个数一样, 最后每个点一个类, SEE 为 0, 但是聚类已经毫无意义</p>
<p>如果不是硬性要求 K 的取值, 怎么确定最佳的 K 值呢? 一个比较好的方法就是 <strong>肘部法则</strong> :</p>
<p>SEE 需要越小越好, K 又不能取太大, 我们可以看看他们之间的关系:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 设置列表储存 SSE  </span>
</span></span><span style="display:flex;"><span>sse <span style="color:#f92672">=</span> []  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># K 值从 1~9 变化  </span>
</span></span><span style="display:flex;"><span>scope <span style="color:#f92672">=</span> range(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">10</span>)  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> k <span style="color:#f92672">in</span> scope:  
</span></span><span style="display:flex;"><span>    kmeans <span style="color:#f92672">=</span> KMeans(n_clusters<span style="color:#f92672">=</span>k)  
</span></span><span style="display:flex;"><span>    kmeans<span style="color:#f92672">.</span>fit(x)  
</span></span><span style="display:flex;"><span>    sse<span style="color:#f92672">.</span>append(kmeans<span style="color:#f92672">.</span>inertia_)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>xticks(scope)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>plot(scope, sse, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;o&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()  
</span></span></code></pre></div><p><img src="output_5_0.png" alt="png"></p>
<p>从上图可以看出, K 增加, SSE 减小, 但当 K &gt; 3 时, K 再增加, SSE 减小变得缓慢, 所以 K 选择 3, 实际情况也是 3</p>
<h2 id="6-mini-batch-k-means">6, Mini Batch K-Means</h2>
<p>K-Means 每次迭代都会使用所有数据参与运算, 当数据集较大时, 会比较耗时. Mini Batch K-Means (小批量 K-Means)
算法每次迭代使用小批量样本训练, 逐批次累计的方式进行计算, 从而大大减少计算时间. 效果上, 通常只是略差于 K-Means</p>
<p>Mini Batch K-Means 算法实现步骤:</p>
<p>a, 从数据集中随机选择部分数据, 使用 K-Means 算法在这部分数据上聚类, 获取质心<br>
b, 再从数据集中随机选择部分数据, 分别分配给最近的质心<br>
c, 每个簇根据现有的数据集更新质心<br>
d, 重复 b 和 c, 直到质心变化小于指定阈值或达到最大迭代次数</p>
<p>下面比较一下两个算法:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> time  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.cluster <span style="color:#f92672">import</span> MiniBatchKMeans  
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> sklearn.metrics.pairwise <span style="color:#f92672">import</span> pairwise_distances_argmin  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> warnings
</span></span><span style="display:flex;"><span>warnings<span style="color:#f92672">.</span>filterwarnings(<span style="color:#e6db74">&#39;ignore&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 生成数据  </span>
</span></span><span style="display:flex;"><span>centers <span style="color:#f92672">=</span> [[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>], [<span style="color:#ae81ff">400</span>, <span style="color:#ae81ff">100</span>], [<span style="color:#ae81ff">100</span>, <span style="color:#ae81ff">400</span>]]  
</span></span><span style="display:flex;"><span>x, y <span style="color:#f92672">=</span> make_blobs(n_samples<span style="color:#f92672">=</span><span style="color:#ae81ff">8000</span>, n_features<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>, centers<span style="color:#f92672">=</span>centers,  
</span></span><span style="display:flex;"><span>                  cluster_std<span style="color:#f92672">=</span><span style="color:#ae81ff">120</span>, random_state<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义函数, 用于计算模型训练时间  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">elapsed_time</span>(model, data):  
</span></span><span style="display:flex;"><span>    start <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>time()  
</span></span><span style="display:flex;"><span>    model<span style="color:#f92672">.</span>fit(data)  
</span></span><span style="display:flex;"><span>    end <span style="color:#f92672">=</span> time<span style="color:#f92672">.</span>time()  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> end <span style="color:#f92672">-</span> start  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>n_clusters <span style="color:#f92672">=</span> len(centers)  
</span></span><span style="display:flex;"><span>kmeans <span style="color:#f92672">=</span> KMeans(n_clusters<span style="color:#f92672">=</span>n_clusters)  
</span></span><span style="display:flex;"><span>mbk <span style="color:#f92672">=</span> MiniBatchKMeans(n_clusters<span style="color:#f92672">=</span>n_clusters,  
</span></span><span style="display:flex;"><span>                      batch_size<span style="color:#f92672">=</span><span style="color:#ae81ff">200</span>, <span style="color:#75715e"># 小批量的大小  </span>
</span></span><span style="display:flex;"><span>                     n_init<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span> <span style="color:#75715e"># 和 KMeans 统一为 10  </span>
</span></span><span style="display:flex;"><span>                     )  
</span></span><span style="display:flex;"><span>kmeans_time <span style="color:#f92672">=</span> elapsed_time(kmeans, x)  
</span></span><span style="display:flex;"><span>mbk_time <span style="color:#f92672">=</span> elapsed_time(mbk, x)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;K-Means耗时:&#39;</span>, kmeans_time)  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;Mini Batch K-Means耗时:&#39;</span>, mbk_time)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 绘制聚类效果  </span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">5</span>))  
</span></span><span style="display:flex;"><span>model <span style="color:#f92672">=</span> [kmeans, mbk]  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i, m <span style="color:#f92672">in</span> enumerate(model, start<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>):  
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, i)  
</span></span><span style="display:flex;"><span>    plot_cluster(m, x)  
</span></span></code></pre></div><pre><code>K-Means耗时: 0.051812171936035156
Mini Batch K-Means耗时: 0.04886937141418457
</code></pre>
<p><img src="output_7_1.png" alt="png"></p>
<p>可见, 聚类耗时 K-Means 更多, 如果数据量很大, 耗时会更明显, 而聚类效果基本一样. 但发现颜色对不上, 这是因为质心的随机性,
聚类之后质心虽然最终落在相同的位置, 但是顺序不一致, 从而聚类的结果标签不一致, 即使是同一个算法, 运行几次, 标签结果也会不一致</p>
<p>我们将相同簇用相同的颜色绘制:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">12</span>, <span style="color:#ae81ff">5</span>))  
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 定义列表, 用来保存两个模型预测结果  </span>
</span></span><span style="display:flex;"><span>y_hat_list <span style="color:#f92672">=</span> []  
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i, m <span style="color:#f92672">in</span> enumerate(model, start<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>):  
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, i)  
</span></span><span style="display:flex;"><span>    y_hat <span style="color:#f92672">=</span> m<span style="color:#f92672">.</span>predict(x)  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> m <span style="color:#f92672">==</span> mbk:  
</span></span><span style="display:flex;"><span>        <span style="color:#e6db74">&#39;&#39;&#39;  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        因为输出的质心顺序就是训练结果标签的顺序  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        故可以按 mbk 训练的质心, 去找 kmeans 训练的相同簇的质心  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        pairwise_distances_argmin(x, y) 解释:  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        依次取出数组 X 中的元素 x,   
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        计算找到数组 Y 中与 x 距离最近的元素 y 的索引,   
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        返回索引构成的数组  
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        &#39;&#39;&#39;</span>  
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 将两者相同簇的质心一一对应并按 mbk 质心的顺序封装成字典  </span>
</span></span><span style="display:flex;"><span>        ar <span style="color:#f92672">=</span> pairwise_distances_argmin(  
</span></span><span style="display:flex;"><span>        mbk<span style="color:#f92672">.</span>cluster_centers_, kmeans<span style="color:#f92672">.</span>cluster_centers_)  
</span></span><span style="display:flex;"><span>        dict_ <span style="color:#f92672">=</span> dict(enumerate(ar))  
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># 用 mbk 的训练结果标签 y_hat 就可以寻找到对应的 kmeans 的质心  </span>
</span></span><span style="display:flex;"><span>        y_hat <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(y_hat)<span style="color:#f92672">.</span>map(dict_)<span style="color:#f92672">.</span>values  
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 将预测结果加入到列表中  </span>
</span></span><span style="display:flex;"><span>    y_hat_list<span style="color:#f92672">.</span>append(y_hat)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>scatter(x[:, <span style="color:#ae81ff">0</span>], x[:, <span style="color:#ae81ff">1</span>], c<span style="color:#f92672">=</span>colors[y_hat], marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;.&#39;</span>)  
</span></span></code></pre></div><p><img src="output_9_0.png" alt="png"></p>
<p>比较两个算法聚类结果的差异:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>same <span style="color:#f92672">=</span> y_hat_list[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> y_hat_list[<span style="color:#ae81ff">1</span>]  
</span></span><span style="display:flex;"><span>diff <span style="color:#f92672">=</span> y_hat_list[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">!=</span> y_hat_list[<span style="color:#ae81ff">1</span>]  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(x[same, <span style="color:#ae81ff">0</span>], x[same, <span style="color:#ae81ff">1</span>], c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;g&#39;</span>, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;.&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;预测相同&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>scatter(x[diff, <span style="color:#ae81ff">0</span>], x[diff, <span style="color:#ae81ff">1</span>], c<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;r&#39;</span>, marker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;.&#39;</span>, label<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;预测不同&#39;</span>)  
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>legend()  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;相同数量:&#39;</span>, x[same]<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>])  
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#39;不同数量:&#39;</span>, x[diff]<span style="color:#f92672">.</span>shape[<span style="color:#ae81ff">0</span>])  
</span></span></code></pre></div><pre><code>相同数量: 7967
不同数量: 33
</code></pre>
<p><img src="output_11_1.png" alt="png"></p>
<p>两个算法聚类结果只有 33 个样本点不同</p>

            <footer class="footline">
            </footer>
          </article>

          </section>
              </section>        </div>
      </main>
    </div>
    <aside id="sidebar" class="default-animation showVisitedLinks">
      <div id="header-wrapper" class="default-animation">
        <div id="header" class="default-animation">
          <a id="logo" href="/">
            <br><font face="serif" size="6" color="#17202A"><b>🏠Jupyter.fun</b></font>
          </a>
        </div>
        <div class="searchbox default-animation">
          <label for="search-by"><i class="fas fa-search"></i></label>
          <input data-search-input id="search-by" type="search" placeholder="搜索...">
          <span data-search-clear=""><i class="fas fa-times"></i></span>
        </div>
        <script>
          var contentLangs=['zh'];
        </script>
        <script src="/js/auto-complete.js?1733232841" defer></script>
        <script src="/js/lunr.min.js?1733232841" defer></script>
        <script src="/js/lunr.stemmer.support.min.js?1733232841" defer></script>
        <script src="/js/lunr.multi.min.js?1733232841" defer></script>
        <script src="/js/lunr.zh.min.js?1733232841" defer></script>
        <script src="/js/search.js?1733232841" defer></script>
      </div>
      <div id="content-wrapper" class="highlightable">
        <ul class="topics">
          <li data-nav-id="/python/" title="Python 语法基础知识详解和查询手册" class="dd-item"><input type="checkbox" id="section-c8861a2651b27ee3930a98ce392020d1" class="toggle"/><label for="section-c8861a2651b27ee3930a98ce392020d1" ></label><a href="/python/">Python<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/01_numeric/" title="数字类型概述" class="dd-item"><input type="checkbox" id="section-f26ae7da78c4758569d4b453b66b4231" class="toggle"/><label for="section-f26ae7da78c4758569d4b453b66b4231" ></label><a href="/python/01_numeric/">数字类型<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/01_numeric/02_int/" title="整数及其位运算" class="dd-item"><a href="/python/01_numeric/02_int/">整数及其位运算<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/01_numeric/03_bool/" title="布尔值及布尔运算" class="dd-item"><a href="/python/01_numeric/03_bool/">布尔值及布尔运算<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/01_numeric/04_float/" title="浮点数" class="dd-item"><a href="/python/01_numeric/04_float/">浮点数<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/01_numeric/05_complex/" title="复数" class="dd-item"><a href="/python/01_numeric/05_complex/">复数<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/01_numeric/06_number_operations/" title="数字运算" class="dd-item"><a href="/python/01_numeric/06_number_operations/">数字运算<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/02_string/" title="字符串概述" class="dd-item"><input type="checkbox" id="section-0a8894164d573ed7362e26196efabc7a" class="toggle"/><label for="section-0a8894164d573ed7362e26196efabc7a" ></label><a href="/python/02_string/">字符串<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/02_string/02_concatenated_string/" title="字符串拼接" class="dd-item"><a href="/python/02_string/02_concatenated_string/">字符串拼接<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/03_escape_character/" title="转义字符" class="dd-item"><a href="/python/02_string/03_escape_character/">转义字符<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/04_str.count/" title="str.count 统计" class="dd-item"><a href="/python/02_string/04_str.count/">str.count<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/05_str.replace/" title="str.replace 替换" class="dd-item"><a href="/python/02_string/05_str.replace/">str.replace<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/06_str.expandtabs/" title="str.expandtabs 替换制表符" class="dd-item"><a href="/python/02_string/06_str.expandtabs/">str.expandtabs<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/07_str.split/" title="str.split 拆分" class="dd-item"><a href="/python/02_string/07_str.split/">str.split<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/08_str.rsplit/" title="str.rsplit 拆分" class="dd-item"><a href="/python/02_string/08_str.rsplit/">str.rsplit<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/09_str.partition/" title="str.partition 拆分" class="dd-item"><a href="/python/02_string/09_str.partition/">str.partition<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/10_str.rpartition/" title="str.rpartition 拆分" class="dd-item"><a href="/python/02_string/10_str.rpartition/">str.rpartition<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/11_str.splitlines/" title="str.splitlines 按行拆分" class="dd-item"><a href="/python/02_string/11_str.splitlines/">str.splitlines<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/12_str.strip/" title="str.strip 移除两边字符" class="dd-item"><a href="/python/02_string/12_str.strip/">str.strip<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/13_str.lstrip/" title="str.lstrip 移除左边字符" class="dd-item"><a href="/python/02_string/13_str.lstrip/">str.lstrip<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/14_str.rstrip/" title="str.rstrip 移除右边字符" class="dd-item"><a href="/python/02_string/14_str.rstrip/">str.rstrip<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/15_str.find/" title="str.find 查找最小索引" class="dd-item"><a href="/python/02_string/15_str.find/">str.find<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/16_str.rfind/" title="str.rfind 查找最大索引" class="dd-item"><a href="/python/02_string/16_str.rfind/">str.rfind<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/17_str.index/" title="str.index 查找最小索引" class="dd-item"><a href="/python/02_string/17_str.index/">str.index<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/18_str.rindex/" title="str.rindex 查找最大索引" class="dd-item"><a href="/python/02_string/18_str.rindex/">str.rindex<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/19_str.join/" title="str.join 拼接字符串" class="dd-item"><a href="/python/02_string/19_str.join/">str.join<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/20_str.startswith/" title="str.startswith 指定字符串开头？" class="dd-item"><a href="/python/02_string/20_str.startswith/">str.startswith<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/21_str.endswith/" title="str.endswith 指定字符串结尾？" class="dd-item"><a href="/python/02_string/21_str.endswith/">str.endswith<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/22_str.ljust/" title="str.ljust 左对齐" class="dd-item"><a href="/python/02_string/22_str.ljust/">str.ljust<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/23_str.center/" title="str.center 居中" class="dd-item"><a href="/python/02_string/23_str.center/">str.center<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/24_str.rjust/" title="str.rjust 右对齐" class="dd-item"><a href="/python/02_string/24_str.rjust/">str.rjust<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/25_str.format/" title="str.format 格式化" class="dd-item"><a href="/python/02_string/25_str.format/">str.format<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/26_str.format_map/" title="str.format_map 格式化" class="dd-item"><a href="/python/02_string/26_str.format_map/">str.format_map<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/27_f-string/" title="f-string 格式化字符串" class="dd-item"><a href="/python/02_string/27_f-string/">f-string 格式化<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/28_string_operators/" title="字符串操作符" class="dd-item"><a href="/python/02_string/28_string_operators/">字符串操作符<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/29_str.encode/" title="str.encode 编码为字节串" class="dd-item"><a href="/python/02_string/29_str.encode/">str.encode<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/30_str.capitalize/" title="str.capitalize 首字符大写" class="dd-item"><a href="/python/02_string/30_str.capitalize/">str.capitalize<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/31_str.casefold/" title="str.casefold 消除大小写" class="dd-item"><a href="/python/02_string/31_str.casefold/">str.casefold<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/32_str.lower/" title="str.lower 转小写" class="dd-item"><a href="/python/02_string/32_str.lower/">str.lower<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/33_str.title/" title="str.title 单词首字母大写" class="dd-item"><a href="/python/02_string/33_str.title/">str.title<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/34_str.upper/" title="str.upper 转大写" class="dd-item"><a href="/python/02_string/34_str.upper/">str.upper<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/35_str.swapcase/" title="str.swapcase 大小写互转" class="dd-item"><a href="/python/02_string/35_str.swapcase/">str.swapcase<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/36_str.zfill/" title="str.zfill 填充 0" class="dd-item"><a href="/python/02_string/36_str.zfill/">str.zfill<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/37_str.translate/" title="str.translate 按表转换" class="dd-item"><a href="/python/02_string/37_str.translate/">str.translate<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/38_str.maketrans/" title="str.maketrans 生成转换表" class="dd-item"><a href="/python/02_string/38_str.maketrans/">str.maketrans<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/39_str.isalnum/" title="str.isalnum 是字母或数字？" class="dd-item"><a href="/python/02_string/39_str.isalnum/">str.isalnum<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/40_str.isalpha/" title="str.isalpha 是字母（包括汉字等）？" class="dd-item"><a href="/python/02_string/40_str.isalpha/">str.isalpha<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/41_str.isdecimal/" title="str.isdecimal 是十进制字符？" class="dd-item"><a href="/python/02_string/41_str.isdecimal/">str.isdecimal<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/42_str.isdigit/" title="str.isdigit 是数字？" class="dd-item"><a href="/python/02_string/42_str.isdigit/">str.isdigit<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/43_str.isnumeric/" title="str.isnumeric 是数值字符？" class="dd-item"><a href="/python/02_string/43_str.isnumeric/">str.isnumeric<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/44_str.islower/" title="str.islower 是小写？" class="dd-item"><a href="/python/02_string/44_str.islower/">str.islower<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/45_str.isupper/" title="str.isupper 是大写？" class="dd-item"><a href="/python/02_string/45_str.isupper/">str.isupper<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/46_str.istitle/" title="str.istitle 是标题字符串？" class="dd-item"><a href="/python/02_string/46_str.istitle/">str.istitle<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/47_str.isascii/" title="str.isascii 是 ASCII 字符？" class="dd-item"><a href="/python/02_string/47_str.isascii/">str.isascii<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/48_str.isidentifier/" title="str.isidentifier 是有效标识符？" class="dd-item"><a href="/python/02_string/48_str.isidentifier/">str.isidentifier<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/49_str.isprintable/" title="str.isprintable 是可打印字符？" class="dd-item"><a href="/python/02_string/49_str.isprintable/">str.isprintable<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/50_str.isspace/" title="str.isspace 是空白字符？" class="dd-item"><a href="/python/02_string/50_str.isspace/">str.isspace<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/51_str.removeprefix/" title="str.removeprefix  移除前缀" class="dd-item"><a href="/python/02_string/51_str.removeprefix/">str.removeprefix<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/52_str.removesuffix/" title="str.removesuffix 移除后缀" class="dd-item"><a href="/python/02_string/52_str.removesuffix/">str.removesuffix<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/03_list/" title="列表" class="dd-item"><input type="checkbox" id="section-9dce683949d5d69d823966a12cca5136" class="toggle"/><label for="section-9dce683949d5d69d823966a12cca5136" ></label><a href="/python/03_list/">列表概述<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/03_list/02_list_comprehension/" title="列表推导式" class="dd-item"><a href="/python/03_list/02_list_comprehension/">列表推导式<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/03_list_indexes_and_slices/" title="列表的索引和切片" class="dd-item"><a href="/python/03_list/03_list_indexes_and_slices/">列表的索引和切片<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/15_list.clear/" title="list.clear 删除所有元素" class="dd-item"><a href="/python/03_list/15_list.clear/">list.clear<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/04_list_operator/" title="列表操作符" class="dd-item"><a href="/python/03_list/04_list_operator/">列表操作符<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/05_list.append/" title="list.append 添加一个元素" class="dd-item"><a href="/python/03_list/05_list.append/">list.append<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/06_list.extend/" title="list.extend 加入可迭代对象中元素" class="dd-item"><a href="/python/03_list/06_list.extend/">list.extend<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/07_list.insert/" title="list.insert 插入一个元素" class="dd-item"><a href="/python/03_list/07_list.insert/">list.insert<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/08_list.sort/" title="list.sort 对列表原地排序" class="dd-item"><a href="/python/03_list/08_list.sort/">list.sort<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/09_list.reverse/" title="list.reverse 反转列表中元素" class="dd-item"><a href="/python/03_list/09_list.reverse/">list.reverse<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/10_list.pop/" title="list.pop 删除元素并返回" class="dd-item"><a href="/python/03_list/10_list.pop/">list.pop<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/11_list.remove/" title="list.remove 移除一个元素" class="dd-item"><a href="/python/03_list/11_list.remove/">list.remove<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/12_list.count/" title="list.count 统计元素出现次数" class="dd-item"><a href="/python/03_list/12_list.count/">list.count<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/13_list.index/" title="list.index 查找最小索引" class="dd-item"><a href="/python/03_list/13_list.index/">list.index<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/14_list.copy/" title="list.copy 列表的一个浅拷贝" class="dd-item"><a href="/python/03_list/14_list.copy/">list.copy<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/04_tuple/" title="元组概述" class="dd-item"><input type="checkbox" id="section-dc7ea79191f25dfd309c92b5e4905cab" class="toggle"/><label for="section-dc7ea79191f25dfd309c92b5e4905cab" ></label><a href="/python/04_tuple/">元组<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/04_tuple/02_tuple.count/" title="tuple.count 统计元素出现次数" class="dd-item"><a href="/python/04_tuple/02_tuple.count/">tuple.count<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/04_tuple/03_tuple.index/" title="tuple.index 查找元素索引" class="dd-item"><a href="/python/04_tuple/03_tuple.index/">tuple.index<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/04_tuple/04_operator/" title="元组操作符" class="dd-item"><a href="/python/04_tuple/04_operator/">元组操作符<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/05_sequence/" title="序列类型概述" class="dd-item"><input type="checkbox" id="section-b631793e0b67cf3997ee6b6ccb5a1018" class="toggle"/><label for="section-b631793e0b67cf3997ee6b6ccb5a1018" ></label><a href="/python/05_sequence/">序列<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/05_sequence/02_range/" title="range 对象" class="dd-item"><a href="/python/05_sequence/02_range/">range<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/05_sequence/03_index_slice/" title="序列索引和切片" class="dd-item"><a href="/python/05_sequence/03_index_slice/">序列索引和切片<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/05_sequence/04_common_operations/" title="序列通用操作" class="dd-item"><a href="/python/05_sequence/04_common_operations/">序列通用操作<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/06_set/" title="集合概述" class="dd-item"><input type="checkbox" id="section-c643fef3f2d56a8ad628665722912338" class="toggle"/><label for="section-c643fef3f2d56a8ad628665722912338" ></label><a href="/python/06_set/">集合<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/06_set/02_set.isdisjoint/" title="set.isdisjoint 交集为空吗？" class="dd-item"><a href="/python/06_set/02_set.isdisjoint/">set.isdisjoint<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/03_set.issubset/" title="set.issubset 是子集吗？" class="dd-item"><a href="/python/06_set/03_set.issubset/">set.issubset<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/04_set.issuperset/" title="set.issuperset 是超集吗？" class="dd-item"><a href="/python/06_set/04_set.issuperset/">set.issuperset<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/05_set.union/" title="set.union 并集" class="dd-item"><a href="/python/06_set/05_set.union/">set.union<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/06_set.intersection/" title="set.intersection 交集" class="dd-item"><a href="/python/06_set/06_set.intersection/">set.intersection<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/07_set.difference/" title="set.difference 差集" class="dd-item"><a href="/python/06_set/07_set.difference/">set.difference<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/08_set.symmetric_difference/" title="set.symmetric_difference 对称差" class="dd-item"><a href="/python/06_set/08_set.symmetric_difference/">set.symmetric_difference<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/09_set.copy/" title="set.copy 浅拷贝" class="dd-item"><a href="/python/06_set/09_set.copy/">set.copy<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/10_set.update/" title="set.update 合并更新" class="dd-item"><a href="/python/06_set/10_set.update/">set.update<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/11_set.intersection_update/" title="set.intersection_update 交集更新" class="dd-item"><a href="/python/06_set/11_set.intersection_update/">set.intersection_update<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/12_set.difference_update/" title="set.difference_update 差集更新" class="dd-item"><a href="/python/06_set/12_set.difference_update/">set.difference_update<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/13_set.symmetric_difference_update/" title="set ^= other 对称差集更新" class="dd-item"><a href="/python/06_set/13_set.symmetric_difference_update/">set ^= other<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/14_set.add/" title="set.add 添加元素" class="dd-item"><a href="/python/06_set/14_set.add/">set.add<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/15_set.remove/" title="set.remove 删除元素" class="dd-item"><a href="/python/06_set/15_set.remove/">set.remove<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/16_set.discard/" title="set.discard 删除元素" class="dd-item"><a href="/python/06_set/16_set.discard/">set.discard<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/17_set.pop/" title="set.pop 删除元素并返回" class="dd-item"><a href="/python/06_set/17_set.pop/">set.pop<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/18_set.clear/" title="set.clear 清空集合元素" class="dd-item"><a href="/python/06_set/18_set.clear/">set.clear<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/07_dictionary/" title="字典概述" class="dd-item"><input type="checkbox" id="section-6edd912ea63088ea7d421ba4a9a6b0c9" class="toggle"/><label for="section-6edd912ea63088ea7d421ba4a9a6b0c9" ></label><a href="/python/07_dictionary/">字典<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/07_dictionary/02_dict.keys/" title="dict.keys 键视图" class="dd-item"><a href="/python/07_dictionary/02_dict.keys/">dict.keys<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/03_dict.values/" title="dict.values 值视图" class="dd-item"><a href="/python/07_dictionary/03_dict.values/">dict.values<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/04_dict.items/" title="dict.items 键值对视图" class="dd-item"><a href="/python/07_dictionary/04_dict.items/">dict.items<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/05_dict.get/" title="dict.get 获取某个键的值" class="dd-item"><a href="/python/07_dictionary/05_dict.get/">dict.get<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/06_dict.copy/" title="dict.copy 浅拷贝" class="dd-item"><a href="/python/07_dictionary/06_dict.copy/">dict.copy<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/07_dict.pop/" title="dict.pop 删除元素并返回值" class="dd-item"><a href="/python/07_dictionary/07_dict.pop/">dict.pop<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/08_dict.popitem/" title="dict.popitem 删除元素并返回键值对" class="dd-item"><a href="/python/07_dictionary/08_dict.popitem/">dict.popitem<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/09_dict.fromkeys/" title="dict.fromkeys 创建字典" class="dd-item"><a href="/python/07_dictionary/09_dict.fromkeys/">dict.fromkeys<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/10_dict.clear/" title="dict.clear 清空字典元素" class="dd-item"><a href="/python/07_dictionary/10_dict.clear/">dict.clear<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/11_dict.setdefault/" title="dict.setdefault 获取或插入元素" class="dd-item"><a href="/python/07_dictionary/11_dict.setdefault/">dict.setdefault<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/12_dict.update/" title="dict.update 更新字典" class="dd-item"><a href="/python/07_dictionary/12_dict.update/">dict.update<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/13_loop_through/" title="字典遍历" class="dd-item"><a href="/python/07_dictionary/13_loop_through/">字典遍历<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/14_operator/" title="字典操作符" class="dd-item"><a href="/python/07_dictionary/14_operator/">字典操作符<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/08_other_types/" title="生成器表达式和推导式" class="dd-item"><input type="checkbox" id="section-6dcb28ff486050e64e8c2098986ff9d6" class="toggle"/><label for="section-6dcb28ff486050e64e8c2098986ff9d6" ></label><a href="/python/08_other_types/">其他类型<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/08_other_types/01_none/" title="空值 None" class="dd-item"><a href="/python/08_other_types/01_none/">None<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/08_other_types/03_other_types/" title="其他内置类型" class="dd-item"><a href="/python/08_other_types/03_other_types/">其他内置类型<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/09_operator/" title="操作符概述" class="dd-item"><input type="checkbox" id="section-bf0c286771bede167ff18be220caecff" class="toggle"/><label for="section-bf0c286771bede167ff18be220caecff" ></label><a href="/python/09_operator/">操作符<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/09_operator/02_compare/" title="比较运算符" class="dd-item"><a href="/python/09_operator/02_compare/">比较运算符<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/09_operator/03_precedence/" title="操作符优先级" class="dd-item"><a href="/python/09_operator/03_precedence/">操作符优先级<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/09_operator/04_special/" title="操作符特殊用法" class="dd-item"><a href="/python/09_operator/04_special/">操作符特殊用法<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/10_statement/" title="表达式语句" class="dd-item"><input type="checkbox" id="section-64a5f0f51786f2cfc0f1a295e3568242" class="toggle"/><label for="section-64a5f0f51786f2cfc0f1a295e3568242" ></label><a href="/python/10_statement/">语句<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/10_statement/02_assignment/" title="赋值语句" class="dd-item"><a href="/python/10_statement/02_assignment/">赋值语句<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/03_if/" title="if" class="dd-item"><a href="/python/10_statement/03_if/">if<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/04_for/" title="for" class="dd-item"><a href="/python/10_statement/04_for/">for<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/05_while/" title="while" class="dd-item"><a href="/python/10_statement/05_while/">while<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/06_break/" title="break" class="dd-item"><a href="/python/10_statement/06_break/">break<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/07_continue/" title="continue" class="dd-item"><a href="/python/10_statement/07_continue/">continue<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/08_del/" title="del" class="dd-item"><a href="/python/10_statement/08_del/">del<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/09_pass/" title="pass" class="dd-item"><a href="/python/10_statement/09_pass/">pass<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/10_def/" title="def" class="dd-item"><a href="/python/10_statement/10_def/">def<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/11_return/" title="return" class="dd-item"><a href="/python/10_statement/11_return/">return<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/12_yield/" title="yield" class="dd-item"><a href="/python/10_statement/12_yield/">yield<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/13_class/" title="class 语句" class="dd-item"><a href="/python/10_statement/13_class/">class 语句<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/14_try/" title="try" class="dd-item"><a href="/python/10_statement/14_try/">try<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/15_raise/" title="raise" class="dd-item"><a href="/python/10_statement/15_raise/">raise<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/16_with/" title="with" class="dd-item"><a href="/python/10_statement/16_with/">with<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/17_assert/" title="assert" class="dd-item"><a href="/python/10_statement/17_assert/">assert<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/18_import/" title="import" class="dd-item"><a href="/python/10_statement/18_import/">import<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/19_global/" title="global" class="dd-item"><a href="/python/10_statement/19_global/">global<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/20_nonlocal/" title="nonlocal" class="dd-item"><a href="/python/10_statement/20_nonlocal/">nonlocal<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/11_built-in_function/" title="abs() 数字取绝对值" class="dd-item"><input type="checkbox" id="section-c688daa3d748f201265692938123fc94" class="toggle"/><label for="section-c688daa3d748f201265692938123fc94" ></label><a href="/python/11_built-in_function/">内置函数<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/11_built-in_function/02_all/" title="all() 所有元素布尔值为真？" class="dd-item"><a href="/python/11_built-in_function/02_all/">all()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/03_any/" title="any() 有一个元素布尔值为真？" class="dd-item"><a href="/python/11_built-in_function/03_any/">any()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/04_ascii/" title="ascii() 返回对象的可打印字符串" class="dd-item"><a href="/python/11_built-in_function/04_ascii/">ascii()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/05_bin/" title="bin() 整数的二进制形式" class="dd-item"><a href="/python/11_built-in_function/05_bin/">bin()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/06_bool/" title="bool 返回对象的布尔值" class="dd-item"><a href="/python/11_built-in_function/06_bool/">bool<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/07_bytes/" title="bytes 创建 bytes 对象" class="dd-item"><a href="/python/11_built-in_function/07_bytes/">bytes<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/08_callable/" title="callable() 是可调用对象？" class="dd-item"><a href="/python/11_built-in_function/08_callable/">callable()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/09_chr/" title="chr() 返回 Unicode 码位值对应字符" class="dd-item"><a href="/python/11_built-in_function/09_chr/">chr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/10_classmethod/" title="classmethod 封装函数为类方法" class="dd-item"><a href="/python/11_built-in_function/10_classmethod/">classmethod<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/11_compile/" title="compile() 创建代码对象" class="dd-item"><a href="/python/11_built-in_function/11_compile/">compile()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/12_complex/" title="complex 创建复数" class="dd-item"><a href="/python/11_built-in_function/12_complex/">complex<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/13_delattr/" title="delattr() 删除对象属性" class="dd-item"><a href="/python/11_built-in_function/13_delattr/">delattr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/14_dict/" title="dict 创建字典" class="dd-item"><a href="/python/11_built-in_function/14_dict/">dict<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/15_dir/" title="dir() 返回对象属性列表" class="dd-item"><a href="/python/11_built-in_function/15_dir/">dir()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/16_divmod/" title="divmod() 求两个数的商和余" class="dd-item"><a href="/python/11_built-in_function/16_divmod/">divmod()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/17_enumerate/" title="enumerate 枚举" class="dd-item"><a href="/python/11_built-in_function/17_enumerate/">enumerate<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/18_eval/" title="eval() 解析字符串或代码并求值" class="dd-item"><a href="/python/11_built-in_function/18_eval/">eval()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/19_exec/" title="exec() 解析字符串或代码并求值" class="dd-item"><a href="/python/11_built-in_function/19_exec/">exec()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/20_filter/" title="filter 真值元素筛选" class="dd-item"><a href="/python/11_built-in_function/20_filter/">filter<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/21_float/" title="float 创建浮点数" class="dd-item"><a href="/python/11_built-in_function/21_float/">float<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/22_format/" title="format() 格式化" class="dd-item"><a href="/python/11_built-in_function/22_format/">format()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/23_frozenset/" title="frozenset 创建不可变集合" class="dd-item"><a href="/python/11_built-in_function/23_frozenset/">frozenset<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/24_getattr/" title="getattr() 获取对象的属性" class="dd-item"><a href="/python/11_built-in_function/24_getattr/">getattr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/25_globals/" title="globals() 返回全局变量字典" class="dd-item"><a href="/python/11_built-in_function/25_globals/">globals()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/26_hasattr/" title="hasattr() 是对象的属性吗？" class="dd-item"><a href="/python/11_built-in_function/26_hasattr/">hasattr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/27_hash/" title="hash() 返回对象的哈希值" class="dd-item"><a href="/python/11_built-in_function/27_hash/">hash()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/28_help/" title="help 启动帮助系统" class="dd-item"><a href="/python/11_built-in_function/28_help/">help<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/29_hex/" title="hex() 整数的十六进制形式" class="dd-item"><a href="/python/11_built-in_function/29_hex/">hex()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/30_id/" title="id() 返回对象的唯一标识" class="dd-item"><a href="/python/11_built-in_function/30_id/">id()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/31_input/" title="input() 接受输入返回字符串" class="dd-item"><a href="/python/11_built-in_function/31_input/">input()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/32_int/" title="int 创建整数" class="dd-item"><a href="/python/11_built-in_function/32_int/">int<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/33_isinstance/" title="isinstance() 是给定类的实例？" class="dd-item"><a href="/python/11_built-in_function/33_isinstance/">isinstance()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/34_issubclass/" title="issubclass() 是给定类的子类吗？" class="dd-item"><a href="/python/11_built-in_function/34_issubclass/">issubclass()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/35_iter/" title="iter() 转迭代器" class="dd-item"><a href="/python/11_built-in_function/35_iter/">iter()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/36_len/" title="len() 返回元素个数" class="dd-item"><a href="/python/11_built-in_function/36_len/">len()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/37_list/" title="list 创建列表" class="dd-item"><a href="/python/11_built-in_function/37_list/">list<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/38_locals/" title="locals() 返回局部变量的字典" class="dd-item"><a href="/python/11_built-in_function/38_locals/">locals()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/39_map/" title="map 以给定函数转换元素" class="dd-item"><a href="/python/11_built-in_function/39_map/">map<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/40_max/" title="max() 求最大项" class="dd-item"><a href="/python/11_built-in_function/40_max/">max()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/41_min/" title="min() 求最小项" class="dd-item"><a href="/python/11_built-in_function/41_min/">min()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/42_next/" title="next() 返回迭代器下一个元素" class="dd-item"><a href="/python/11_built-in_function/42_next/">next()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/43_object/" title="object 所有类的基类" class="dd-item"><a href="/python/11_built-in_function/43_object/">object<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/44_oct/" title="oct() 整数的八进制形式" class="dd-item"><a href="/python/11_built-in_function/44_oct/">oct()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/45_open/" title="open() 打开文件" class="dd-item"><a href="/python/11_built-in_function/45_open/">open()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/46_ord/" title="ord() 返回单个字符 Unicode 码位值" class="dd-item"><a href="/python/11_built-in_function/46_ord/">ord()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/47_pow/" title="pow() 幂运算并取余" class="dd-item"><a href="/python/11_built-in_function/47_pow/">pow()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/48_print/" title="print()" class="dd-item"><a href="/python/11_built-in_function/48_print/">print()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/49_property/" title="property 返回 property 属性" class="dd-item"><a href="/python/11_built-in_function/49_property/">property<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/50_range/" title="range 创建 range 序列" class="dd-item"><a href="/python/11_built-in_function/50_range/">range<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/51_repr/" title="repr() 返回对象的可打印字符串" class="dd-item"><a href="/python/11_built-in_function/51_repr/">repr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/52_reversed/" title="reversed 序列逆置" class="dd-item"><a href="/python/11_built-in_function/52_reversed/">reversed<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/53_round/" title="round() 数字舍入" class="dd-item"><a href="/python/11_built-in_function/53_round/">round()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/54_set/" title="set 创建集合" class="dd-item"><a href="/python/11_built-in_function/54_set/">set<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/55_setattr/" title="setattr() 设置或新增属性" class="dd-item"><a href="/python/11_built-in_function/55_setattr/">setattr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/56_slice/" title="slice 创建切片对象" class="dd-item"><a href="/python/11_built-in_function/56_slice/">slice<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/57_sorted/" title="sorted() 返回排序列表" class="dd-item"><a href="/python/11_built-in_function/57_sorted/">sorted()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/58_staticmethod/" title="staticmethod 封装函数为静态方法" class="dd-item"><a href="/python/11_built-in_function/58_staticmethod/">staticmethod<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/59_str/" title="str 创建字符串" class="dd-item"><a href="/python/11_built-in_function/59_str/">str<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/60_sum/" title="sum() 数字求和或序列拼接" class="dd-item"><a href="/python/11_built-in_function/60_sum/">sum()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/61_super/" title="super 调用委托给父类或兄弟类" class="dd-item"><a href="/python/11_built-in_function/61_super/">super<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/62_tuple/" title="tuple 创建元组" class="dd-item"><a href="/python/11_built-in_function/62_tuple/">tuple<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/63_type/" title="type 判断类型或创建类" class="dd-item"><a href="/python/11_built-in_function/63_type/">type<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/64_vars/" title="vars() 返回对象的变量字典" class="dd-item"><a href="/python/11_built-in_function/64_vars/">vars()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/65_zip/" title="zip 重组可迭代对象" class="dd-item"><a href="/python/11_built-in_function/65_zip/">zip<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/12_function/" title="函数概述" class="dd-item"><input type="checkbox" id="section-e6b48a8a67c6f7ff797a323f6568f234" class="toggle"/><label for="section-e6b48a8a67c6f7ff797a323f6568f234" ></label><a href="/python/12_function/">函数<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/12_function/02_function_definition/" title="函数定义" class="dd-item"><a href="/python/12_function/02_function_definition/">函数定义<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/03_formal_parameter/" title="函数形参" class="dd-item"><a href="/python/12_function/03_formal_parameter/">函数形参<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/04_return_value/" title="函数返回值" class="dd-item"><a href="/python/12_function/04_return_value/">函数返回值<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/05_recursion/" title="递归函数" class="dd-item"><a href="/python/12_function/05_recursion/">递归函数<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/06_doc/" title="函数文档" class="dd-item"><a href="/python/12_function/06_doc/">函数文档<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/07_function_call/" title="函数调用" class="dd-item"><a href="/python/12_function/07_function_call/">函数调用<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/08_lambda/" title="lambda 函数" class="dd-item"><a href="/python/12_function/08_lambda/">lambda 函数<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/09_generator/" title="生成器函数" class="dd-item"><a href="/python/12_function/09_generator/">生成器函数<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/13_exception/" title="错误和异常" class="dd-item"><input type="checkbox" id="section-bc4f4d42c44eaf0579ed86ae2d0d51db" class="toggle"/><label for="section-bc4f4d42c44eaf0579ed86ae2d0d51db" ></label><a href="/python/13_exception/">错误和异常<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/13_exception/02_handling/" title="处理异常" class="dd-item"><a href="/python/13_exception/02_handling/">处理异常<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/13_exception/03_raising/" title="抛出异常" class="dd-item"><a href="/python/13_exception/03_raising/">抛出异常<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/13_exception/04_user_defined/" title="自定义异常" class="dd-item"><a href="/python/13_exception/04_user_defined/">自定义异常<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/13_exception/05_finally/" title="finally 清理操作" class="dd-item"><a href="/python/13_exception/05_finally/">finally<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/14_file/" title="文件对象概述" class="dd-item"><input type="checkbox" id="section-e195820c7e4bf396e327bfb0a46a50f9" class="toggle"/><label for="section-e195820c7e4bf396e327bfb0a46a50f9" ></label><a href="/python/14_file/">文件<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/14_file/02_read/" title="读取文件内容" class="dd-item"><a href="/python/14_file/02_read/">读取文件内容<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/14_file/03_write/" title="文件写入内容" class="dd-item"><a href="/python/14_file/03_write/">文件写入内容<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/15_module/" title="模块概述" class="dd-item"><input type="checkbox" id="section-4385ec01f3a88bacfccd61dd3520ad8b" class="toggle"/><label for="section-4385ec01f3a88bacfccd61dd3520ad8b" ></label><a href="/python/15_module/">模块<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/15_module/02_create_module/" title="创建模块" class="dd-item"><a href="/python/15_module/02_create_module/">创建模块<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/15_module/04_executable_file/" title="可执行文件" class="dd-item"><a href="/python/15_module/04_executable_file/">可执行文件<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/15_module/05_import_code/" title="导入操作" class="dd-item"><a href="/python/15_module/05_import_code/">导入操作<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/16_class/" title="面向对象概述" class="dd-item"><input type="checkbox" id="section-1462fcc8311b5f31727642b5a438fc6d" class="toggle"/><label for="section-1462fcc8311b5f31727642b5a438fc6d" ></label><a href="/python/16_class/">面向对象<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/16_class/02_class_definition/" title="类定义" class="dd-item"><a href="/python/16_class/02_class_definition/">类定义<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/03_instance/" title="实例" class="dd-item"><a href="/python/16_class/03_instance/">实例<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/04_object/" title="对象" class="dd-item"><a href="/python/16_class/04_object/">对象<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/05_name/" title="名称" class="dd-item"><a href="/python/16_class/05_name/">名称<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/06_variable/" title="变量" class="dd-item"><a href="/python/16_class/06_variable/">变量<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/07_attribute/" title="属性" class="dd-item"><a href="/python/16_class/07_attribute/">属性<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/08_method/" title="方法" class="dd-item"><a href="/python/16_class/08_method/">方法<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/09_namespace/" title="命名空间" class="dd-item"><a href="/python/16_class/09_namespace/">命名空间<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/10_scope/" title="作用域" class="dd-item"><a href="/python/16_class/10_scope/">作用域<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/11_create_instance/" title="创建实例" class="dd-item"><a href="/python/16_class/11_create_instance/">创建实例<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/12_attribute_operation/" title="属性操作" class="dd-item"><a href="/python/16_class/12_attribute_operation/">属性操作<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/13_method_operation/" title="方法操作" class="dd-item"><a href="/python/16_class/13_method_operation/">方法操作<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/14_inheritance/" title="类继承" class="dd-item"><a href="/python/16_class/14_inheritance/">类继承<i class="fas fa-check read-icon"></i></a></li></ul></li></ul></li>
          <li data-nav-id="/regex/" title="通俗易懂 Python 正则表达式" class="dd-item"><a href="/regex/">正则表达式<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/numpy/" title="Numpy 基础快速了解和查询" class="dd-item"><a href="/numpy/">Numpy<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/pandas/" title="Pandas 基础快速了解和查询" class="dd-item"><a href="/pandas/">Pandas<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/matplotlib/" title="Matpotlib 快速入门" class="dd-item"><a href="/matplotlib/">Matpotlib<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/" title="数理统计、机器学习入门" class="dd-item"><input type="checkbox" id="section-7311b56f8e68ee915dd2e657bac269ed" class="toggle"/><label for="section-7311b56f8e68ee915dd2e657bac269ed" ></label><a href="/statistics/">机器学习入门<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/statistics/statistics1/" title="描述统计" class="dd-item"><a href="/statistics/statistics1/">描述统计<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics2/" title="推断统计" class="dd-item"><a href="/statistics/statistics2/">推断统计<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics3/" title="线性回归" class="dd-item"><a href="/statistics/statistics3/">线性回归<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics4/" title="逻辑回归" class="dd-item"><a href="/statistics/statistics4/">逻辑回归<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics5/" title="分类模型评估" class="dd-item"><a href="/statistics/statistics5/">分类模型评估<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics6/" title="KNN 算法" class="dd-item"><a href="/statistics/statistics6/">KNN 算法<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics7/" title="朴素贝叶斯" class="dd-item"><a href="/statistics/statistics7/">朴素贝叶斯<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics8/" title="决策树" class="dd-item"><a href="/statistics/statistics8/">决策树<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics9/" title="K-Means 算法" class="dd-item"><a href="/statistics/statistics9/">K-Means 算法<i class="fas fa-check read-icon"></i></a></li></ul></li>
        </ul>
        <div id="shortcuts">
          <div class="nav-title">更多</div>
          <ul>
            <li><a class="padding" href="/about">关注我</a></li>
          </ul>
        </div>
        <div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div>
        <hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"/>
        <div id="prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks">
          <ul>
            <li id="select-language-container" class="footerLangSwitch">
              <a class="padding select-container">
                <i class="fas fa-language fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <select id="select-language" onchange="location = baseUri + this.value;">
                  </select>
                </div>
                <div class="select-clear"></div>
              </a>
            </li>
            <li id="select-variant-container" class="footerVariantSwitch">
              <a class="padding select-container">
                <i class="fas fa-paint-brush fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <select id="select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                    <option id="blue" value="blue" selected>Blue</option>
                  </select>
                </div>
                <div class="select-clear"></div>
              </a>
              <script>window.variants && variants.markSelectedVariant();</script>
            </li>
            <li class="footerVisitedLinks showVisitedLinks"><a class="padding" onclick="clearHistory();"><i class="fas fa-history fa-fw"></i> 清理历史记录</a></li>
          </ul>
        </div>
        <div id="footer" class="footerFooter showFooter">     <p>©2022 <a href="https://aiart.website/">🏠明文视界</a></p>
        </div>
      </div>
    </aside>
    <script src="/js/clipboard.min.js?1733232841" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1733232841" defer></script>
    <script src="/js/featherlight.min.js?1733232841" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/jquery.svg.pan.zoom.js?1733232841" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="https://unpkg.com/rapidoc/dist/rapidoc-min.js" defer></script>
    <script>
      window.themeUseSwagger = JSON.parse("{ \"theme\": \"light\" }");
    </script>
    <script src="/js/theme.js?1733232841" defer></script>
  </body>
</html>
