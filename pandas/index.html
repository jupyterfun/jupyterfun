<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="generator" content="Relearn 5.2.1+tip">
    <meta name="description" content="">
    <meta name="author" content="吴明文">
    <title>Pandas 基础快速了解和查询 - jupyter.fun</title>
    <link href="/pandas/index.xml" rel="alternate" type="application/rss+xml" title="jupyter.fun">
    <link href="/pandas/index.print.html" rel="alternate" type="text/html" title="jupyter.fun"><link rel="icon" href="/favicon.png" type="image/png" />
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/css/fontawesome-all.min.css?1744729038" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fontawesome-all.min.css?1744729038" rel="stylesheet"></noscript>
    <link href="/css/featherlight.min.css?1744729038" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/featherlight.min.css?1744729038" rel="stylesheet"></noscript>
    <link href="/css/auto-complete.css?1744729038" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/auto-complete.css?1744729038" rel="stylesheet"></noscript>
    <link href="/css/perfect-scrollbar.min.css?1744729038" rel="stylesheet">
    <link href="/css/nucleus.css?1744729038" rel="stylesheet">
    <link href="/css/fonts.css?1744729038" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/css/fonts.css?1744729038" rel="stylesheet"></noscript>
    <link href="/css/theme.css?1744729038" rel="stylesheet">
    <link href="/css/theme-blue.css?1744729038" rel="stylesheet" id="variant-style">
    <link href="/css/ie.css?1744729038" rel="stylesheet">
    <link href="/css/variant.css?1744729038" rel="stylesheet">
    <link href="/css/print.css?1744729038" rel="stylesheet" media="print">
    <script src="/js/variant.js?1744729038"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      var index_url="/index.json";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = '复制到剪贴板';
      window.T_Copied_to_clipboard = '复制到剪贴板！';
      window.T_Copy_link_to_clipboard = '将链接复制到剪贴板';
      window.T_Link_copied_to_clipboard = '链接复制到剪贴板！';
      // some further base stuff
      var baseUriFull='/';
      window.variants && variants.init( [ 'blue' ] );
    </script>
    <script src="/js/jquery.min.js?1744729038" defer></script>
  </head>
  <body class="mobile-support html" data-url="/pandas/">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable">
        <div>
          <div id="top-print-link">
            <a class="print-link" title='打印整章 (CTRL+ALT+p)' href="/pandas/index.print.html">
              <i class="fas fa-print fa-fw"></i>
            </a>
          </div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" title='导航 (CTRL+ALT+m)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <span id="toc-menu" title='目录 (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span>
            <ol class="links" itemscope itemtype="http://schema.org/BreadcrumbList">
              <meta itemprop="itemListOrder" content="Descending" />
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><meta itemprop="position" content="2" /><a itemprop="item" href="/"><span itemprop="name">jupyter.fun</span></a> > </li>
              <li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><meta itemprop="position" content="1" /><a itemprop="item" href="/pandas/" aria-disabled="true"><span itemprop="name">Pandas 基础快速了解和查询</span></a></li>
            </ol>
          </div>
          <div class="default-animation progress">
            <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#一-数据结构">一, 数据结构</a>
      <ul>
        <li><a href="#1-创建-series-和-dataframe">1, 创建 Series 和 DataFrame</a></li>
        <li><a href="#2-series-和-dataframe-的常用属性">2, Series 和 DataFrame 的常用属性</a></li>
        <li><a href="#3-series-和-dataframe-结构理解">3, Series 和 DataFrame 结构理解</a></li>
      </ul>
    </li>
    <li><a href="#二-数据结构操作-处理与计算">二, 数据结构操作, 处理与计算</a>
      <ul>
        <li><a href="#1-查看-series-和-dataframe-数据信息常用方法">1, 查看 Series 和 DataFrame 数据信息常用方法</a></li>
        <li><a href="#2-数据的直接计算">2, 数据的直接计算</a></li>
        <li><a href="#3-series-和-dataframe-下标和索引切片操作">3, Series 和 DataFrame 下标和索引切片操作</a></li>
      </ul>
    </li>
    <li><a href="#三-series-和-dataframe-的处理和计算函数">三, Series 和 DataFrame 的处理和计算函数</a>
      <ul>
        <li><a href="#1-索引">1, 索引</a></li>
        <li><a href="#2-增删与合并数据">2, 增删与合并数据</a></li>
        <li><a href="#3-数据选择与处理">3, 数据选择与处理</a></li>
        <li><a href="#4-数据分组聚合计算">4, 数据分组聚合计算</a></li>
        <li><a href="#5-数据透视与窗口函数">5, 数据透视与窗口函数</a></li>
        <li><a href="#6-文本字符串处理">6, 文本字符串处理</a></li>
      </ul>
    </li>
    <li><a href="#三-时间序列">三, 时间序列</a></li>
    <li><a href="#四-数据的导入导出与可视化">四, 数据的导入导出与可视化</a>
      <ul>
        <li><a href="#1-pandas-可以导入导出多种格式的数据">1, pandas 可以导入导出多种格式的数据:</a></li>
        <li><a href="#2-可视化">2, 可视化</a></li>
      </ul>
    </li>
  </ul>
</nav>
            </div>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
<h1>Pandas 基础快速了解和查询</h1>

<p><a href="https://pandas.pydata.org/docs/">官方文档</a></p>
<blockquote>
<p>Pandas 是 Python 的核心数据分析支持库, 基于 NumPy 创建, 它使 python 成为强大而高效的数据分析环境</p>
</blockquote>
<h2 id="一-数据结构">一, 数据结构</h2>
<p>pandas 的数据结构是基于 numpy 的, 因此其有着 numpy 的基因, 许多操作和大部分函数与 numpy 类似</p>
<p>pandas 的数据结构其实是 numpy 数组数据对象 array 的容器, 在 pandas 中有了索引结构, 可以利用索引来取 array 或 array 中的元素</p>
<p>pandas 中最重要的数据结构是 Series 和 DataFrame</p>
<h3 id="1-创建-series-和-dataframe">1, 创建 Series 和 DataFrame</h3>
<p>创建时若不指定索引, 将自动生成(从 0 开始)</p>
<p>Series 是一维, 只有行索引, 而 DataFrame 有行和列索引</p>
<p>创建方式灵活多变, 可以查看参数, 根据要求传参进行创建</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(range(<span style="color:#ae81ff">3</span>))
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>0    0
1    1
2    2
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(range(<span style="color:#ae81ff">3</span>))  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   0
0  0
1  1
2  2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>values
</span></span></code></pre></div><pre><code>array([0, 1, 2], dtype=int64)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>values
</span></span></code></pre></div><pre><code>array([[0],
       [1],
       [2]], dtype=int64)
</code></pre>
<p>可见，pandas 的数据结构，是 numpy 的 array 对象的容器，着意味着 pandas 在处理数据时，可以使用 numpy 的所有函数和方法</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(range(<span style="color:#ae81ff">3</span>), index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abc&#39;</span>))  
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>a    0
b    1
c    2
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;A&#39;</span>: range(<span style="color:#ae81ff">3</span>), <span style="color:#e6db74">&#39;B&#39;</span>: list(<span style="color:#e6db74">&#39;jkl&#39;</span>)}, index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abc&#39;</span>)) 
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   A  B
a  0  j
b  1  k
c  2  l
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict_1 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#39;b&#39;</span>: <span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;c&#39;</span>: <span style="color:#ae81ff">2</span>}  
</span></span><span style="display:flex;"><span>dict_2 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>: range(<span style="color:#ae81ff">3</span>), <span style="color:#e6db74">&#39;b&#39;</span>: list(<span style="color:#e6db74">&#39;jkl&#39;</span>)}  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(dict_1)  
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>a    0
b    1
c    2
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(dict_1, index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>   a  b  c
A  0  1  2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(dict_2)  
</span></span><span style="display:flex;"><span>print(df2) 
</span></span></code></pre></div><pre><code>   a  b
0  0  j
1  1  k
2  2  l
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># df2 每一列是一个类型的 array 对象</span>
</span></span><span style="display:flex;"><span>df2[<span style="color:#e6db74">&#34;a&#34;</span>]<span style="color:#f92672">.</span>values, df2[<span style="color:#e6db74">&#34;b&#34;</span>]<span style="color:#f92672">.</span>values
</span></span></code></pre></div><pre><code>(array([0, 1, 2], dtype=int64), array(['j', 'k', 'l'], dtype=object))
</code></pre>
<h3 id="2-series-和-dataframe-的常用属性">2, Series 和 DataFrame 的常用属性</h3>
<p>大部分属性和 numpy 一样</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(<span style="color:#ae81ff">1</span>, index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abc&#39;</span>))  
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>a    1
b    1
c    1
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>dict_3 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>: range(<span style="color:#ae81ff">3</span>), <span style="color:#e6db74">&#39;b&#39;</span>: list(<span style="color:#e6db74">&#39;jkl&#39;</span>)}  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(dict_3)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>   a  b
0  0  j
1  1  k
2  2  l
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看形状, 形状不包括 索引  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>shape, df<span style="color:#f92672">.</span>shape  
</span></span></code></pre></div><pre><code>((3,), (3, 2))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 获取索引  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>index, df<span style="color:#f92672">.</span>index, df<span style="color:#f92672">.</span>columns  
</span></span></code></pre></div><pre><code>(Index(['a', 'b', 'c'], dtype='object'),
 RangeIndex(start=0, stop=3, step=1),
 Index(['a', 'b'], dtype='object'))
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看元素个数  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>size, df<span style="color:#f92672">.</span>size  
</span></span></code></pre></div><pre><code>(3, 6)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看数据类型  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>dtype, df<span style="color:#f92672">.</span>dtypes  
</span></span></code></pre></div><pre><code>(dtype('int64'),
 a     int64
 b    object
 dtype: object)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看值  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>values, df<span style="color:#f92672">.</span>values, df[<span style="color:#e6db74">&#39;a&#39;</span>]<span style="color:#f92672">.</span>values  
</span></span></code></pre></div><pre><code>(array([1, 1, 1], dtype=int64),
 array([[0, 'j'],
        [1, 'k'],
        [2, 'l']], dtype=object),
 array([0, 1, 2], dtype=int64))
</code></pre>
<h3 id="3-series-和-dataframe-结构理解">3, Series 和 DataFrame 结构理解</h3>
<p>从上述可以看出, pandas 数据结构的值, 是一个 array 对象. 对于 df, 每一列的值取出来也是一个 array 对象,
并且每一列可以是不同的数据类型</p>
<p>需要注意的是, DataFrame 每一列取出来, 整体是一个 Series , 因此 DataFrame 又可以看成 Series 的容器</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(<span style="color:#ae81ff">1</span>, index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abc&#39;</span>)) 
</span></span><span style="display:flex;"><span>dict_3 <span style="color:#f92672">=</span> {<span style="color:#e6db74">&#39;a&#39;</span>: range(<span style="color:#ae81ff">3</span>), <span style="color:#e6db74">&#39;b&#39;</span>: list(<span style="color:#e6db74">&#39;jkl&#39;</span>)}  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(dict_3)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>type(s), type(df[<span style="color:#e6db74">&#39;a&#39;</span>]), type(df)  
</span></span></code></pre></div><pre><code>(pandas.core.series.Series,
 pandas.core.series.Series,
 pandas.core.frame.DataFrame)
</code></pre>
<p>Series 和 DataFrame 可以有多层索引</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> [[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>], [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]]
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>a  1    1
b  2    1
c  3    1
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> [[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>], [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]]  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>     a  b
a 1  0  j
b 2  1  k
c 3  2  l
</code></pre>
<h2 id="二-数据结构操作-处理与计算">二, 数据结构操作, 处理与计算</h2>
<h3 id="1-查看-series-和-dataframe-数据信息常用方法">1, 查看 Series 和 DataFrame 数据信息常用方法</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>])  
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>0    4
1    7
2    4
3    8
4    1
5    8
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a)  
</span></span><span style="display:flex;"><span>print(df) 
</span></span></code></pre></div><pre><code>   0  1
0  4  4
1  7  4
2  4  8
3  8  3
4  1  3
5  8  1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看前 5 行(默认)  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>head()  
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>head())
</span></span></code></pre></div><pre><code>   0  1
0  4  4
1  7  4
2  4  8
3  8  3
4  1  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看后 5 行(默认)  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>tail()  
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>tail())  
</span></span></code></pre></div><pre><code>   0  1
1  7  4
2  4  8
3  8  3
4  1  3
5  8  1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看详情, Series 没有该方法  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>info()  
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 6 entries, 0 to 5
Data columns (total 2 columns):
 #   Column  Non-Null Count  Dtype
---  ------  --------------  -----
 0   0       6 non-null      int32
 1   1       6 non-null      int32
dtypes: int32(2)
memory usage: 176.0 bytes
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 查看统计量  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>describe()  
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>describe())  
</span></span></code></pre></div><pre><code>              0         1
count  6.000000  6.000000
mean   5.333333  3.833333
std    2.804758  2.316607
min    1.000000  1.000000
25%    4.000000  3.000000
50%    5.500000  3.500000
75%    7.750000  4.000000
max    8.000000  8.000000
</code></pre>
<h3 id="2-数据的直接计算">2, 数据的直接计算</h3>
<p>Series 和 DataFrame 的数据可以像 numpy 的数组一样直接进行计算, 索引相同的行、列进行计算, 索引不同的 NaN 填充</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>])  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   0  1
0  6  2
1  1  6
2  5  1
3  3  2
4  5  5
5  2  6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a, columns<span style="color:#f92672">=</span>[<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1 <span style="color:#f92672">*</span> df)  
</span></span></code></pre></div><pre><code>    0   1   b
0 NaN  12 NaN
1 NaN   6 NaN
2 NaN   5 NaN
3 NaN   6 NaN
4 NaN  25 NaN
5 NaN  12 NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>0    6
1    1
2    5
3    3
4    5
5    2
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>])  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>a    6
1    1
2    5
3    3
4    5
5    2
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#f92672">+</span> s1  
</span></span></code></pre></div><pre><code>0     NaN
1     2.0
2    30.0
3    12.0
4    30.0
5     6.0
a     NaN
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 笛卡儿积展开  </span>
</span></span><span style="display:flex;"><span>print(s <span style="color:#f92672">+</span> df)
</span></span></code></pre></div><pre><code>    0  1   2   3   4   5
0  12  3 NaN NaN NaN NaN
1   7  7 NaN NaN NaN NaN
2  11  2 NaN NaN NaN NaN
3   9  3 NaN NaN NaN NaN
4  11  6 NaN NaN NaN NaN
5   8  7 NaN NaN NaN NaN
</code></pre>
<h3 id="3-series-和-dataframe-下标和索引切片操作">3, Series 和 DataFrame 下标和索引切片操作</h3>
<h4 id="301-series-和-dataframe-下标切片取值">3.01, Series 和 DataFrame 下标切片取值</h4>
<p>Series 和 DataFrame 下标切片取值有许多不同之处</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>])  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>a    6
1    1
2    5
3    3
4    5
5    2
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a, columns<span style="color:#f92672">=</span>[<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>   1  b
0  6  5
1  3  8
2  8  7
3  1  5
4  7  4
5  6  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 此方法 DataFrame 只能取行, 不能取列  </span>
</span></span><span style="display:flex;"><span>s1[<span style="color:#ae81ff">1</span>:<span style="color:#ae81ff">3</span>]
</span></span></code></pre></div><pre><code>1    1
2    5
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">2</span>])
</span></span></code></pre></div><pre><code>   1  b
0  6  5
1  3  8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1[[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>]]  
</span></span></code></pre></div><pre><code>1    1
4    5
dtype: int32
</code></pre>
<p><strong>同 numpy 一样, 可以条件取值, 此方法常用来筛选和重新赋值等</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1[s1<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">4</span>]
</span></span></code></pre></div><pre><code>a    6
2    5
4    5
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[df1<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">5</span>])
</span></span></code></pre></div><pre><code>     1    b
0  6.0  NaN
1  NaN  8.0
2  8.0  7.0
3  NaN  NaN
4  7.0  NaN
5  6.0  NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[df1 <span style="color:#f92672">==</span> <span style="color:#ae81ff">4</span>])  
</span></span></code></pre></div><pre><code>    1    b
0 NaN  NaN
1 NaN  NaN
2 NaN  NaN
3 NaN  NaN
4 NaN  4.0
5 NaN  NaN
</code></pre>
<h4 id="302-series-和-dataframe-索引切片取值">3.02, Series 和 DataFrame 索引切片取值</h4>
<p>索引切片取值, 左右都包含</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>])  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>a    6
1    3
2    8
3    1
4    7
5    6
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a, columns<span style="color:#f92672">=</span>[<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1) 
</span></span></code></pre></div><pre><code>   1  b
0  3  5
1  7  3
2  8  7
3  7  6
4  3  7
5  5  4
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 需要将索引转换类型  </span>
</span></span><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> s1<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>astype(str)  
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> df1<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>astype(str) 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1[<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#e6db74">&#39;2&#39;</span>]
</span></span></code></pre></div><pre><code>a    6
1    3
2    8
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[<span style="color:#e6db74">&#39;1&#39;</span>:<span style="color:#e6db74">&#39;3&#39;</span>])  
</span></span></code></pre></div><pre><code>   1  b
1  7  3
2  8  7
3  7  6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[<span style="color:#e6db74">&#39;1&#39;</span>:<span style="color:#e6db74">&#39;3&#39;</span>][[<span style="color:#ae81ff">1</span>]])
</span></span></code></pre></div><pre><code>   1
1  7
2  8
3  7
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1[<span style="color:#e6db74">&#39;b&#39;</span>]
</span></span></code></pre></div><pre><code>0    5
1    3
2    7
3    6
4    7
5    4
Name: b, dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1[[<span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#ae81ff">1</span>]])  
</span></span></code></pre></div><pre><code>   b  1
0  5  3
1  3  7
2  7  8
3  6  7
4  7  3
5  4  5
</code></pre>
<h4 id="303-用-iloc-方法取值推荐">3.03, 用 iloc 方法取值(推荐)</h4>
<p>上述的取值太复杂麻烦, iloc 方法传入下标取值更方便且条理清晰. 存在多层索引时, iloc 按最内层索引取值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>])  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>a    3
1    7
2    8
3    7
4    3
5    5
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a, columns<span style="color:#f92672">=</span>[<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1) 
</span></span></code></pre></div><pre><code>   1  b
0  8  8
1  6  2
2  1  6
3  6  3
4  8  3
5  3  8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 右不包含  </span>
</span></span><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">3</span>]
</span></span></code></pre></div><pre><code>a    3
1    7
2    8
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">5</span>:<span style="color:#ae81ff">2</span>])
</span></span></code></pre></div><pre><code>   1  b
0  8  8
2  1  6
4  8  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>iloc[[<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">2</span>], <span style="color:#ae81ff">0</span>:])  
</span></span></code></pre></div><pre><code>   1  b
1  6  2
4  8  3
2  1  6
</code></pre>
<h4 id="304-用-loc-方法">3.04, 用 loc 方法</h4>
<p>loc 方法取值左右都包含, 传入索引标签取值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(a[:, <span style="color:#ae81ff">0</span>], index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>])  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>a    8
1    6
2    1
3    6
4    8
5    3
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">2</span>))  
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(a, columns<span style="color:#f92672">=</span>[<span style="color:#ae81ff">1</span>, <span style="color:#e6db74">&#39;b&#39;</span>])  
</span></span><span style="display:flex;"><span>print(df1) 
</span></span></code></pre></div><pre><code>   1  b
0  4  3
1  6  4
2  1  6
3  6  2
4  6  1
5  2  7
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 需要将索引转换类型  </span>
</span></span><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> s1<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>astype(str)  
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> df1<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>astype(str) 
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;a&#39;</span>:<span style="color:#e6db74">&#39;2&#39;</span>]
</span></span></code></pre></div><pre><code>a    8
1    6
2    1
dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>loc[<span style="color:#e6db74">&#39;1&#39;</span>:<span style="color:#e6db74">&#39;3&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>]  
</span></span></code></pre></div><pre><code>1    4
2    6
3    2
Name: b, dtype: int32
</code></pre>
<h4 id="305-利用切片修改数据">3.05, 利用切片修改数据</h4>
<p>利用切片修改数据, 其实就是取值重新赋值</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">4</span>),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcde&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;ABCD&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df[df<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0.5</span>])  
</span></span></code></pre></div><pre><code>          A         B         C         D
a  0.908869       NaN       NaN  0.584259
b       NaN       NaN  0.940409       NaN
c  0.947715  0.898426  0.745999       NaN
d       NaN  0.855820       NaN  0.742919
e       NaN       NaN       NaN  0.593532
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将大于 0.5 的数据换成 nan  </span>
</span></span><span style="display:flex;"><span>df[df<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0.5</span>] <span style="color:#f92672">=</span> np<span style="color:#f92672">.</span>nan  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>          A         B         C         D
a       NaN  0.019952  0.004443       NaN
b  0.391594  0.406059       NaN  0.021655
c       NaN       NaN       NaN  0.067905
d  0.238486       NaN  0.232429       NaN
e  0.378054  0.422029  0.386046       NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将 A 列全部改成 1 , 增加一列 E, 值为 0  </span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;A&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span> <span style="color:#75715e"># 与 df.A = 1 等价  </span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;E&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>   A         B         C         D  E
a  1  0.019952  0.004443       NaN  0
b  1  0.406059       NaN  0.021655  0
c  1       NaN       NaN  0.067905  0
d  1       NaN  0.232429       NaN  0
e  1  0.422029  0.386046       NaN  0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 行列值互换  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>loc[[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>], [<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;C&#39;</span>]] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>loc[[<span style="color:#e6db74">&#39;c&#39;</span>, <span style="color:#e6db74">&#39;a&#39;</span>], [<span style="color:#e6db74">&#39;C&#39;</span>, <span style="color:#e6db74">&#39;A&#39;</span>]]<span style="color:#f92672">.</span>to_numpy()  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>          A         B         C         D  E
a       NaN  0.019952  1.000000       NaN  0
b  1.000000  0.406059       NaN  0.021655  0
c  0.004443       NaN  1.000000  0.067905  0
d  1.000000       NaN  0.232429       NaN  0
e  1.000000  0.422029  0.386046       NaN  0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 只要 B 不为 nan 的数据  </span>
</span></span><span style="display:flex;"><span>print(df[df[<span style="color:#e6db74">&#39;B&#39;</span>] <span style="color:#f92672">==</span> df[<span style="color:#e6db74">&#39;B&#39;</span>]])  
</span></span></code></pre></div><pre><code>     A         B         C         D  E
a  NaN  0.019952  1.000000       NaN  0
b  1.0  0.406059       NaN  0.021655  0
e  1.0  0.422029  0.386046       NaN  0
</code></pre>
<h2 id="三-series-和-dataframe-的处理和计算函数">三, Series 和 DataFrame 的处理和计算函数</h2>
<h3 id="1-索引">1, 索引</h3>
<p>在 pandas 里, 索引非常重要, 一个行索引, 通常就是数据的一条记录(例如一个人的信息), 一个列索引就是数据的一个特征(例如某个人的性别, 年龄等),
通过索引能够更方便数据处理与计算</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">4</span>), index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcd&#39;</span>))  
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>a    0.930171
b    0.263544
c    0.684870
d    0.702820
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcd&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;ABCD&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>          A         B         C         D
a  0.236401  0.972351  0.030862  0.438897
b  0.774498  0.670181  0.379171  0.941319
c  0.701424  0.732319  0.882208  0.527572
d  0.442419  0.597335  0.258880  0.420447
</code></pre>
<p><strong>reindex 索引重排, 新增的索引 nan 填充, 缺少索引的数据舍弃</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 新增 e 舍弃 d, 有许多参数可以调节  </span>
</span></span><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span>reindex(list(<span style="color:#e6db74">&#39;bcae&#39;</span>))
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>b    0.263544
c    0.684870
a    0.930171
e         NaN
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>reindex(columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;BCAE&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df2)
</span></span></code></pre></div><pre><code>          B         C         A   E
a  0.972351  0.030862  0.236401 NaN
b  0.670181  0.379171  0.774498 NaN
c  0.732319  0.882208  0.701424 NaN
d  0.597335  0.258880  0.442419 NaN
</code></pre>
<p><strong>sort_index 索引排序</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认 True 升序, 许多参数可调, DataFrame 只排行索引  </span>
</span></span><span style="display:flex;"><span>s2 <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span>sort_index(ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>s2
</span></span></code></pre></div><pre><code>d    0.702820
c    0.684870
b    0.263544
a    0.930171
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>sort_index(ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)  
</span></span><span style="display:flex;"><span>print(df2)
</span></span></code></pre></div><pre><code>          A         B         C         D
d  0.442419  0.597335  0.258880  0.420447
c  0.701424  0.732319  0.882208  0.527572
b  0.774498  0.670181  0.379171  0.941319
a  0.236401  0.972351  0.030862  0.438897
</code></pre>
<p><strong>rename, set_index, reset_index 设置索引</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 注意参数及传参方式  </span>
</span></span><span style="display:flex;"><span>s3 <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span>rename(index<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;a&#39;</span>: <span style="color:#e6db74">&#39;f&#39;</span>})
</span></span><span style="display:flex;"><span>s3
</span></span></code></pre></div><pre><code>f    0.930171
b    0.263544
c    0.684870
d    0.702820
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df3 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>rename(<span style="color:#66d9ef">lambda</span> x: x <span style="color:#f92672">+</span> x)  
</span></span><span style="display:flex;"><span>print(df3)
</span></span></code></pre></div><pre><code>           A         B         C         D
aa  0.236401  0.972351  0.030862  0.438897
bb  0.774498  0.670181  0.379171  0.941319
cc  0.701424  0.732319  0.882208  0.527572
dd  0.442419  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Series 没有此方法</span>
</span></span><span style="display:flex;"><span>df4 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>set_index([[<span style="color:#e6db74">&#39;a&#39;</span>,<span style="color:#e6db74">&#39;b&#39;</span>,<span style="color:#e6db74">&#39;c&#39;</span>,<span style="color:#e6db74">&#39;d&#39;</span>], [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]])  
</span></span><span style="display:flex;"><span>print(df4)
</span></span></code></pre></div><pre><code>            A         B         C         D
a 1  0.236401  0.972351  0.030862  0.438897
b 2  0.774498  0.670181  0.379171  0.941319
c 3  0.701424  0.732319  0.882208  0.527572
d 4  0.442419  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以将某列设为索引, 默认不保留原列, 可设参数 drop 保留  </span>
</span></span><span style="display:flex;"><span>df5 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;A&#39;</span>)  
</span></span><span style="display:flex;"><span>print(df5)  
</span></span></code></pre></div><pre><code>                 B         C         D
A                                     
0.236401  0.972351  0.030862  0.438897
0.774498  0.670181  0.379171  0.941319
0.701424  0.732319  0.882208  0.527572
0.442419  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将索引设为列(drop=True将其删除), 多层索引时可选某层  </span>
</span></span><span style="display:flex;"><span>df6 <span style="color:#f92672">=</span> df4<span style="color:#f92672">.</span>reset_index(level<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>print(df6)
</span></span></code></pre></div><pre><code>   level_1         A         B         C         D
a        1  0.236401  0.972351  0.030862  0.438897
b        2  0.774498  0.670181  0.379171  0.941319
c        3  0.701424  0.732319  0.882208  0.527572
d        4  0.442419  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df7 <span style="color:#f92672">=</span> df5<span style="color:#f92672">.</span>reset_index()  
</span></span><span style="display:flex;"><span>print(df7)
</span></span></code></pre></div><pre><code>          A         B         C         D
0  0.236401  0.972351  0.030862  0.438897
1  0.774498  0.670181  0.379171  0.941319
2  0.701424  0.732319  0.882208  0.527572
3  0.442419  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 索引可以设置名字, 设置索引还可以通过获取索引重新赋值  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># DataFrame 还可以转置  </span>
</span></span><span style="display:flex;"><span>df5<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>name
</span></span></code></pre></div><pre><code>'A'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df5<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> list(<span style="color:#e6db74">&#39;abcd&#39;</span>) <span style="color:#75715e"># 重设索引后, 索引名消失  </span>
</span></span><span style="display:flex;"><span>print(df5)
</span></span></code></pre></div><pre><code>          B         C         D
a  0.972351  0.030862  0.438897
b  0.670181  0.379171  0.941319
c  0.732319  0.882208  0.527572
d  0.597335  0.258880  0.420447
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df5<span style="color:#f92672">.</span>T)  
</span></span></code></pre></div><pre><code>          a         b         c         d
B  0.972351  0.670181  0.732319  0.597335
C  0.030862  0.379171  0.882208  0.258880
D  0.438897  0.941319  0.527572  0.420447
</code></pre>
<p><strong>多层索引</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>ar <span style="color:#f92672">=</span> [[<span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;b&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>], [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]]  
</span></span><span style="display:flex;"><span>tup <span style="color:#f92672">=</span> list(zip(<span style="color:#f92672">*</span>ar))  
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>MultiIndex<span style="color:#f92672">.</span>from_tuples(tup)  
</span></span></code></pre></div><pre><code>MultiIndex([('a', 1),
            ('b', 2),
            ('c', 3)],
           )
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>index <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>MultiIndex<span style="color:#f92672">.</span>from_product(ar)  
</span></span><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(range(<span style="color:#ae81ff">9</span>), index<span style="color:#f92672">=</span>index)  
</span></span><span style="display:flex;"><span>s  
</span></span></code></pre></div><pre><code>a  1    0
   2    1
   3    2
b  1    3
   2    4
   3    5
c  1    6
   2    7
   3    8
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>MultiIndex<span style="color:#f92672">.</span>from_frame(pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>))))  
</span></span></code></pre></div><pre><code>MultiIndex([(6, 5, 3),
            (8, 1, 3)],
           names=[0, 1, 2])
</code></pre>
<h3 id="2-增删与合并数据">2, 增删与合并数据</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>)))  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   0  1  2  3  4
0  4  8  5  3  7
1  7  3  5  2  4
2  3  2  5  7  2
3  1  2  4  8  7
</code></pre>
<p><strong>insert 在指定位置前插入数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Series 没有该方法  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">2</span>, <span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   0  1  A  2  3  4
0  4  8  1  5  3  7
1  7  3  1  5  2  4
2  3  2  1  5  7  2
3  1  2  1  4  8  7
</code></pre>
<p><strong>append 在数据最后增加数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcd&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;ABCD&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>          A         B         C         D
a  0.748362  0.049567  0.603201  0.383037
b  0.658722  0.225040  0.107199  0.416646
c  0.024967  0.161487  0.338823  0.889825
d  0.584625  0.582264  0.228898  0.817555
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Series 只能传 Series  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>append(pd<span style="color:#f92672">.</span>Series(<span style="color:#ae81ff">8</span>))  
</span></span></code></pre></div><pre><code>0    4
1    8
A    1
2    5
3    3
4    7
0    8
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># DataFrame 可以在行后面增加, 也可在列后面新增  </span>
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>append([<span style="color:#ae81ff">1</span>]))
</span></span></code></pre></div><pre><code>   0    1    A    2    3    4
0  4  8.0  1.0  5.0  3.0  7.0
1  7  3.0  1.0  5.0  2.0  4.0
2  3  2.0  1.0  5.0  7.0  2.0
3  1  2.0  1.0  4.0  8.0  7.0
0  1  NaN  NaN  NaN  NaN  NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>append(df1, ignore_index<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)) 
</span></span></code></pre></div><pre><code>     0    1         A    2    3    4         B         C         D
0  4.0  8.0  1.000000  5.0  3.0  7.0       NaN       NaN       NaN
1  7.0  3.0  1.000000  5.0  2.0  4.0       NaN       NaN       NaN
2  3.0  2.0  1.000000  5.0  7.0  2.0       NaN       NaN       NaN
3  1.0  2.0  1.000000  4.0  8.0  7.0       NaN       NaN       NaN
4  NaN  NaN  0.748362  NaN  NaN  NaN  0.049567  0.603201  0.383037
5  NaN  NaN  0.658722  NaN  NaN  NaN  0.225040  0.107199  0.416646
6  NaN  NaN  0.024967  NaN  NaN  NaN  0.161487  0.338823  0.889825
7  NaN  NaN  0.584625  NaN  NaN  NaN  0.582264  0.228898  0.817555
</code></pre>
<p><strong>drop 删除指定数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;A&#39;</span>]<span style="color:#f92672">.</span>drop(<span style="color:#ae81ff">1</span>), df<span style="color:#f92672">.</span>drop(<span style="color:#ae81ff">1</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span></code></pre></div><pre><code>(0    1
 2    1
 3    1
 Name: A, dtype: int64,
    0  A  2  3  4
 0  4  1  5  3  7
 1  7  1  5  2  4
 2  3  1  5  7  2
 3  1  1  4  8  7)
</code></pre>
<p><strong>concat 主要用于行索引的合并</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   0  1  A  2  3  4
0  4  8  1  5  3  7
1  7  3  1  5  2  4
2  3  2  1  5  7  2
3  1  2  1  4  8  7
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>          A         B         C         D
a  0.748362  0.049567  0.603201  0.383037
b  0.658722  0.225040  0.107199  0.416646
c  0.024967  0.161487  0.338823  0.889825
d  0.584625  0.582264  0.228898  0.817555
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认按列索引合并, 保留合并后的全部索引, 缺失用 nan 填充  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># join 参数可控制合并的方式: inner 只留下都有的索引  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>concat([df, df1]))
</span></span></code></pre></div><pre><code>     0    1         A    2    3    4         B         C         D
0  4.0  8.0  1.000000  5.0  3.0  7.0       NaN       NaN       NaN
1  7.0  3.0  1.000000  5.0  2.0  4.0       NaN       NaN       NaN
2  3.0  2.0  1.000000  5.0  7.0  2.0       NaN       NaN       NaN
3  1.0  2.0  1.000000  4.0  8.0  7.0       NaN       NaN       NaN
a  NaN  NaN  0.748362  NaN  NaN  NaN  0.049567  0.603201  0.383037
b  NaN  NaN  0.658722  NaN  NaN  NaN  0.225040  0.107199  0.416646
c  NaN  NaN  0.024967  NaN  NaN  NaN  0.161487  0.338823  0.889825
d  NaN  NaN  0.584625  NaN  NaN  NaN  0.582264  0.228898  0.817555
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>rand(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">4</span>),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcde&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;BCDE&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df2) 
</span></span></code></pre></div><pre><code>          B         C         D         E
a  0.061604  0.505149  0.247496  0.474912
b  0.431163  0.828570  0.302236  0.695153
c  0.238852  0.998520  0.516351  0.665134
d  0.383425  0.684282  0.857654  0.621860
e  0.186235  0.006509  0.612608  0.875893
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>concat([df1, df2], join<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;inner&#39;</span>))  
</span></span></code></pre></div><pre><code>          B         C         D
a  0.049567  0.603201  0.383037
b  0.225040  0.107199  0.416646
c  0.161487  0.338823  0.889825
d  0.582264  0.228898  0.817555
a  0.061604  0.505149  0.247496
b  0.431163  0.828570  0.302236
c  0.238852  0.998520  0.516351
d  0.383425  0.684282  0.857654
e  0.186235  0.006509  0.612608
</code></pre>
<p><strong>join 主要用于行索引的合并</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认以左边(df1)为基准, 相同列名需要加以区分  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># how 参数: outer 全保留, inner 只保留共同部分  </span>
</span></span><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>join(df2, lsuffix<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_1&#39;</span>, rsuffix<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_2&#39;</span>))
</span></span></code></pre></div><pre><code>          A       B_1       C_1       D_1       B_2       C_2       D_2  \
a  0.748362  0.049567  0.603201  0.383037  0.061604  0.505149  0.247496   
b  0.658722  0.225040  0.107199  0.416646  0.431163  0.828570  0.302236   
c  0.024967  0.161487  0.338823  0.889825  0.238852  0.998520  0.516351   
d  0.584625  0.582264  0.228898  0.817555  0.383425  0.684282  0.857654   

          E  
a  0.474912  
b  0.695153  
c  0.665134  
d  0.621860  
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>join(df2, how<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;outer&#39;</span>, lsuffix<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_1&#39;</span>, rsuffix<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_2&#39;</span>))  
</span></span></code></pre></div><pre><code>          A       B_1       C_1       D_1       B_2       C_2       D_2  \
a  0.748362  0.049567  0.603201  0.383037  0.061604  0.505149  0.247496   
b  0.658722  0.225040  0.107199  0.416646  0.431163  0.828570  0.302236   
c  0.024967  0.161487  0.338823  0.889825  0.238852  0.998520  0.516351   
d  0.584625  0.582264  0.228898  0.817555  0.383425  0.684282  0.857654   
e       NaN       NaN       NaN       NaN  0.186235  0.006509  0.612608   

          E  
a  0.474912  
b  0.695153  
c  0.665134  
d  0.621860  
e  0.875893  
</code></pre>
<p><strong>merge 合并</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;K&#39;</span>: [<span style="color:#e6db74">&#39;K0&#39;</span>, <span style="color:#e6db74">&#39;K1&#39;</span>, <span style="color:#e6db74">&#39;K2&#39;</span>, <span style="color:#e6db74">&#39;K3&#39;</span>],
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;A&#39;</span>: [<span style="color:#e6db74">&#39;A0&#39;</span>, <span style="color:#e6db74">&#39;A1&#39;</span>, <span style="color:#e6db74">&#39;M2&#39;</span>, <span style="color:#e6db74">&#39;M3&#39;</span>],
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;B&#39;</span>: [<span style="color:#e6db74">&#39;B0&#39;</span>, <span style="color:#e6db74">&#39;B1&#39;</span>, <span style="color:#e6db74">&#39;B2&#39;</span>, <span style="color:#e6db74">&#39;B3&#39;</span>]})
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>    K   A   B
0  K0  A0  B0
1  K1  A1  B1
2  K2  M2  B2
3  K3  M3  B3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;K&#39;</span>: [<span style="color:#e6db74">&#39;K0&#39;</span>, <span style="color:#e6db74">&#39;K1&#39;</span>, <span style="color:#e6db74">&#39;K4&#39;</span>, <span style="color:#e6db74">&#39;K5&#39;</span>],
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;C&#39;</span>: [<span style="color:#e6db74">&#39;C0&#39;</span>, <span style="color:#e6db74">&#39;C1&#39;</span>, <span style="color:#e6db74">&#39;M2&#39;</span>, <span style="color:#e6db74">&#39;M3&#39;</span>],
</span></span><span style="display:flex;"><span>                    <span style="color:#e6db74">&#39;D&#39;</span>: [<span style="color:#e6db74">&#39;D0&#39;</span>, <span style="color:#e6db74">&#39;D1&#39;</span>, <span style="color:#e6db74">&#39;D2&#39;</span>, <span style="color:#e6db74">&#39;D3&#39;</span>]})
</span></span><span style="display:flex;"><span>print(df2)
</span></span></code></pre></div><pre><code>    K   C   D
0  K0  C0  D0
1  K1  C1  D1
2  K4  M2  D2
3  K5  M3  D3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认 inner, 全部列都保留,   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 但只保留两者都有的列(K),且列内容相同(K0,K1)的 行, 行索引都舍弃  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>merge(df1, df2))
</span></span></code></pre></div><pre><code>    K   A   B   C   D
0  K0  A0  B0  C0  D0
1  K1  A1  B1  C1  D1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以选择以某一个为基准, 需要合并的列内容, 以及保留某一个的索引  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>merge(df1, df2, how<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;left&#39;</span>)) <span style="color:#75715e"># 以 df1 为准, 匹配不上的保留 df1  </span>
</span></span></code></pre></div><pre><code>    K   A   B    C    D
0  K0  A0  B0   C0   D0
1  K1  A1  B1   C1   D1
2  K2  M2  B2  NaN  NaN
3  K3  M3  B3  NaN  NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># df1 的 A 列与 df2 的 C 列有内容相同需要合并  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>merge(df1, df2, left_on<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;A&#39;</span>, right_on<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;C&#39;</span>)) 
</span></span></code></pre></div><pre><code>  K_x   A   B K_y   C   D
0  K2  M2  B2  K4  M2  D2
1  K3  M3  B3  K5  M3  D3
</code></pre>
<h3 id="3-数据选择与处理">3, 数据选择与处理</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">6</span>)),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcdef&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;ABCDEF&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  5  8  6  1  4  4
b  4  8  2  4  6  3
c  5  8  7  1  1  5
d  3  2  7  8  8  7
e  1  2  6  2  6  1
f  2  5  4  1  4  6
</code></pre>
<p><strong>sample 随机选择数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以指定数量, 也可以按比例选  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>sample(<span style="color:#ae81ff">2</span>) <span style="color:#75715e"># Series 也可  </span>
</span></span></code></pre></div><pre><code>E    4
B    8
Name: a, dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>sample(<span style="color:#ae81ff">3</span>))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  5  8  6  1  4  4
b  4  8  2  4  6  3
c  5  8  7  1  1  5
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>sample(frac<span style="color:#f92672">=</span><span style="color:#ae81ff">0.5</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>))  
</span></span></code></pre></div><pre><code>   F  C  D
a  4  6  1
b  3  2  4
c  5  7  1
d  7  7  8
e  1  6  2
f  6  4  1
</code></pre>
<p><strong>where 按条件选择数据, 且可替换, 替换的是条件之外的数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>A<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">3</span>) <span style="color:#75715e"># Series 也可  </span>
</span></span></code></pre></div><pre><code>a    5.0
b    4.0
c    5.0
d    NaN
e    NaN
f    NaN
Name: A, dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>where(df<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  NaN  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  NaN  NaN  5.0
d  3.0  2  7  8.0  8.0  7.0
e  NaN  2  6  2.0  6.0  NaN
f  2.0  5  4  NaN  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>where(df<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>, <span style="color:#66d9ef">lambda</span> x: x<span style="color:#f92672">*</span>x))  
</span></span></code></pre></div><pre><code>    A   B   C   D   E   F
a  25  64  36   1  16  16
b  16  64   4  16  36   9
c  25  64  49   1   1  25
d   9   4  49  64  64  49
e   1   4  36   4  36   1
f   4  25  16   1  16  36
</code></pre>
<p><strong>isin 生成布尔数组来选择数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>values <span style="color:#f92672">=</span> [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">7</span>, <span style="color:#e6db74">&#39;a&#39;</span>, <span style="color:#e6db74">&#39;c&#39;</span>]  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>C<span style="color:#f92672">.</span>isin(values)
</span></span></code></pre></div><pre><code>a    False
b    False
c     True
d     True
e    False
f    False
Name: C, dtype: bool
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A[df<span style="color:#f92672">.</span>C<span style="color:#f92672">.</span>isin(values)]  
</span></span></code></pre></div><pre><code>c    5
d    3
Name: A, dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[df<span style="color:#f92672">.</span>isin(values)])
</span></span></code></pre></div><pre><code>     A    B    C   D   E    F
a  5.0  NaN  NaN NaN NaN  NaN
b  NaN  NaN  NaN NaN NaN  3.0
c  5.0  NaN  7.0 NaN NaN  5.0
d  3.0  NaN  7.0 NaN NaN  7.0
e  NaN  NaN  NaN NaN NaN  NaN
f  NaN  5.0  NaN NaN NaN  NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[df<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>isin(values)])  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  5  8  6  1  4  4
c  5  8  7  1  1  5
</code></pre>
<p><strong>isna( isnull ) 和 notna ( notnull ) 生成布尔数组</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以 pd 调用, 也可 DataFrame 或 Series 调用  </span>
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>isna(df1<span style="color:#f92672">.</span>D)
</span></span></code></pre></div><pre><code>a     True
b    False
c     True
d    False
e    False
f     True
Name: D, dtype: bool
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>D<span style="color:#f92672">.</span>isnull()
</span></span></code></pre></div><pre><code>a     True
b    False
c     True
d    False
e    False
f     True
Name: D, dtype: bool
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>isna())  
</span></span></code></pre></div><pre><code>       A      B      C      D      E      F
a  False  False  False   True  False  False
b  False  False  False  False  False  False
c  False  False  False   True   True  False
d  False  False  False  False  False  False
e   True  False  False  False  False   True
f  False  False  False   True  False  False
</code></pre>
<p><strong>dropna 删除 nan, fillna 将 nan 填充</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  NaN  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  NaN  NaN  5.0
d  3.0  2  7  8.0  8.0  7.0
e  NaN  2  6  2.0  6.0  NaN
f  2.0  5  4  NaN  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认有 nan 的行就删除, 参数 all: 全部 nan 才删除  </span>
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>dropna() <span style="color:#75715e"># Series 也可  </span>
</span></span></code></pre></div><pre><code>a    5.0
b    4.0
c    5.0
d    3.0
f    2.0
Name: A, dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>dropna())
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
b  4.0  8  2  4.0  6.0  3.0
d  3.0  2  7  8.0  8.0  7.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>dropna(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, how<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;all&#39;</span>))  
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  NaN  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  NaN  NaN  5.0
d  3.0  2  7  8.0  8.0  7.0
e  NaN  2  6  2.0  6.0  NaN
f  2.0  5  4  NaN  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 给定填充值, 默认全部填充,   </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 可以指定填充数, 填充方式  </span>
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>fillna(<span style="color:#ae81ff">0</span>) <span style="color:#75715e"># Series 也可</span>
</span></span></code></pre></div><pre><code>a    5.0
b    4.0
c    5.0
d    3.0
e    0.0
f    2.0
Name: A, dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>fillna(<span style="color:#ae81ff">0</span>))
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  0.0  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  0.0  0.0  5.0
d  3.0  2  7  8.0  8.0  7.0
e  0.0  2  6  2.0  6.0  0.0
f  2.0  5  4  0.0  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>fillna(<span style="color:#ae81ff">0</span>, limit<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)) <span style="color:#75715e"># 每一列填充一个  </span>
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  0.0  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  NaN  0.0  5.0
d  3.0  2  7  8.0  8.0  7.0
e  0.0  2  6  2.0  6.0  0.0
f  2.0  5  4  NaN  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># ffill 前面值填充, bfill 后面值填充  </span>
</span></span><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>fillna(method<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ffill&#39;</span>))
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  NaN  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  4.0  6.0  5.0
d  3.0  2  7  8.0  8.0  7.0
e  3.0  2  6  2.0  6.0  7.0
f  2.0  5  4  2.0  4.0  6.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>fillna(method<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;bfill&#39;</span>))  
</span></span></code></pre></div><pre><code>     A  B  C    D    E    F
a  5.0  8  6  4.0  4.0  4.0
b  4.0  8  2  4.0  6.0  3.0
c  5.0  8  7  8.0  8.0  5.0
d  3.0  2  7  8.0  8.0  7.0
e  2.0  2  6  2.0  6.0  6.0
f  2.0  5  4  NaN  4.0  6.0
</code></pre>
<p><strong>drop_duplicates 去重</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">1</span>]  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  4  8  2  4  6  3
b  4  8  2  4  6  3
c  5  8  7  1  1  5
d  3  2  7  8  8  7
e  1  2  6  2  6  1
f  2  5  4  1  4  6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认保留第 1 条数据  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>drop_duplicates() <span style="color:#75715e"># Series 也可 </span>
</span></span></code></pre></div><pre><code>a    4
c    5
d    3
e    1
f    2
Name: A, dtype: int32
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>drop_duplicates())  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  4  8  2  4  6  3
c  5  8  7  1  1  5
d  3  2  7  8  8  7
e  1  2  6  2  6  1
f  2  5  4  1  4  6
</code></pre>
<p><strong>nlargest 选择某列(某几列)值最大的几条数据, 对应还有 nsmallest</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>nlargest(<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;A&#39;</span>))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
c  5  8  7  1  1  5
a  4  8  2  4  6  3
b  4  8  2  4  6  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>nsmallest(<span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;A&#39;</span>))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
e  1  2  6  2  6  1
f  2  5  4  1  4  6
d  3  2  7  8  8  7
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>nlargest(<span style="color:#ae81ff">3</span>, [<span style="color:#e6db74">&#39;C&#39;</span>, <span style="color:#e6db74">&#39;D&#39;</span>]))  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
d  3  2  7  8  8  7
c  5  8  7  1  1  5
e  1  2  6  2  6  1
</code></pre>
<p><strong>filter 按索引查找数据, 可正则模糊查找</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>filter([<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>]))
</span></span></code></pre></div><pre><code>   A  B
a  4  8
b  4  8
c  5  8
d  3  2
e  1  2
f  2  5
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>filter(like<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;a&#39;</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  4  8  2  4  6  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>filter(regex<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;c&#39;</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>))  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
c  5  8  7  1  1  5
</code></pre>
<p><strong>assign 用于新增辅助列</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>assign(A1<span style="color:#f92672">=</span>df[<span style="color:#e6db74">&#39;A&#39;</span>]<span style="color:#f92672">/</span>df[<span style="color:#e6db74">&#39;F&#39;</span>]))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F        A1
a  4  8  2  4  6  3  1.333333
b  4  8  2  4  6  3  1.333333
c  5  8  7  1  1  5  1.000000
d  3  2  7  8  8  7  0.428571
e  1  2  6  2  6  1  1.000000
f  2  5  4  1  4  6  0.333333
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>assign(A1<span style="color:#f92672">=</span><span style="color:#66d9ef">lambda</span> x:x<span style="color:#f92672">.</span>A<span style="color:#f92672">/</span>x<span style="color:#f92672">.</span>F))  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F        A1
a  4  8  2  4  6  3  1.333333
b  4  8  2  4  6  3  1.333333
c  5  8  7  1  1  5  1.000000
d  3  2  7  8  8  7  0.428571
e  1  2  6  2  6  1  1.000000
f  2  5  4  1  4  6  0.333333
</code></pre>
<p><strong>clip 将过大或过小的数据去掉, 并填充指定值</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 小于指定值的填充为指定值小者, 大于的反之  </span>
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>clip(<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">6</span>))
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  4  6  2  4  6  3
b  4  6  2  4  6  3
c  5  6  6  2  2  5
d  3  2  6  6  6  6
e  2  2  6  2  6  2
f  2  5  4  2  4  6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>clip(df<span style="color:#f92672">.</span>A, df<span style="color:#f92672">.</span>A <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>))  
</span></span></code></pre></div><pre><code>   A  B  C  D  E  F
a  4  6  4  4  6  4
b  4  6  4  4  6  4
c  5  7  7  5  5  5
d  3  3  5  5  5  5
e  1  2  3  2  3  1
f  2  4  4  2  4  4
</code></pre>
<h3 id="4-数据分组聚合计算">4, 数据分组聚合计算</h3>
<p>聚合计算和 numpy 函数基本一样, 例如 sum, count, median, min, max, mean, var, std 等, 比较容易</p>
<p>更为重要的, 是将数据按需分组后再聚合运算</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">9</span>, (<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">6</span>)),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;abcdef&#39;</span>),  
</span></span><span style="display:flex;"><span>                  columns<span style="color:#f92672">=</span>list(<span style="color:#e6db74">&#39;ABCDEF&#39;</span>))  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>A<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;M&#39;</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>A<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;M&#39;</span>, <span style="color:#e6db74">&#39;N&#39;</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>B<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>B<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">3</span>, <span style="color:#e6db74">&#39;J&#39;</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>B<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>B<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;J&#39;</span>, <span style="color:#e6db74">&#39;K&#39;</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>C<span style="color:#f92672">.</span>where(df<span style="color:#f92672">.</span>C<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>, np<span style="color:#f92672">.</span>nan, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>   A  B    C  D  E  F
a  N  K  NaN  1  4  4
b  N  K  2.0  4  6  3
c  N  K  NaN  1  1  5
d  M  J  NaN  8  8  7
e  M  J  NaN  2  6  1
f  M  K  4.0  1  4  6
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认按列加和, 将 nan 转换为 0 来计算  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><pre><code>A    NNNMMM
B    KKKJJK
C       6.0
D        17
E        29
F        26
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>sum(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, numeric_only<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span></code></pre></div><pre><code>a     9.0
b    15.0
c     7.0
d    23.0
e     9.0
f    15.0
dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 按行统计忽略 nan  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>count(axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><pre><code>a    5
b    6
c    5
d    5
e    5
f    6
dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>set_index([<span style="color:#e6db74">&#34;A&#34;</span>, <span style="color:#e6db74">&#34;B&#34;</span>])<span style="color:#f92672">.</span>groupby(level<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;A&#34;</span>)<span style="color:#f92672">.</span>count())  
</span></span></code></pre></div><pre><code>   C  D  E  F
A            
M  1  3  3  3
N  1  3  3  3
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>set_index([<span style="color:#e6db74">&#34;A&#34;</span>, <span style="color:#e6db74">&#34;B&#34;</span>])<span style="color:#f92672">.</span>groupby(level<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;B&#34;</span>)<span style="color:#f92672">.</span>count())  
</span></span></code></pre></div><pre><code>   C  D  E  F
B            
J  0  2  2  2
K  2  4  4  4
</code></pre>
<p><strong>value_counts 统计 Series 中每个值出现次数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># Series 的值统计, 也即是 DataFrame 的每一列中每个值的数量统计  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>A<span style="color:#f92672">.</span>value_counts()
</span></span></code></pre></div><pre><code>N    3
M    3
Name: A, dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>C<span style="color:#f92672">.</span>value_counts()  
</span></span></code></pre></div><pre><code>2.0    1
4.0    1
Name: C, dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以统计索引, 可按百分比显示, 可以分组统计  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>set_index(<span style="color:#e6db74">&#39;A&#39;</span>)<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>value_counts(normalize<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span></code></pre></div><pre><code>N    0.5
M    0.5
Name: A, dtype: float64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>D<span style="color:#f92672">.</span>value_counts(bins<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)  
</span></span></code></pre></div><pre><code>(0.992, 4.5]    5
(4.5, 8.0]      1
Name: D, dtype: int64
</code></pre>
<p><strong>nunique 去重计数, 统计每一行或列不同值的数量</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>nunique()   
</span></span></code></pre></div><pre><code>A    2
B    2
C    2
D    4
E    4
F    6
dtype: int64
</code></pre>
<p><strong>quantile 计算分位数</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>quantile([<span style="color:#ae81ff">0.3</span>, <span style="color:#ae81ff">0.6</span>]))
</span></span></code></pre></div><pre><code>       C    D    E    F
0.3  2.6  1.0  4.0  3.5
0.6  3.2  2.0  6.0  5.0
</code></pre>
<p><strong>cut 与 qcut 数据分箱</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将某一列中的值分别分到一个范围中, 默认左不包含右包含  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 这对分组非常有用, 例如年龄分段  </span>
</span></span><span style="display:flex;"><span>c <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>cut(df<span style="color:#f92672">.</span>D, bins<span style="color:#f92672">=</span>[<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">8</span>], labels<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;0到3&#39;</span>, <span style="color:#e6db74">&#39;3到8&#39;</span>])  
</span></span><span style="display:flex;"><span>c  
</span></span></code></pre></div><pre><code>a    0到3
b    3到8
c    0到3
d    3到8
e    0到3
f    0到3
Name: D, dtype: category
Categories (2, object): ['0到3' &lt; '3到8']
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 根据数值的频率来选择间隔, 使每个分段里值的个数相同  </span>
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>qcut(df<span style="color:#f92672">.</span>D, q<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
</span></span></code></pre></div><pre><code>a    (0.999, 1.5]
b      (1.5, 8.0]
c    (0.999, 1.5]
d      (1.5, 8.0]
e      (1.5, 8.0]
f    (0.999, 1.5]
Name: D, dtype: category
Categories (2, interval[float64, right]): [(0.999, 1.5] &lt; (1.5, 8.0]]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>qcut(df<span style="color:#f92672">.</span>D, q<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">.</span>value_counts()  
</span></span></code></pre></div><pre><code>(0.999, 1.5]    3
(1.5, 8.0]      3
Name: D, dtype: int64
</code></pre>
<p><strong>rank 用来给数据排名, 例如销售额, 成绩等</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 有多种排名方式可供选择, 举一例: 给 D 列排名  </span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;排名&#39;</span>] <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>D<span style="color:#f92672">.</span>rank(method<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;dense&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)  
</span></span><span style="display:flex;"><span>print(df) 
</span></span></code></pre></div><pre><code>   A  B    C  D  E  F   排名
a  N  K  NaN  1  4  4  4.0
b  N  K  2.0  4  6  3  2.0
c  N  K  NaN  1  1  5  4.0
d  M  J  NaN  8  8  7  1.0
e  M  J  NaN  2  6  1  3.0
f  M  K  4.0  1  4  6  4.0
</code></pre>
<p><strong>sort_values 数据排序</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>sort_values(<span style="color:#e6db74">&#39;排名&#39;</span>, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>   A  B    C  D  E  F   排名
d  M  J  NaN  8  8  7  1.0
b  N  K  2.0  4  6  3  2.0
e  M  J  NaN  2  6  1  3.0
a  N  K  NaN  1  4  4  4.0
c  N  K  NaN  1  1  5  4.0
f  M  K  4.0  1  4  6  4.0
</code></pre>
<p><strong>shift 数据移动, 索引不变</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>shift(<span style="color:#ae81ff">2</span>))
</span></span></code></pre></div><pre><code>     A    B    C    D    E    F   排名
d  NaN  NaN  NaN  NaN  NaN  NaN  NaN
b  NaN  NaN  NaN  NaN  NaN  NaN  NaN
e    M    J  NaN  8.0  8.0  7.0  1.0
a    N    K  2.0  4.0  6.0  3.0  2.0
c    M    J  NaN  2.0  6.0  1.0  3.0
f    N    K  NaN  1.0  4.0  4.0  4.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>shift(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>))  
</span></span></code></pre></div><pre><code>   A    B  C  D  E    F  排名
d  J  NaN  8  8  7  1.0 NaN
b  K  2.0  4  6  3  2.0 NaN
e  J  NaN  2  6  1  3.0 NaN
a  K  NaN  1  4  4  4.0 NaN
c  K  NaN  1  1  5  4.0 NaN
f  K  4.0  1  4  6  4.0 NaN
</code></pre>
<p><strong>agg 和 apply 传入函数进行高级聚合运算, 已存在的函数用字符串形式传入, 自定义函数传入函数名</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>agg(<span style="color:#e6db74">&#39;sum&#39;</span>)
</span></span></code></pre></div><pre><code>A     MNMNNM
B     JKJKKK
C        6.0
D         17
E         29
F         26
排名      18.0
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>agg([<span style="color:#e6db74">&#39;max&#39;</span>, <span style="color:#e6db74">&#39;min&#39;</span>]))
</span></span></code></pre></div><pre><code>     A  B    C  D  E  F   排名
max  N  K  4.0  8  8  7  4.0
min  M  J  2.0  1  1  1  1.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>apply([<span style="color:#e6db74">&#39;max&#39;</span>, <span style="color:#e6db74">&#39;min&#39;</span>]))  
</span></span></code></pre></div><pre><code>     A  B    C  D  E  F   排名
max  N  K  4.0  8  8  7  4.0
min  M  J  2.0  1  1  1  1.0
</code></pre>
<p>🔺🔺 <strong>groupby 按指定的列(行)中不同值分组, 与前面的聚合函数组合出无限的变化, 满足各种需求</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 分组后是一个迭代器, 可以查看分组, 获取分组  </span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A&#39;</span>)
</span></span></code></pre></div><pre><code>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x0000021E8A8295B0&gt;
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A&#39;</span>)<span style="color:#f92672">.</span>groups 
</span></span></code></pre></div><pre><code>{'M': ['d', 'e', 'f'], 'N': ['b', 'a', 'c']}
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A&#39;</span>)<span style="color:#f92672">.</span>get_group(<span style="color:#e6db74">&#39;M&#39;</span>))  
</span></span></code></pre></div><pre><code>   A  B    C  D  E  F   排名
d  M  J  NaN  8  8  7  1.0
e  M  J  NaN  2  6  1  3.0
f  M  K  4.0  1  4  6  4.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 分别取出 M 和 N 中 F 列任意排名的数据  </span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_second</span>(x, m, n):  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x[x[m]<span style="color:#f92672">.</span>rank(method<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;dense&#39;</span>, ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">==</span>n]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 通过修改 n 参数取出任意排名  </span>
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A&#39;</span>)<span style="color:#f92672">.</span>apply(get_second, m<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;F&#39;</span>, n<span style="color:#f92672">=</span><span style="color:#ae81ff">3.0</span>))  
</span></span></code></pre></div><pre><code>     A  B    C  D  E  F   排名
A                           
M e  M  J  NaN  2  6  1  3.0
N b  N  K  2.0  4  6  3  2.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 将上述 cut 分箱得到的数据用来分组统计  </span>
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>groupby(c)<span style="color:#f92672">.</span>count())  
</span></span></code></pre></div><pre><code>     A  B  C  D  E  F  排名
D                        
0到3  4  4  1  4  4  4   4
3到8  2  2  1  2  2  2   2
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 对不同的列作不同的分组聚合运算  </span>
</span></span><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;A&#39;</span>)<span style="color:#f92672">.</span>agg({<span style="color:#e6db74">&#39;E&#39;</span>: [<span style="color:#e6db74">&#39;mean&#39;</span>, <span style="color:#e6db74">&#39;max&#39;</span>], <span style="color:#e6db74">&#39;F&#39;</span>: <span style="color:#e6db74">&#39;sum&#39;</span>})) 
</span></span></code></pre></div><pre><code>          E       F
       mean max sum
A                  
M  6.000000   8  14
N  3.666667   6  12
</code></pre>
<h3 id="5-数据透视与窗口函数">5, 数据透视与窗口函数</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>seed(<span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">20</span>, (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>)))  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>columns <span style="color:#f92672">=</span> list(<span style="color:#e6db74">&#39;ABCDE&#39;</span>)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>    A   B   C  D   E
0  13  16   1  4   4
1   8  10  19  5   7
2  13   2   7  8  15
3  18   6  14  9  10
</code></pre>
<p><strong>melt 将列索引展开成数据</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认全部展开  </span>
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>melt(df, id_vars<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>], var_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;F&#39;</span>, value_name<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;G&#39;</span>)  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>     A   B  F   G
0   13  16  C   1
1    8  10  C  19
2   13   2  C   7
3   18   6  C  14
4   13  16  D   4
5    8  10  D   5
6   13   2  D   8
7   18   6  D   9
8   13  16  E   4
9    8  10  E   7
10  13   2  E  15
11  18   6  E  10
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>melt(df, id_vars<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>], value_vars<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;C&#39;</span>]))  
</span></span></code></pre></div><pre><code>    A   B variable  value
0  13  16        C      1
1   8  10        C     19
2  13   2        C      7
3  18   6        C     14
</code></pre>
<p><strong>pivot 将行值展开成为列索引</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>pivot(columns<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;F&#39;</span>, values<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;B&#39;</span>])) 
</span></span></code></pre></div><pre><code>       A                 B            
F      C     D     E     C     D     E
0   13.0   NaN   NaN  16.0   NaN   NaN
1    8.0   NaN   NaN  10.0   NaN   NaN
2   13.0   NaN   NaN   2.0   NaN   NaN
3   18.0   NaN   NaN   6.0   NaN   NaN
4    NaN  13.0   NaN   NaN  16.0   NaN
5    NaN   8.0   NaN   NaN  10.0   NaN
6    NaN  13.0   NaN   NaN   2.0   NaN
7    NaN  18.0   NaN   NaN   6.0   NaN
8    NaN   NaN  13.0   NaN   NaN  16.0
9    NaN   NaN   8.0   NaN   NaN  10.0
10   NaN   NaN  13.0   NaN   NaN   2.0
11   NaN   NaN  18.0   NaN   NaN   6.0
</code></pre>
<p><strong>pivot_table 与 groupby + 聚合函数 类似, 可以对表格进行各种需求的透视</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> list(<span style="color:#e6db74">&#39;LMNLMNLMNLMN&#39;</span>)  
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;index&#39;</span>: <span style="color:#e6db74">&#39;Q&#39;</span>}, inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>    Q   A   B  F   G
0   L  13  16  C   1
1   M   8  10  C  19
2   N  13   2  C   7
3   L  18   6  C  14
4   M  13  16  D   4
5   N   8  10  D   5
6   L  13   2  D   8
7   M  18   6  D   9
8   N  13  16  E   4
9   L   8  10  E   7
10  M  13   2  E  15
11  N  18   6  E  10
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>pivot_table(index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;Q&#39;</span>, <span style="color:#e6db74">&#39;F&#39;</span>], aggfunc<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;mean&#39;</span>))  
</span></span></code></pre></div><pre><code>        A   B     G
Q F                
L C  15.5  11   7.5
  D  13.0   2   8.0
  E   8.0  10   7.0
M C   8.0  10  19.0
  D  15.5  11   6.5
  E  13.0   2  15.0
N C  13.0   2   7.0
  D   8.0  10   5.0
  E  15.5  11   7.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>pivot_table(index<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Q&#39;</span>,  
</span></span><span style="display:flex;"><span>                columns<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;F&#39;</span>,  
</span></span><span style="display:flex;"><span>                values<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;A&#39;</span>,  
</span></span><span style="display:flex;"><span>                aggfunc<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;mean&#39;</span>, <span style="color:#e6db74">&#39;sum&#39;</span>]))  
</span></span></code></pre></div><pre><code>   mean             sum        
F     C     D     E   C   D   E
Q                              
L  15.5  13.0   8.0  31  13   8
M   8.0  15.5  13.0   8  31  13
N  13.0   8.0  15.5  13   8  31
</code></pre>
<p><strong>rolling 将数据依次移动指定尺寸的窗口并进行聚合运算</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df1<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">3</span>)  
</span></span></code></pre></div><pre><code>Rolling [window=3,center=False,axis=0,method=single]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>    Q   A   B  F   G
0   L  13  16  C   1
1   M   8  10  C  19
2   N  13   2  C   7
3   L  18   6  C  14
4   M  13  16  D   4
5   N   8  10  D   5
6   L  13   2  D   8
7   M  18   6  D   9
8   N  13  16  E   4
9   L   8  10  E   7
10  M  13   2  E  15
11  N  18   6  E  10
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 移动 3 条数据加和一次作为一条新数据,  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 前面默认 nan 填充  </span>
</span></span><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">3</span>)<span style="color:#f92672">.</span>sum())  
</span></span></code></pre></div><pre><code>       A     B     G
0    NaN   NaN   NaN
1    NaN   NaN   NaN
2   34.0  28.0  27.0
3   39.0  18.0  40.0
4   44.0  24.0  25.0
5   39.0  32.0  23.0
6   34.0  28.0  17.0
7   39.0  18.0  22.0
8   44.0  24.0  21.0
9   39.0  32.0  20.0
10  34.0  28.0  26.0
11  39.0  18.0  32.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以设置最小观察值(必须小于移动尺寸)  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 可以用高级函数聚合运算  </span>
</span></span><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>rolling(len(df1), min_periods<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">.</span>sum())
</span></span></code></pre></div><pre><code>        A      B      G
0    13.0   16.0    1.0
1    21.0   26.0   20.0
2    34.0   28.0   27.0
3    52.0   34.0   41.0
4    65.0   50.0   45.0
5    73.0   60.0   50.0
6    86.0   62.0   58.0
7   104.0   68.0   67.0
8   117.0   84.0   71.0
9   125.0   94.0   78.0
10  138.0   96.0   93.0
11  156.0  102.0  103.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">2</span>)<span style="color:#f92672">.</span>agg([<span style="color:#e6db74">&#39;sum&#39;</span>, np<span style="color:#f92672">.</span>max]))  
</span></span></code></pre></div><pre><code>       A           B           G      
     sum  amax   sum  amax   sum  amax
0    NaN   NaN   NaN   NaN   NaN   NaN
1   21.0  13.0  26.0  16.0  20.0  19.0
2   21.0  13.0  12.0  10.0  26.0  19.0
3   31.0  18.0   8.0   6.0  21.0  14.0
4   31.0  18.0  22.0  16.0  18.0  14.0
5   21.0  13.0  26.0  16.0   9.0   5.0
6   21.0  13.0  12.0  10.0  13.0   8.0
7   31.0  18.0   8.0   6.0  17.0   9.0
8   31.0  18.0  22.0  16.0  13.0   9.0
9   21.0  13.0  26.0  16.0  11.0   7.0
10  21.0  13.0  12.0  10.0  22.0  15.0
11  31.0  18.0   8.0   6.0  25.0  15.0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):  
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">*</span> x<span style="color:#f92672">.</span>iloc[<span style="color:#ae81ff">1</span>]  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(df1[[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;G&#39;</span>]])
</span></span></code></pre></div><pre><code>     A   G
0   13   1
1    8  19
2   13   7
3   18  14
4   13   4
5    8   5
6   13   8
7   18   9
8   13   4
9    8   7
10  13  15
11  18  10
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df1<span style="color:#f92672">.</span>rolling(<span style="color:#ae81ff">2</span>)[<span style="color:#e6db74">&#39;A&#39;</span>, <span style="color:#e6db74">&#39;G&#39;</span>]<span style="color:#f92672">.</span>apply(f))  
</span></span></code></pre></div><pre><code>        A      G
0     NaN    NaN
1   104.0   19.0
2   104.0  133.0
3   234.0   98.0
4   234.0   56.0
5   104.0   20.0
6   104.0   40.0
7   234.0   72.0
8   234.0   36.0
9   104.0   28.0
10  104.0  105.0
11  234.0  150.0
</code></pre>
<h3 id="6-文本字符串处理">6, 文本字符串处理</h3>
<p>文本字符串处理方法基本上和 python 内建字符串方法同名, 这些方法自动忽略 nan 进行处理</p>
<p>方法较多, 常用的举几个例子:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series([<span style="color:#e6db74">&#39;A_1&#39;</span>, <span style="color:#e6db74">&#39;B_2&#39;</span>, <span style="color:#e6db74">&#39;C_3&#39;</span>, np<span style="color:#f92672">.</span>nan],  
</span></span><span style="display:flex;"><span>              index<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;A_a&#39;</span>, <span style="color:#e6db74">&#39;B_b&#39;</span>, <span style="color:#e6db74">&#39;C_c&#39;</span>, <span style="color:#e6db74">&#39;D&#39;</span>])  
</span></span><span style="display:flex;"><span>s  
</span></span></code></pre></div><pre><code>A_a    A_1
B_b    B_2
C_c    C_3
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 取值  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str[<span style="color:#ae81ff">0</span>]
</span></span></code></pre></div><pre><code>A_a      A
B_b      B
C_c      C
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str[:<span style="color:#ae81ff">2</span>]
</span></span></code></pre></div><pre><code>A_a     A_
B_b     B_
C_c     C_
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>str[<span style="color:#ae81ff">2</span>]  
</span></span></code></pre></div><pre><code>Index(['a', 'b', 'c', nan], dtype='object')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 拆分  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;_&#39;</span>)
</span></span></code></pre></div><pre><code>A_a    [A, 1]
B_b    [B, 2]
C_c    [C, 3]
D         NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;_&#39;</span>)<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>get(<span style="color:#ae81ff">0</span>)
</span></span></code></pre></div><pre><code>A_a      A
B_b      B
C_c      C
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;_&#39;</span>)<span style="color:#f92672">.</span>str[<span style="color:#ae81ff">1</span>]  
</span></span></code></pre></div><pre><code>A_a      1
B_b      2
C_c      3
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>A_a    A_1
B_b    B_2
C_c    C_3
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;_&#39;</span>, expand<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>))  
</span></span></code></pre></div><pre><code>       0    1
A_a    A    1
B_b    B    2
C_c    C    3
D    NaN  NaN
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 替换, 默认正则匹配, 可传入函数高级匹配  </span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;_&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>)
</span></span></code></pre></div><pre><code>A_a     A1
B_b     B2
C_c     C3
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>replace(<span style="color:#e6db74">&#39;_&#39;</span>, <span style="color:#e6db74">&#39;&#39;</span>)  
</span></span></code></pre></div><pre><code>Index(['Aa', 'Bb', 'Cc', 'D'], dtype='object')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 拼接  </span>
</span></span><span style="display:flex;"><span>s1 <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;_&#39;</span>)<span style="color:#f92672">.</span>str[<span style="color:#ae81ff">0</span>]  
</span></span><span style="display:flex;"><span>s1
</span></span></code></pre></div><pre><code>A_a      A
B_b      B
C_c      C
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>cat() 
</span></span></code></pre></div><pre><code>'ABC'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>cat(sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_&#39;</span>)
</span></span></code></pre></div><pre><code>'A_B_C'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>cat(sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_&#39;</span>, na_rep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_&#39;</span>)  
</span></span></code></pre></div><pre><code>'A_B_C__'
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>s1<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>cat([<span style="color:#e6db74">&#39;1&#39;</span>, <span style="color:#e6db74">&#39;2&#39;</span>, <span style="color:#e6db74">&#39;3&#39;</span>, <span style="color:#e6db74">&#39;4&#39;</span>], na_rep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;_&#39;</span>)  
</span></span></code></pre></div><pre><code>A_a    A1
B_b    B2
C_c    C3
D      _4
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 提取  </span>
</span></span><span style="display:flex;"><span>s
</span></span></code></pre></div><pre><code>A_a    A_1
B_b    B_2
C_c    C_3
D      NaN
dtype: object
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(s<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>extract(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;([ABC])_(\d)&#39;</span>))  
</span></span></code></pre></div><pre><code>       0    1
A_a    A    1
B_b    B    2
C_c    C    3
D    NaN  NaN
</code></pre>
<h2 id="三-时间序列">三, 时间序列</h2>
<p>时间序列对数据分析很重要, 很多数据都和时间发生的先后顺序相关</p>
<p><strong>date_range 生成时间序列</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np  
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>date_range(start<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;20200701&#39;</span>, end<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;20200705&#39;</span>)  
</span></span></code></pre></div><pre><code>DatetimeIndex(['2020-07-01', '2020-07-02', '2020-07-03', '2020-07-04',
               '2020-07-05'],
              dtype='datetime64[ns]', freq='D')
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以指定生成个数与频率等  </span>
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>date_range(start<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;6/1/2020&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;10D&#39;</span>)  
</span></span></code></pre></div><pre><code>DatetimeIndex(['2020-06-01', '2020-06-11', '2020-06-21', '2020-07-01',
               '2020-07-11'],
              dtype='datetime64[ns]', freq='10D')
</code></pre>
<p><strong>to_datetime 转换时间格式</strong></p>
<p>1970年 1 月 1 日 00:00:00 UTC+00:00 时区的时刻称为 epoch time，记为 0，当前时间就是相对于 epoch time
的秒数</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 获取本地当前时间  </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> datetime <span style="color:#f92672">import</span> datetime  
</span></span><span style="display:flex;"><span>print(datetime<span style="color:#f92672">.</span>now())  
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> datetime<span style="color:#f92672">.</span>now()<span style="color:#f92672">.</span>timestamp()  
</span></span><span style="display:flex;"><span>print(datetime<span style="color:#f92672">.</span>fromtimestamp(d))  
</span></span><span style="display:flex;"><span>d  
</span></span></code></pre></div><pre><code>2022-08-20 19:48:43.236534
2022-08-20 19:48:43.237531





1660996123.237531
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 数字形式的时间, 用 to_datetime 转换为时间格式后与上述有差别,  </span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 是由于时区的原因, 转换时区即可一样  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>to_datetime(d, utc<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, unit<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;s&#39;</span>))  
</span></span><span style="display:flex;"><span>d <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>Series(d)  
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>to_datetime(d, utc<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, unit<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;s&#39;</span>)<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>tz_convert(<span style="color:#e6db74">&#39;Asia/Shanghai&#39;</span>)  
</span></span></code></pre></div><pre><code>2022-08-20 11:48:43.237530880+00:00





0   2022-08-20 19:48:43.237530880+08:00
dtype: datetime64[ns, Asia/Shanghai]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 各种日期格式的转换  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>to_datetime([<span style="color:#e6db74">&#39;07-17-2020&#39;</span>, <span style="color:#e6db74">&#39;11-07-2020&#39;</span>], dayfirst<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>))  
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>to_datetime(<span style="color:#e6db74">&#39;2020年7月17日&#39;</span>, format<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;%Y年%m月</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">日&#39;</span>))  
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>to_datetime([<span style="color:#e6db74">&#39;jul 17, 2020&#39;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;2020-07-17&#39;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;20200717&#39;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;2020/07/17&#39;</span>,  
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#39;2020.07.17&#39;</span>,   
</span></span><span style="display:flex;"><span>                np<span style="color:#f92672">.</span>nan])  
</span></span></code></pre></div><pre><code>DatetimeIndex(['2020-07-17', '2020-07-11'], dtype='datetime64[ns]', freq=None)
2020-07-17 00:00:00





DatetimeIndex(['2020-07-17', '2020-07-17', '2020-07-17', '2020-07-17',
               '2020-07-17', 'NaT'],
              dtype='datetime64[ns]', freq=None)
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以跳过非时间, 可以转换 DataFrame 但索引名是固定的名称  </span>
</span></span><span style="display:flex;"><span>print(pd<span style="color:#f92672">.</span>to_datetime([<span style="color:#e6db74">&#39;2020.07.17&#39;</span>, <span style="color:#e6db74">&#39;日期&#39;</span>], errors<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;coerce&#39;</span>))  
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame({<span style="color:#e6db74">&#39;year&#39;</span>: [<span style="color:#ae81ff">2019</span>, <span style="color:#ae81ff">2020</span>],  
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#39;month&#39;</span>: [<span style="color:#ae81ff">6</span>, <span style="color:#ae81ff">7</span>],  
</span></span><span style="display:flex;"><span>              <span style="color:#e6db74">&#39;day&#39;</span>: [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>]})  
</span></span><span style="display:flex;"><span>pd<span style="color:#f92672">.</span>to_datetime(df)  
</span></span></code></pre></div><pre><code>DatetimeIndex(['2020-07-17', 'NaT'], dtype='datetime64[ns]', freq=None)





0   2019-06-04
1   2020-07-05
dtype: datetime64[ns]
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>DataFrame(np<span style="color:#f92672">.</span>random<span style="color:#f92672">.</span>randint(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">10</span>, (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">2</span>)),  
</span></span><span style="display:flex;"><span>                  index<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;20180717&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;200D&#39;</span>))  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>            0  1
2018-07-17  4  3
2019-02-02  0  3
2019-08-21  5  0
2020-03-08  2  3
2020-09-24  8  1
</code></pre>
<p><strong>时间索引取值, between_time 取时间段</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[<span style="color:#e6db74">&#39;2018&#39;</span>:<span style="color:#e6db74">&#39;2019&#39;</span>])
</span></span></code></pre></div><pre><code>            0  1
2018-07-17  4  3
2019-02-02  0  3
2019-08-21  5  0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[<span style="color:#e6db74">&#39;2019-01&#39;</span>:<span style="color:#e6db74">&#39;2020-01&#39;</span>])  
</span></span></code></pre></div><pre><code>            0  1
2019-02-02  0  3
2019-08-21  5  0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;20200717&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;2H&#39;</span>) 
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>                     0  1
2020-07-17 00:00:00  4  3
2020-07-17 02:00:00  0  3
2020-07-17 04:00:00  5  0
2020-07-17 06:00:00  2  3
2020-07-17 08:00:00  8  1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df<span style="color:#f92672">.</span>between_time(<span style="color:#e6db74">&#39;3:00&#39;</span>, <span style="color:#e6db74">&#39;7:00&#39;</span>)) 
</span></span></code></pre></div><pre><code>                     0  1
2020-07-17 04:00:00  5  0
2020-07-17 06:00:00  2  3
</code></pre>
<p><strong>时间序列作为数据的操作</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>index <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>date_range(<span style="color:#e6db74">&#39;20180717&#39;</span>, periods<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>, freq<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;100D&#39;</span>)  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>index<span style="color:#f92672">.</span>name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;日期&#39;</span>  
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>reset_index(inplace<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>          日期  0  1
0 2018-07-17  4  3
1 2018-10-25  0  3
2 2019-02-02  5  0
3 2019-05-13  2  3
4 2019-08-21  8  1
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>日期<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>day  
</span></span></code></pre></div><pre><code>0    17
1    25
2     2
3    13
4    21
Name: 日期, dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;月份&#39;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;日期&#39;</span>]<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>month  
</span></span><span style="display:flex;"><span>print(df)
</span></span></code></pre></div><pre><code>          日期  0  1  月份
0 2018-07-17  4  3   7
1 2018-10-25  0  3  10
2 2019-02-02  5  0   2
3 2019-05-13  2  3   5
4 2019-08-21  8  1   8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[df<span style="color:#f92672">.</span>日期<span style="color:#f92672">.</span>dt<span style="color:#f92672">.</span>month <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">5</span>])
</span></span></code></pre></div><pre><code>          日期  0  1  月份
0 2018-07-17  4  3   7
1 2018-10-25  0  3  10
3 2019-05-13  2  3   5
4 2019-08-21  8  1   8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[df<span style="color:#f92672">.</span>月份 <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">5</span>])
</span></span></code></pre></div><pre><code>          日期  0  1  月份
0 2018-07-17  4  3   7
1 2018-10-25  0  3  10
3 2019-05-13  2  3   5
4 2019-08-21  8  1   8
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>d <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>日期<span style="color:#f92672">.</span>astype(str)<span style="color:#f92672">.</span>str<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;-&#39;</span>, expand<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)  
</span></span><span style="display:flex;"><span>print(d)
</span></span></code></pre></div><pre><code>      0   1   2
0  2018  07  17
1  2018  10  25
2  2019  02  02
3  2019  05  13
4  2019  08  21
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(df[d[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span><span style="color:#e6db74">&#39;2018&#39;</span>])  
</span></span></code></pre></div><pre><code>          日期  0  1  月份
0 2018-07-17  4  3   7
1 2018-10-25  0  3  10
</code></pre>
<h2 id="四-数据的导入导出与可视化">四, 数据的导入导出与可视化</h2>
<h3 id="1-pandas-可以导入导出多种格式的数据">1, pandas 可以导入导出多种格式的数据:</h3>
<p>read_csv, to_csv<br>
read_json, to_json<br>
read_html, to_html<br>
read_excel, to_excel<br>
read_hdf, to_hdf<br>
等等</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 默认读取第一个 sheet, 默认第一行为列索引  </span>
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_excel(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;./sheet.xlsx&#39;</span>,  
</span></span><span style="display:flex;"><span>                   sheet_name<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>, header<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>   名次  战队名         说明
0   1  FPX      四包二战术
1   2   G2      个人能力强
2   3   IG       喜欢打架
3   4  SKT  Faker状态低迷
4   5  GRF      上单是短板
5   6  DWG        下路弱
6   7  FNC       欧洲强队
7   8  SPY        AD强
8   9  RNG        四保一
9  10   TL       北美强队
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 可以设置将某列作为行索引, 某列作为列索引  </span>
</span></span><span style="display:flex;"><span>df1 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_excel(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;./sheet.xlsx&#39;</span>,  
</span></span><span style="display:flex;"><span>                   sheet_name<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(df1)
</span></span></code></pre></div><pre><code>   名次        上单
0   1   GIMGOOM
1   2    WUNDER
2   3      KHAN
3   4   FLANDER
4   5    THESHY
5   6    NUGURI
6   7     BWIPO
7   8   IPMPACT
8   9  LICORICE
9  10      HUNI
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df2 <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_excel(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;./sheet.xlsx&#39;</span>,  
</span></span><span style="display:flex;"><span>                   sheet_name<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,  
</span></span><span style="display:flex;"><span>                   header<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>,  
</span></span><span style="display:flex;"><span>                   index_col<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)  
</span></span><span style="display:flex;"><span>print(df2)
</span></span></code></pre></div><pre><code>     GIMGOOM
1           
2     WUNDER
3       KHAN
4    FLANDER
5     THESHY
6     NUGURI
7      BWIPO
8    IPMPACT
9   LICORICE
10      HUNI
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 有时需要根据文件调节编码和引擎参数  </span>
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#39;./ratings_chinses.csv&#39;</span>,  
</span></span><span style="display:flex;"><span>                 engine<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>,  
</span></span><span style="display:flex;"><span>                 encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gbk&#39;</span>)  
</span></span><span style="display:flex;"><span>print(df)  
</span></span></code></pre></div><pre><code>      数量   收获  评分
0      1    1   4
1      2    3   4
2      3    6   4
3      4   47   5
4      5   50   5
..   ...  ...  ..
105  106   47   5
106  107   50   3
107  108   70   5
108  109  101   4
109  110  110   5

[110 rows x 3 columns]
</code></pre>
<h3 id="2-可视化">2, 可视化</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.family&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Microsoft YaHei&#39;</span>   
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>rcParams[<span style="color:#e6db74">&#39;font.size&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>  
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>收获<span style="color:#f92672">.</span>plot()   
</span></span></code></pre></div><p><img src="output_291_1.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;评分&#39;</span>]<span style="color:#f92672">.</span>plot(kind<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;hist&#39;</span>)   
</span></span></code></pre></div><p><img src="output_292_1.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>plot(x<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;数量&#39;</span>, y<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;评分&#39;</span>)   
</span></span></code></pre></div><p><img src="output_293_1.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>评分<span style="color:#f92672">.</span>plot<span style="color:#f92672">.</span>box()  
</span></span></code></pre></div><p><img src="output_294_1.png" alt="png"></p>

<div class="box attachments cstyle blue">
  <div class="box-label"><i class="fa-fw fas fa-paperclip"></i> jupyter附件</div>
  <ul class="box-content attachments-files">
    <li><a href="/pandas/_index.files/sheet.xlsx">sheet.xlsx</a> (34 KB)</li>
    <li><a href="/pandas/_index.files/ratings_chinses.csv">ratings_chinses.csv</a> (1 KB)</li>
    <li><a href="/pandas/_index.files/pandas.ipynb">pandas.ipynb</a> (436 KB)</li>
  </ul>
</div>


            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="sidebar" class="default-animation showVisitedLinks">
      <div id="header-wrapper" class="default-animation">
        <div id="header" class="default-animation">
          <a id="logo" href="/">
            <br><font face="serif" size="6" color="#17202A"><b>🏠明文 AI 编程</b></font>
          </a>
        </div>
        <div class="searchbox default-animation">
          <label for="search-by"><i class="fas fa-search"></i></label>
          <input data-search-input id="search-by" type="search" placeholder="搜索...">
          <span data-search-clear=""><i class="fas fa-times"></i></span>
        </div>
        <script>
          var contentLangs=['zh'];
        </script>
        <script src="/js/auto-complete.js?1744729038" defer></script>
        <script src="/js/lunr.min.js?1744729038" defer></script>
        <script src="/js/lunr.stemmer.support.min.js?1744729038" defer></script>
        <script src="/js/lunr.multi.min.js?1744729038" defer></script>
        <script src="/js/lunr.zh.min.js?1744729038" defer></script>
        <script src="/js/search.js?1744729038" defer></script>
      </div>
      <div id="content-wrapper" class="highlightable">
        <ul class="topics">
          <li data-nav-id="/python/" title="Python 语法基础知识详解和查询手册" class="dd-item"><input type="checkbox" id="section-c8861a2651b27ee3930a98ce392020d1" class="toggle"/><label for="section-c8861a2651b27ee3930a98ce392020d1" ></label><a href="/python/">Python<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/01_numeric/" title="数字类型概述" class="dd-item"><input type="checkbox" id="section-f26ae7da78c4758569d4b453b66b4231" class="toggle"/><label for="section-f26ae7da78c4758569d4b453b66b4231" ></label><a href="/python/01_numeric/">数字类型<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/01_numeric/02_int/" title="整数及其位运算" class="dd-item"><a href="/python/01_numeric/02_int/">整数及其位运算<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/01_numeric/03_bool/" title="布尔值及布尔运算" class="dd-item"><a href="/python/01_numeric/03_bool/">布尔值及布尔运算<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/01_numeric/04_float/" title="浮点数" class="dd-item"><a href="/python/01_numeric/04_float/">浮点数<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/01_numeric/05_complex/" title="复数" class="dd-item"><a href="/python/01_numeric/05_complex/">复数<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/01_numeric/06_number_operations/" title="数字运算" class="dd-item"><a href="/python/01_numeric/06_number_operations/">数字运算<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/02_string/" title="字符串概述" class="dd-item"><input type="checkbox" id="section-0a8894164d573ed7362e26196efabc7a" class="toggle"/><label for="section-0a8894164d573ed7362e26196efabc7a" ></label><a href="/python/02_string/">字符串<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/02_string/02_concatenated_string/" title="字符串拼接" class="dd-item"><a href="/python/02_string/02_concatenated_string/">字符串拼接<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/03_escape_character/" title="转义字符" class="dd-item"><a href="/python/02_string/03_escape_character/">转义字符<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/04_str.count/" title="str.count 统计" class="dd-item"><a href="/python/02_string/04_str.count/">str.count<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/05_str.replace/" title="str.replace 替换" class="dd-item"><a href="/python/02_string/05_str.replace/">str.replace<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/06_str.expandtabs/" title="str.expandtabs 替换制表符" class="dd-item"><a href="/python/02_string/06_str.expandtabs/">str.expandtabs<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/07_str.split/" title="str.split 拆分" class="dd-item"><a href="/python/02_string/07_str.split/">str.split<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/08_str.rsplit/" title="str.rsplit 拆分" class="dd-item"><a href="/python/02_string/08_str.rsplit/">str.rsplit<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/09_str.partition/" title="str.partition 拆分" class="dd-item"><a href="/python/02_string/09_str.partition/">str.partition<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/10_str.rpartition/" title="str.rpartition 拆分" class="dd-item"><a href="/python/02_string/10_str.rpartition/">str.rpartition<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/11_str.splitlines/" title="str.splitlines 按行拆分" class="dd-item"><a href="/python/02_string/11_str.splitlines/">str.splitlines<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/12_str.strip/" title="str.strip 移除两边字符" class="dd-item"><a href="/python/02_string/12_str.strip/">str.strip<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/13_str.lstrip/" title="str.lstrip 移除左边字符" class="dd-item"><a href="/python/02_string/13_str.lstrip/">str.lstrip<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/14_str.rstrip/" title="str.rstrip 移除右边字符" class="dd-item"><a href="/python/02_string/14_str.rstrip/">str.rstrip<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/15_str.find/" title="str.find 查找最小索引" class="dd-item"><a href="/python/02_string/15_str.find/">str.find<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/16_str.rfind/" title="str.rfind 查找最大索引" class="dd-item"><a href="/python/02_string/16_str.rfind/">str.rfind<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/17_str.index/" title="str.index 查找最小索引" class="dd-item"><a href="/python/02_string/17_str.index/">str.index<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/18_str.rindex/" title="str.rindex 查找最大索引" class="dd-item"><a href="/python/02_string/18_str.rindex/">str.rindex<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/19_str.join/" title="str.join 拼接字符串" class="dd-item"><a href="/python/02_string/19_str.join/">str.join<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/20_str.startswith/" title="str.startswith 指定字符串开头？" class="dd-item"><a href="/python/02_string/20_str.startswith/">str.startswith<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/21_str.endswith/" title="str.endswith 指定字符串结尾？" class="dd-item"><a href="/python/02_string/21_str.endswith/">str.endswith<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/22_str.ljust/" title="str.ljust 左对齐" class="dd-item"><a href="/python/02_string/22_str.ljust/">str.ljust<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/23_str.center/" title="str.center 居中" class="dd-item"><a href="/python/02_string/23_str.center/">str.center<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/24_str.rjust/" title="str.rjust 右对齐" class="dd-item"><a href="/python/02_string/24_str.rjust/">str.rjust<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/25_str.format/" title="str.format 格式化" class="dd-item"><a href="/python/02_string/25_str.format/">str.format<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/26_str.format_map/" title="str.format_map 格式化" class="dd-item"><a href="/python/02_string/26_str.format_map/">str.format_map<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/27_f-string/" title="f-string 格式化字符串" class="dd-item"><a href="/python/02_string/27_f-string/">f-string 格式化<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/28_string_operators/" title="字符串操作符" class="dd-item"><a href="/python/02_string/28_string_operators/">字符串操作符<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/29_str.encode/" title="str.encode 编码为字节串" class="dd-item"><a href="/python/02_string/29_str.encode/">str.encode<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/30_str.capitalize/" title="str.capitalize 首字符大写" class="dd-item"><a href="/python/02_string/30_str.capitalize/">str.capitalize<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/31_str.casefold/" title="str.casefold 消除大小写" class="dd-item"><a href="/python/02_string/31_str.casefold/">str.casefold<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/32_str.lower/" title="str.lower 转小写" class="dd-item"><a href="/python/02_string/32_str.lower/">str.lower<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/33_str.title/" title="str.title 单词首字母大写" class="dd-item"><a href="/python/02_string/33_str.title/">str.title<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/34_str.upper/" title="str.upper 转大写" class="dd-item"><a href="/python/02_string/34_str.upper/">str.upper<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/35_str.swapcase/" title="str.swapcase 大小写互转" class="dd-item"><a href="/python/02_string/35_str.swapcase/">str.swapcase<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/36_str.zfill/" title="str.zfill 填充 0" class="dd-item"><a href="/python/02_string/36_str.zfill/">str.zfill<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/37_str.translate/" title="str.translate 按表转换" class="dd-item"><a href="/python/02_string/37_str.translate/">str.translate<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/38_str.maketrans/" title="str.maketrans 生成转换表" class="dd-item"><a href="/python/02_string/38_str.maketrans/">str.maketrans<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/39_str.isalnum/" title="str.isalnum 是字母或数字？" class="dd-item"><a href="/python/02_string/39_str.isalnum/">str.isalnum<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/40_str.isalpha/" title="str.isalpha 是字母（包括汉字等）？" class="dd-item"><a href="/python/02_string/40_str.isalpha/">str.isalpha<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/41_str.isdecimal/" title="str.isdecimal 是十进制字符？" class="dd-item"><a href="/python/02_string/41_str.isdecimal/">str.isdecimal<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/42_str.isdigit/" title="str.isdigit 是数字？" class="dd-item"><a href="/python/02_string/42_str.isdigit/">str.isdigit<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/43_str.isnumeric/" title="str.isnumeric 是数值字符？" class="dd-item"><a href="/python/02_string/43_str.isnumeric/">str.isnumeric<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/44_str.islower/" title="str.islower 是小写？" class="dd-item"><a href="/python/02_string/44_str.islower/">str.islower<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/45_str.isupper/" title="str.isupper 是大写？" class="dd-item"><a href="/python/02_string/45_str.isupper/">str.isupper<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/46_str.istitle/" title="str.istitle 是标题字符串？" class="dd-item"><a href="/python/02_string/46_str.istitle/">str.istitle<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/47_str.isascii/" title="str.isascii 是 ASCII 字符？" class="dd-item"><a href="/python/02_string/47_str.isascii/">str.isascii<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/48_str.isidentifier/" title="str.isidentifier 是有效标识符？" class="dd-item"><a href="/python/02_string/48_str.isidentifier/">str.isidentifier<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/49_str.isprintable/" title="str.isprintable 是可打印字符？" class="dd-item"><a href="/python/02_string/49_str.isprintable/">str.isprintable<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/50_str.isspace/" title="str.isspace 是空白字符？" class="dd-item"><a href="/python/02_string/50_str.isspace/">str.isspace<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/51_str.removeprefix/" title="str.removeprefix  移除前缀" class="dd-item"><a href="/python/02_string/51_str.removeprefix/">str.removeprefix<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/02_string/52_str.removesuffix/" title="str.removesuffix 移除后缀" class="dd-item"><a href="/python/02_string/52_str.removesuffix/">str.removesuffix<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/03_list/" title="列表" class="dd-item"><input type="checkbox" id="section-9dce683949d5d69d823966a12cca5136" class="toggle"/><label for="section-9dce683949d5d69d823966a12cca5136" ></label><a href="/python/03_list/">列表概述<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/03_list/02_list_comprehension/" title="列表推导式" class="dd-item"><a href="/python/03_list/02_list_comprehension/">列表推导式<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/03_list_indexes_and_slices/" title="列表的索引和切片" class="dd-item"><a href="/python/03_list/03_list_indexes_and_slices/">列表的索引和切片<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/15_list.clear/" title="list.clear 删除所有元素" class="dd-item"><a href="/python/03_list/15_list.clear/">list.clear<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/04_list_operator/" title="列表操作符" class="dd-item"><a href="/python/03_list/04_list_operator/">列表操作符<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/05_list.append/" title="list.append 添加一个元素" class="dd-item"><a href="/python/03_list/05_list.append/">list.append<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/06_list.extend/" title="list.extend 加入可迭代对象中元素" class="dd-item"><a href="/python/03_list/06_list.extend/">list.extend<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/07_list.insert/" title="list.insert 插入一个元素" class="dd-item"><a href="/python/03_list/07_list.insert/">list.insert<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/08_list.sort/" title="list.sort 对列表原地排序" class="dd-item"><a href="/python/03_list/08_list.sort/">list.sort<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/09_list.reverse/" title="list.reverse 反转列表中元素" class="dd-item"><a href="/python/03_list/09_list.reverse/">list.reverse<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/10_list.pop/" title="list.pop 删除元素并返回" class="dd-item"><a href="/python/03_list/10_list.pop/">list.pop<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/11_list.remove/" title="list.remove 移除一个元素" class="dd-item"><a href="/python/03_list/11_list.remove/">list.remove<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/12_list.count/" title="list.count 统计元素出现次数" class="dd-item"><a href="/python/03_list/12_list.count/">list.count<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/13_list.index/" title="list.index 查找最小索引" class="dd-item"><a href="/python/03_list/13_list.index/">list.index<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/03_list/14_list.copy/" title="list.copy 列表的一个浅拷贝" class="dd-item"><a href="/python/03_list/14_list.copy/">list.copy<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/04_tuple/" title="元组概述" class="dd-item"><input type="checkbox" id="section-dc7ea79191f25dfd309c92b5e4905cab" class="toggle"/><label for="section-dc7ea79191f25dfd309c92b5e4905cab" ></label><a href="/python/04_tuple/">元组<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/04_tuple/02_tuple.count/" title="tuple.count 统计元素出现次数" class="dd-item"><a href="/python/04_tuple/02_tuple.count/">tuple.count<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/04_tuple/03_tuple.index/" title="tuple.index 查找元素索引" class="dd-item"><a href="/python/04_tuple/03_tuple.index/">tuple.index<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/04_tuple/04_operator/" title="元组操作符" class="dd-item"><a href="/python/04_tuple/04_operator/">元组操作符<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/05_sequence/" title="序列类型概述" class="dd-item"><input type="checkbox" id="section-b631793e0b67cf3997ee6b6ccb5a1018" class="toggle"/><label for="section-b631793e0b67cf3997ee6b6ccb5a1018" ></label><a href="/python/05_sequence/">序列<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/05_sequence/02_range/" title="range 对象" class="dd-item"><a href="/python/05_sequence/02_range/">range<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/05_sequence/03_index_slice/" title="序列索引和切片" class="dd-item"><a href="/python/05_sequence/03_index_slice/">序列索引和切片<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/05_sequence/04_common_operations/" title="序列通用操作" class="dd-item"><a href="/python/05_sequence/04_common_operations/">序列通用操作<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/06_set/" title="集合概述" class="dd-item"><input type="checkbox" id="section-c643fef3f2d56a8ad628665722912338" class="toggle"/><label for="section-c643fef3f2d56a8ad628665722912338" ></label><a href="/python/06_set/">集合<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/06_set/02_set.isdisjoint/" title="set.isdisjoint 交集为空吗？" class="dd-item"><a href="/python/06_set/02_set.isdisjoint/">set.isdisjoint<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/03_set.issubset/" title="set.issubset 是子集吗？" class="dd-item"><a href="/python/06_set/03_set.issubset/">set.issubset<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/04_set.issuperset/" title="set.issuperset 是超集吗？" class="dd-item"><a href="/python/06_set/04_set.issuperset/">set.issuperset<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/05_set.union/" title="set.union 并集" class="dd-item"><a href="/python/06_set/05_set.union/">set.union<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/06_set.intersection/" title="set.intersection 交集" class="dd-item"><a href="/python/06_set/06_set.intersection/">set.intersection<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/07_set.difference/" title="set.difference 差集" class="dd-item"><a href="/python/06_set/07_set.difference/">set.difference<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/08_set.symmetric_difference/" title="set.symmetric_difference 对称差" class="dd-item"><a href="/python/06_set/08_set.symmetric_difference/">set.symmetric_difference<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/09_set.copy/" title="set.copy 浅拷贝" class="dd-item"><a href="/python/06_set/09_set.copy/">set.copy<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/10_set.update/" title="set.update 合并更新" class="dd-item"><a href="/python/06_set/10_set.update/">set.update<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/11_set.intersection_update/" title="set.intersection_update 交集更新" class="dd-item"><a href="/python/06_set/11_set.intersection_update/">set.intersection_update<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/12_set.difference_update/" title="set.difference_update 差集更新" class="dd-item"><a href="/python/06_set/12_set.difference_update/">set.difference_update<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/13_set.symmetric_difference_update/" title="set ^= other 对称差集更新" class="dd-item"><a href="/python/06_set/13_set.symmetric_difference_update/">set ^= other<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/14_set.add/" title="set.add 添加元素" class="dd-item"><a href="/python/06_set/14_set.add/">set.add<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/15_set.remove/" title="set.remove 删除元素" class="dd-item"><a href="/python/06_set/15_set.remove/">set.remove<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/16_set.discard/" title="set.discard 删除元素" class="dd-item"><a href="/python/06_set/16_set.discard/">set.discard<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/17_set.pop/" title="set.pop 删除元素并返回" class="dd-item"><a href="/python/06_set/17_set.pop/">set.pop<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/06_set/18_set.clear/" title="set.clear 清空集合元素" class="dd-item"><a href="/python/06_set/18_set.clear/">set.clear<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/07_dictionary/" title="字典概述" class="dd-item"><input type="checkbox" id="section-6edd912ea63088ea7d421ba4a9a6b0c9" class="toggle"/><label for="section-6edd912ea63088ea7d421ba4a9a6b0c9" ></label><a href="/python/07_dictionary/">字典<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/07_dictionary/02_dict.keys/" title="dict.keys 键视图" class="dd-item"><a href="/python/07_dictionary/02_dict.keys/">dict.keys<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/03_dict.values/" title="dict.values 值视图" class="dd-item"><a href="/python/07_dictionary/03_dict.values/">dict.values<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/04_dict.items/" title="dict.items 键值对视图" class="dd-item"><a href="/python/07_dictionary/04_dict.items/">dict.items<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/05_dict.get/" title="dict.get 获取某个键的值" class="dd-item"><a href="/python/07_dictionary/05_dict.get/">dict.get<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/06_dict.copy/" title="dict.copy 浅拷贝" class="dd-item"><a href="/python/07_dictionary/06_dict.copy/">dict.copy<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/07_dict.pop/" title="dict.pop 删除元素并返回值" class="dd-item"><a href="/python/07_dictionary/07_dict.pop/">dict.pop<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/08_dict.popitem/" title="dict.popitem 删除元素并返回键值对" class="dd-item"><a href="/python/07_dictionary/08_dict.popitem/">dict.popitem<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/09_dict.fromkeys/" title="dict.fromkeys 创建字典" class="dd-item"><a href="/python/07_dictionary/09_dict.fromkeys/">dict.fromkeys<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/10_dict.clear/" title="dict.clear 清空字典元素" class="dd-item"><a href="/python/07_dictionary/10_dict.clear/">dict.clear<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/11_dict.setdefault/" title="dict.setdefault 获取或插入元素" class="dd-item"><a href="/python/07_dictionary/11_dict.setdefault/">dict.setdefault<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/12_dict.update/" title="dict.update 更新字典" class="dd-item"><a href="/python/07_dictionary/12_dict.update/">dict.update<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/13_loop_through/" title="字典遍历" class="dd-item"><a href="/python/07_dictionary/13_loop_through/">字典遍历<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/07_dictionary/14_operator/" title="字典操作符" class="dd-item"><a href="/python/07_dictionary/14_operator/">字典操作符<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/08_other_types/" title="生成器表达式和推导式" class="dd-item"><input type="checkbox" id="section-6dcb28ff486050e64e8c2098986ff9d6" class="toggle"/><label for="section-6dcb28ff486050e64e8c2098986ff9d6" ></label><a href="/python/08_other_types/">其他类型<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/08_other_types/01_none/" title="空值 None" class="dd-item"><a href="/python/08_other_types/01_none/">None<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/08_other_types/03_other_types/" title="其他内置类型" class="dd-item"><a href="/python/08_other_types/03_other_types/">其他内置类型<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/09_operator/" title="操作符概述" class="dd-item"><input type="checkbox" id="section-bf0c286771bede167ff18be220caecff" class="toggle"/><label for="section-bf0c286771bede167ff18be220caecff" ></label><a href="/python/09_operator/">操作符<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/09_operator/02_compare/" title="比较运算符" class="dd-item"><a href="/python/09_operator/02_compare/">比较运算符<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/09_operator/03_precedence/" title="操作符优先级" class="dd-item"><a href="/python/09_operator/03_precedence/">操作符优先级<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/09_operator/04_special/" title="操作符特殊用法" class="dd-item"><a href="/python/09_operator/04_special/">操作符特殊用法<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/10_statement/" title="表达式语句" class="dd-item"><input type="checkbox" id="section-64a5f0f51786f2cfc0f1a295e3568242" class="toggle"/><label for="section-64a5f0f51786f2cfc0f1a295e3568242" ></label><a href="/python/10_statement/">语句<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/10_statement/02_assignment/" title="赋值语句" class="dd-item"><a href="/python/10_statement/02_assignment/">赋值语句<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/03_if/" title="if" class="dd-item"><a href="/python/10_statement/03_if/">if<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/04_for/" title="for" class="dd-item"><a href="/python/10_statement/04_for/">for<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/05_while/" title="while" class="dd-item"><a href="/python/10_statement/05_while/">while<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/06_break/" title="break" class="dd-item"><a href="/python/10_statement/06_break/">break<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/07_continue/" title="continue" class="dd-item"><a href="/python/10_statement/07_continue/">continue<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/08_del/" title="del" class="dd-item"><a href="/python/10_statement/08_del/">del<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/09_pass/" title="pass" class="dd-item"><a href="/python/10_statement/09_pass/">pass<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/10_def/" title="def" class="dd-item"><a href="/python/10_statement/10_def/">def<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/11_return/" title="return" class="dd-item"><a href="/python/10_statement/11_return/">return<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/12_yield/" title="yield" class="dd-item"><a href="/python/10_statement/12_yield/">yield<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/13_class/" title="class 语句" class="dd-item"><a href="/python/10_statement/13_class/">class 语句<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/14_try/" title="try" class="dd-item"><a href="/python/10_statement/14_try/">try<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/15_raise/" title="raise" class="dd-item"><a href="/python/10_statement/15_raise/">raise<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/16_with/" title="with" class="dd-item"><a href="/python/10_statement/16_with/">with<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/17_assert/" title="assert" class="dd-item"><a href="/python/10_statement/17_assert/">assert<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/18_import/" title="import" class="dd-item"><a href="/python/10_statement/18_import/">import<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/19_global/" title="global" class="dd-item"><a href="/python/10_statement/19_global/">global<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/10_statement/20_nonlocal/" title="nonlocal" class="dd-item"><a href="/python/10_statement/20_nonlocal/">nonlocal<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/11_built-in_function/" title="abs() 数字取绝对值" class="dd-item"><input type="checkbox" id="section-c688daa3d748f201265692938123fc94" class="toggle"/><label for="section-c688daa3d748f201265692938123fc94" ></label><a href="/python/11_built-in_function/">内置函数<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/11_built-in_function/02_all/" title="all() 所有元素布尔值为真？" class="dd-item"><a href="/python/11_built-in_function/02_all/">all()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/03_any/" title="any() 有一个元素布尔值为真？" class="dd-item"><a href="/python/11_built-in_function/03_any/">any()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/04_ascii/" title="ascii() 返回对象的可打印字符串" class="dd-item"><a href="/python/11_built-in_function/04_ascii/">ascii()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/05_bin/" title="bin() 整数的二进制形式" class="dd-item"><a href="/python/11_built-in_function/05_bin/">bin()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/06_bool/" title="bool 返回对象的布尔值" class="dd-item"><a href="/python/11_built-in_function/06_bool/">bool<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/07_bytes/" title="bytes 创建 bytes 对象" class="dd-item"><a href="/python/11_built-in_function/07_bytes/">bytes<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/08_callable/" title="callable() 是可调用对象？" class="dd-item"><a href="/python/11_built-in_function/08_callable/">callable()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/09_chr/" title="chr() 返回 Unicode 码位值对应字符" class="dd-item"><a href="/python/11_built-in_function/09_chr/">chr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/10_classmethod/" title="classmethod 封装函数为类方法" class="dd-item"><a href="/python/11_built-in_function/10_classmethod/">classmethod<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/11_compile/" title="compile() 创建代码对象" class="dd-item"><a href="/python/11_built-in_function/11_compile/">compile()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/12_complex/" title="complex 创建复数" class="dd-item"><a href="/python/11_built-in_function/12_complex/">complex<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/13_delattr/" title="delattr() 删除对象属性" class="dd-item"><a href="/python/11_built-in_function/13_delattr/">delattr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/14_dict/" title="dict 创建字典" class="dd-item"><a href="/python/11_built-in_function/14_dict/">dict<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/15_dir/" title="dir() 返回对象属性列表" class="dd-item"><a href="/python/11_built-in_function/15_dir/">dir()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/16_divmod/" title="divmod() 求两个数的商和余" class="dd-item"><a href="/python/11_built-in_function/16_divmod/">divmod()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/17_enumerate/" title="enumerate 枚举" class="dd-item"><a href="/python/11_built-in_function/17_enumerate/">enumerate<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/18_eval/" title="eval() 解析字符串或代码并求值" class="dd-item"><a href="/python/11_built-in_function/18_eval/">eval()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/19_exec/" title="exec() 解析字符串或代码并求值" class="dd-item"><a href="/python/11_built-in_function/19_exec/">exec()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/20_filter/" title="filter 真值元素筛选" class="dd-item"><a href="/python/11_built-in_function/20_filter/">filter<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/21_float/" title="float 创建浮点数" class="dd-item"><a href="/python/11_built-in_function/21_float/">float<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/22_format/" title="format() 格式化" class="dd-item"><a href="/python/11_built-in_function/22_format/">format()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/23_frozenset/" title="frozenset 创建不可变集合" class="dd-item"><a href="/python/11_built-in_function/23_frozenset/">frozenset<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/24_getattr/" title="getattr() 获取对象的属性" class="dd-item"><a href="/python/11_built-in_function/24_getattr/">getattr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/25_globals/" title="globals() 返回全局变量字典" class="dd-item"><a href="/python/11_built-in_function/25_globals/">globals()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/26_hasattr/" title="hasattr() 是对象的属性吗？" class="dd-item"><a href="/python/11_built-in_function/26_hasattr/">hasattr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/27_hash/" title="hash() 返回对象的哈希值" class="dd-item"><a href="/python/11_built-in_function/27_hash/">hash()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/28_help/" title="help 启动帮助系统" class="dd-item"><a href="/python/11_built-in_function/28_help/">help<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/29_hex/" title="hex() 整数的十六进制形式" class="dd-item"><a href="/python/11_built-in_function/29_hex/">hex()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/30_id/" title="id() 返回对象的唯一标识" class="dd-item"><a href="/python/11_built-in_function/30_id/">id()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/31_input/" title="input() 接受输入返回字符串" class="dd-item"><a href="/python/11_built-in_function/31_input/">input()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/32_int/" title="int 创建整数" class="dd-item"><a href="/python/11_built-in_function/32_int/">int<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/33_isinstance/" title="isinstance() 是给定类的实例？" class="dd-item"><a href="/python/11_built-in_function/33_isinstance/">isinstance()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/34_issubclass/" title="issubclass() 是给定类的子类吗？" class="dd-item"><a href="/python/11_built-in_function/34_issubclass/">issubclass()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/35_iter/" title="iter() 转迭代器" class="dd-item"><a href="/python/11_built-in_function/35_iter/">iter()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/36_len/" title="len() 返回元素个数" class="dd-item"><a href="/python/11_built-in_function/36_len/">len()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/37_list/" title="list 创建列表" class="dd-item"><a href="/python/11_built-in_function/37_list/">list<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/38_locals/" title="locals() 返回局部变量的字典" class="dd-item"><a href="/python/11_built-in_function/38_locals/">locals()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/39_map/" title="map 以给定函数转换元素" class="dd-item"><a href="/python/11_built-in_function/39_map/">map<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/40_max/" title="max() 求最大项" class="dd-item"><a href="/python/11_built-in_function/40_max/">max()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/41_min/" title="min() 求最小项" class="dd-item"><a href="/python/11_built-in_function/41_min/">min()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/42_next/" title="next() 返回迭代器下一个元素" class="dd-item"><a href="/python/11_built-in_function/42_next/">next()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/43_object/" title="object 所有类的基类" class="dd-item"><a href="/python/11_built-in_function/43_object/">object<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/44_oct/" title="oct() 整数的八进制形式" class="dd-item"><a href="/python/11_built-in_function/44_oct/">oct()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/45_open/" title="open() 打开文件" class="dd-item"><a href="/python/11_built-in_function/45_open/">open()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/46_ord/" title="ord() 返回单个字符 Unicode 码位值" class="dd-item"><a href="/python/11_built-in_function/46_ord/">ord()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/47_pow/" title="pow() 幂运算并取余" class="dd-item"><a href="/python/11_built-in_function/47_pow/">pow()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/48_print/" title="print()" class="dd-item"><a href="/python/11_built-in_function/48_print/">print()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/49_property/" title="property 返回 property 属性" class="dd-item"><a href="/python/11_built-in_function/49_property/">property<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/50_range/" title="range 创建 range 序列" class="dd-item"><a href="/python/11_built-in_function/50_range/">range<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/51_repr/" title="repr() 返回对象的可打印字符串" class="dd-item"><a href="/python/11_built-in_function/51_repr/">repr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/52_reversed/" title="reversed 序列逆置" class="dd-item"><a href="/python/11_built-in_function/52_reversed/">reversed<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/53_round/" title="round() 数字舍入" class="dd-item"><a href="/python/11_built-in_function/53_round/">round()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/54_set/" title="set 创建集合" class="dd-item"><a href="/python/11_built-in_function/54_set/">set<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/55_setattr/" title="setattr() 设置或新增属性" class="dd-item"><a href="/python/11_built-in_function/55_setattr/">setattr()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/56_slice/" title="slice 创建切片对象" class="dd-item"><a href="/python/11_built-in_function/56_slice/">slice<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/57_sorted/" title="sorted() 返回排序列表" class="dd-item"><a href="/python/11_built-in_function/57_sorted/">sorted()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/58_staticmethod/" title="staticmethod 封装函数为静态方法" class="dd-item"><a href="/python/11_built-in_function/58_staticmethod/">staticmethod<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/59_str/" title="str 创建字符串" class="dd-item"><a href="/python/11_built-in_function/59_str/">str<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/60_sum/" title="sum() 数字求和或序列拼接" class="dd-item"><a href="/python/11_built-in_function/60_sum/">sum()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/61_super/" title="super 调用委托给父类或兄弟类" class="dd-item"><a href="/python/11_built-in_function/61_super/">super<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/62_tuple/" title="tuple 创建元组" class="dd-item"><a href="/python/11_built-in_function/62_tuple/">tuple<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/63_type/" title="type 判断类型或创建类" class="dd-item"><a href="/python/11_built-in_function/63_type/">type<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/64_vars/" title="vars() 返回对象的变量字典" class="dd-item"><a href="/python/11_built-in_function/64_vars/">vars()<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/11_built-in_function/65_zip/" title="zip 重组可迭代对象" class="dd-item"><a href="/python/11_built-in_function/65_zip/">zip<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/12_function/" title="函数概述" class="dd-item"><input type="checkbox" id="section-e6b48a8a67c6f7ff797a323f6568f234" class="toggle"/><label for="section-e6b48a8a67c6f7ff797a323f6568f234" ></label><a href="/python/12_function/">函数<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/12_function/02_function_definition/" title="函数定义" class="dd-item"><a href="/python/12_function/02_function_definition/">函数定义<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/03_formal_parameter/" title="函数形参" class="dd-item"><a href="/python/12_function/03_formal_parameter/">函数形参<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/04_return_value/" title="函数返回值" class="dd-item"><a href="/python/12_function/04_return_value/">函数返回值<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/05_recursion/" title="递归函数" class="dd-item"><a href="/python/12_function/05_recursion/">递归函数<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/06_doc/" title="函数文档" class="dd-item"><a href="/python/12_function/06_doc/">函数文档<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/07_function_call/" title="函数调用" class="dd-item"><a href="/python/12_function/07_function_call/">函数调用<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/08_lambda/" title="lambda 函数" class="dd-item"><a href="/python/12_function/08_lambda/">lambda 函数<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/12_function/09_generator/" title="生成器函数" class="dd-item"><a href="/python/12_function/09_generator/">生成器函数<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/13_exception/" title="错误和异常" class="dd-item"><input type="checkbox" id="section-bc4f4d42c44eaf0579ed86ae2d0d51db" class="toggle"/><label for="section-bc4f4d42c44eaf0579ed86ae2d0d51db" ></label><a href="/python/13_exception/">错误和异常<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/13_exception/02_handling/" title="处理异常" class="dd-item"><a href="/python/13_exception/02_handling/">处理异常<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/13_exception/03_raising/" title="抛出异常" class="dd-item"><a href="/python/13_exception/03_raising/">抛出异常<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/13_exception/04_user_defined/" title="自定义异常" class="dd-item"><a href="/python/13_exception/04_user_defined/">自定义异常<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/13_exception/05_finally/" title="finally 清理操作" class="dd-item"><a href="/python/13_exception/05_finally/">finally<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/14_file/" title="文件对象概述" class="dd-item"><input type="checkbox" id="section-e195820c7e4bf396e327bfb0a46a50f9" class="toggle"/><label for="section-e195820c7e4bf396e327bfb0a46a50f9" ></label><a href="/python/14_file/">文件<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/14_file/02_read/" title="读取文件内容" class="dd-item"><a href="/python/14_file/02_read/">读取文件内容<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/14_file/03_write/" title="文件写入内容" class="dd-item"><a href="/python/14_file/03_write/">文件写入内容<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/15_module/" title="模块概述" class="dd-item"><input type="checkbox" id="section-4385ec01f3a88bacfccd61dd3520ad8b" class="toggle"/><label for="section-4385ec01f3a88bacfccd61dd3520ad8b" ></label><a href="/python/15_module/">模块<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/15_module/02_create_module/" title="创建模块" class="dd-item"><a href="/python/15_module/02_create_module/">创建模块<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/15_module/04_executable_file/" title="可执行文件" class="dd-item"><a href="/python/15_module/04_executable_file/">可执行文件<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/15_module/05_import_code/" title="导入操作" class="dd-item"><a href="/python/15_module/05_import_code/">导入操作<i class="fas fa-check read-icon"></i></a></li></ul></li>
          <li data-nav-id="/python/16_class/" title="面向对象概述" class="dd-item"><input type="checkbox" id="section-1462fcc8311b5f31727642b5a438fc6d" class="toggle"/><label for="section-1462fcc8311b5f31727642b5a438fc6d" ></label><a href="/python/16_class/">面向对象<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/python/16_class/02_class_definition/" title="类定义" class="dd-item"><a href="/python/16_class/02_class_definition/">类定义<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/03_instance/" title="实例" class="dd-item"><a href="/python/16_class/03_instance/">实例<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/04_object/" title="对象" class="dd-item"><a href="/python/16_class/04_object/">对象<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/05_name/" title="名称" class="dd-item"><a href="/python/16_class/05_name/">名称<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/06_variable/" title="变量" class="dd-item"><a href="/python/16_class/06_variable/">变量<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/07_attribute/" title="属性" class="dd-item"><a href="/python/16_class/07_attribute/">属性<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/08_method/" title="方法" class="dd-item"><a href="/python/16_class/08_method/">方法<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/09_namespace/" title="命名空间" class="dd-item"><a href="/python/16_class/09_namespace/">命名空间<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/10_scope/" title="作用域" class="dd-item"><a href="/python/16_class/10_scope/">作用域<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/11_create_instance/" title="创建实例" class="dd-item"><a href="/python/16_class/11_create_instance/">创建实例<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/12_attribute_operation/" title="属性操作" class="dd-item"><a href="/python/16_class/12_attribute_operation/">属性操作<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/13_method_operation/" title="方法操作" class="dd-item"><a href="/python/16_class/13_method_operation/">方法操作<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/python/16_class/14_inheritance/" title="类继承" class="dd-item"><a href="/python/16_class/14_inheritance/">类继承<i class="fas fa-check read-icon"></i></a></li></ul></li></ul></li>
          <li data-nav-id="/regex/" title="通俗易懂 Python 正则表达式" class="dd-item"><a href="/regex/">正则表达式<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/numpy/" title="Numpy 基础快速了解和查询" class="dd-item"><a href="/numpy/">Numpy<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/pandas/" title="Pandas 基础快速了解和查询" class="dd-item active"><a href="/pandas/">Pandas<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/matplotlib/" title="Matpotlib 快速入门" class="dd-item"><a href="/matplotlib/">Matpotlib<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/" title="数理统计、机器学习入门" class="dd-item"><input type="checkbox" id="section-7311b56f8e68ee915dd2e657bac269ed" class="toggle"/><label for="section-7311b56f8e68ee915dd2e657bac269ed" ></label><a href="/statistics/">机器学习入门<i class="fas fa-check read-icon"></i></a><ul>
          <li data-nav-id="/statistics/statistics1/" title="描述统计" class="dd-item"><a href="/statistics/statistics1/">描述统计<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics2/" title="推断统计" class="dd-item"><a href="/statistics/statistics2/">推断统计<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics3/" title="线性回归" class="dd-item"><a href="/statistics/statistics3/">线性回归<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics4/" title="逻辑回归" class="dd-item"><a href="/statistics/statistics4/">逻辑回归<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics5/" title="分类模型评估" class="dd-item"><a href="/statistics/statistics5/">分类模型评估<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics6/" title="KNN 算法" class="dd-item"><a href="/statistics/statistics6/">KNN 算法<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics7/" title="朴素贝叶斯" class="dd-item"><a href="/statistics/statistics7/">朴素贝叶斯<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics8/" title="决策树" class="dd-item"><a href="/statistics/statistics8/">决策树<i class="fas fa-check read-icon"></i></a></li>
          <li data-nav-id="/statistics/statistics9/" title="K-Means 算法" class="dd-item"><a href="/statistics/statistics9/">K-Means 算法<i class="fas fa-check read-icon"></i></a></li></ul></li>
        </ul>
        <div id="shortcuts">
          <div class="nav-title">更多</div>
          <ul>
            <li><a class="padding" href="/about">关注我</a></li>
          </ul>
        </div>
        <div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"></div>
        <hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showVisitedLinks showFooter"/>
        <div id="prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks showVisitedLinks">
          <ul>
            <li id="select-language-container" class="footerLangSwitch">
              <a class="padding select-container">
                <i class="fas fa-language fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <select id="select-language" onchange="location = baseUri + this.value;">
                  </select>
                </div>
                <div class="select-clear"></div>
              </a>
            </li>
            <li id="select-variant-container" class="footerVariantSwitch">
              <a class="padding select-container">
                <i class="fas fa-paint-brush fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <select id="select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                    <option id="blue" value="blue" selected>Blue</option>
                  </select>
                </div>
                <div class="select-clear"></div>
              </a>
              <script>window.variants && variants.markSelectedVariant();</script>
            </li>
            <li class="footerVisitedLinks showVisitedLinks"><a class="padding" onclick="clearHistory();"><i class="fas fa-history fa-fw"></i> 清理历史记录</a></li>
          </ul>
        </div>
        <div id="footer" class="footerFooter showFooter">       <p><a href="https://aiart.website/">🏠明文视界 AI 资源站 </a></p>
      <p><a href="https://jupyter.fun/"> 🏠明文 AI 编程</a>
      <p><a href="https://wuhao.online"></a> 🏠MWAI.Studio</a></p>
      <p>©2025 <img src="/MW.png" ></a> 明文</a></p>
        </div>
      </div>
    </aside>
    <script src="/js/clipboard.min.js?1744729038" defer></script>
    <script src="/js/perfect-scrollbar.min.js?1744729038" defer></script>
    <script src="/js/featherlight.min.js?1744729038" defer></script>
    <script>
      function useMathJax( config ){
        if( !Object.assign ){
          
          return;
        }
        window.MathJax = Object.assign( window.MathJax || {}, {
          loader: {
            load: ['[tex]/mhchem']
          },
          startup: {
            elements: [
              '.math'
            ]
          },
          tex: {
            inlineMath: [
              ['$', '$'], 
              ['\\(', '\\)']
            ]
          },
          options: {
            enableMenu: false 
          }
        }, config );
      }
      useMathJax( JSON.parse("{}") );
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="/js/jquery.svg.pan.zoom.js?1744729038" defer></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js" defer></script>
    <script>
      window.themeUseMermaid = JSON.parse("{ \"theme\": \"default\" }");
    </script>
    <script src="https://unpkg.com/rapidoc/dist/rapidoc-min.js" defer></script>
    <script>
      window.themeUseSwagger = JSON.parse("{ \"theme\": \"light\" }");
    </script>
    <script src="/js/theme.js?1744729038" defer></script>
  </body>
</html>
